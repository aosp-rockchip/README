From 4bb8de2238c548acfd6d5b46f1ce254c8e603608 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?=E9=BB=84=E6=B6=9B?= <huangtao@rock-chips.com>
Date: Thu, 23 Aug 2012 10:39:29 +0800
Subject: [PATCH] rk29: remove newton board support

---
 arch/arm/configs/rk29_newton_defconfig        | 2371 ----------------
 arch/arm/mach-rk29/Kconfig                    |   12 -
 arch/arm/mach-rk29/Makefile                   |    1 -
 arch/arm/mach-rk29/board-newton-rfkill.c      |  296 --
 arch/arm/mach-rk29/board-rk29-newton-key.c    |   60 -
 arch/arm/mach-rk29/board-rk29-newton.c        | 2373 -----------------
 drivers/input/keyboard/Kconfig                |    6 -
 drivers/input/keyboard/Makefile               |    1 -
 drivers/input/keyboard/rk29_newton_keys.c     |  411 ---
 drivers/leds/Kconfig                          |    8 -
 drivers/leds/Makefile                         |    1 -
 drivers/leds/leds-newton-pwm.c                |  304 ---
 drivers/misc/Kconfig                          |    4 -
 drivers/misc/Makefile                         |    1 -
 drivers/misc/newton.c                         |  283 --
 drivers/video/backlight/Kconfig               |    6 -
 drivers/video/backlight/Makefile              |    1 -
 .../video/backlight/rk29_newton_backlight.c   |  276 --
 18 files changed, 6415 deletions(-)
 delete mode 100644 arch/arm/configs/rk29_newton_defconfig
 delete mode 100644 arch/arm/mach-rk29/board-newton-rfkill.c
 delete mode 100644 arch/arm/mach-rk29/board-rk29-newton-key.c
 delete mode 100755 arch/arm/mach-rk29/board-rk29-newton.c
 delete mode 100644 drivers/input/keyboard/rk29_newton_keys.c
 delete mode 100755 drivers/leds/leds-newton-pwm.c
 delete mode 100755 drivers/misc/newton.c
 delete mode 100644 drivers/video/backlight/rk29_newton_backlight.c

diff --git a/arch/arm/configs/rk29_newton_defconfig b/arch/arm/configs/rk29_newton_defconfig
deleted file mode 100644
index 0636befd0e8e..000000000000
--- a/arch/arm/configs/rk29_newton_defconfig
+++ /dev/null
@@ -1,2371 +0,0 @@
-#
-# Automatically generated make config: don't edit
-# Linux kernel version: 2.6.32.27
-# Thu Sep  1 11:02:10 2011
-#
-CONFIG_ARM=y
-CONFIG_SYS_SUPPORTS_APM_EMULATION=y
-CONFIG_HAVE_SCHED_CLOCK=y
-CONFIG_GENERIC_GPIO=y
-CONFIG_GENERIC_TIME=y
-CONFIG_GENERIC_CLOCKEVENTS=y
-CONFIG_GENERIC_HARDIRQS=y
-CONFIG_STACKTRACE_SUPPORT=y
-CONFIG_HAVE_LATENCYTOP_SUPPORT=y
-CONFIG_LOCKDEP_SUPPORT=y
-CONFIG_TRACE_IRQFLAGS_SUPPORT=y
-CONFIG_HARDIRQS_SW_RESEND=y
-CONFIG_GENERIC_IRQ_PROBE=y
-CONFIG_RWSEM_GENERIC_SPINLOCK=y
-CONFIG_ARCH_HAS_CPUFREQ=y
-CONFIG_GENERIC_HWEIGHT=y
-CONFIG_GENERIC_CALIBRATE_DELAY=y
-CONFIG_ZONE_DMA=y
-CONFIG_GENERIC_HARDIRQS_NO__DO_IRQ=y
-CONFIG_VECTORS_BASE=0xffff0000
-CONFIG_DEFCONFIG_LIST="/lib/modules/$UNAME_RELEASE/.config"
-CONFIG_CONSTRUCTORS=y
-
-#
-# General setup
-#
-CONFIG_EXPERIMENTAL=y
-CONFIG_BROKEN_ON_SMP=y
-CONFIG_LOCK_KERNEL=y
-CONFIG_INIT_ENV_ARG_LIMIT=32
-CONFIG_LOCALVERSION=""
-# CONFIG_LOCALVERSION_AUTO is not set
-CONFIG_HAVE_KERNEL_GZIP=y
-CONFIG_HAVE_KERNEL_LZO=y
-# CONFIG_KERNEL_GZIP is not set
-# CONFIG_KERNEL_BZIP2 is not set
-# CONFIG_KERNEL_LZMA is not set
-CONFIG_KERNEL_LZO=y
-# CONFIG_SWAP is not set
-# CONFIG_SYSVIPC is not set
-# CONFIG_POSIX_MQUEUE is not set
-# CONFIG_BSD_PROCESS_ACCT is not set
-# CONFIG_TASKSTATS is not set
-# CONFIG_AUDIT is not set
-
-#
-# RCU Subsystem
-#
-CONFIG_TREE_RCU=y
-# CONFIG_TREE_PREEMPT_RCU is not set
-# CONFIG_RCU_TRACE is not set
-CONFIG_RCU_FANOUT=32
-# CONFIG_RCU_FANOUT_EXACT is not set
-# CONFIG_TREE_RCU_TRACE is not set
-# CONFIG_IKCONFIG is not set
-CONFIG_LOG_BUF_SHIFT=19
-CONFIG_CGROUPS=y
-CONFIG_CGROUP_DEBUG=y
-# CONFIG_CGROUP_NS is not set
-CONFIG_CGROUP_FREEZER=y
-# CONFIG_CGROUP_DEVICE is not set
-# CONFIG_CPUSETS is not set
-CONFIG_CGROUP_CPUACCT=y
-CONFIG_RESOURCE_COUNTERS=y
-# CONFIG_CGROUP_MEM_RES_CTLR is not set
-CONFIG_CGROUP_SCHED=y
-CONFIG_FAIR_GROUP_SCHED=y
-CONFIG_RT_GROUP_SCHED=y
-# CONFIG_SYSFS_DEPRECATED_V2 is not set
-# CONFIG_RELAY is not set
-# CONFIG_NAMESPACES is not set
-CONFIG_BLK_DEV_INITRD=y
-CONFIG_INITRAMFS_SOURCE=""
-CONFIG_RD_GZIP=y
-# CONFIG_RD_BZIP2 is not set
-# CONFIG_RD_LZMA is not set
-CONFIG_CC_OPTIMIZE_FOR_SIZE=y
-CONFIG_SYSCTL=y
-CONFIG_ANON_INODES=y
-CONFIG_PANIC_TIMEOUT=5
-CONFIG_EMBEDDED=y
-CONFIG_UID16=y
-# CONFIG_SYSCTL_SYSCALL is not set
-CONFIG_KALLSYMS=y
-# CONFIG_KALLSYMS_ALL is not set
-# CONFIG_KALLSYMS_EXTRA_PASS is not set
-CONFIG_HOTPLUG=y
-CONFIG_PRINTK=y
-CONFIG_BUG=y
-# CONFIG_ELF_CORE is not set
-CONFIG_BASE_FULL=y
-CONFIG_FUTEX=y
-CONFIG_EPOLL=y
-CONFIG_SIGNALFD=y
-CONFIG_TIMERFD=y
-CONFIG_EVENTFD=y
-CONFIG_SHMEM=y
-CONFIG_ASHMEM=y
-CONFIG_AIO=y
-
-#
-# Kernel Performance Events And Counters
-#
-CONFIG_VM_EVENT_COUNTERS=y
-CONFIG_COMPAT_BRK=y
-CONFIG_SLAB=y
-# CONFIG_SLUB is not set
-# CONFIG_SLOB is not set
-# CONFIG_PROFILING is not set
-CONFIG_HAVE_OPROFILE=y
-# CONFIG_KPROBES is not set
-CONFIG_HAVE_KPROBES=y
-CONFIG_HAVE_KRETPROBES=y
-CONFIG_HAVE_CLK=y
-
-#
-# GCOV-based kernel profiling
-#
-# CONFIG_SLOW_WORK is not set
-CONFIG_HAVE_GENERIC_DMA_COHERENT=y
-CONFIG_SLABINFO=y
-CONFIG_RT_MUTEXES=y
-CONFIG_BASE_SMALL=0
-CONFIG_MODULES=y
-# CONFIG_MODULE_FORCE_LOAD is not set
-CONFIG_MODULE_UNLOAD=y
-CONFIG_MODULE_FORCE_UNLOAD=y
-# CONFIG_MODVERSIONS is not set
-# CONFIG_MODULE_SRCVERSION_ALL is not set
-CONFIG_BLOCK=y
-# CONFIG_LBDAF is not set
-# CONFIG_BLK_DEV_BSG is not set
-# CONFIG_BLK_DEV_INTEGRITY is not set
-
-#
-# IO Schedulers
-#
-CONFIG_IOSCHED_NOOP=y
-# CONFIG_IOSCHED_AS is not set
-# CONFIG_IOSCHED_DEADLINE is not set
-CONFIG_IOSCHED_CFQ=y
-# CONFIG_DEFAULT_AS is not set
-# CONFIG_DEFAULT_DEADLINE is not set
-CONFIG_DEFAULT_CFQ=y
-# CONFIG_DEFAULT_NOOP is not set
-CONFIG_DEFAULT_IOSCHED="cfq"
-CONFIG_FREEZER=y
-
-#
-# System Type
-#
-CONFIG_MMU=y
-# CONFIG_ARCH_AAEC2000 is not set
-# CONFIG_ARCH_INTEGRATOR is not set
-# CONFIG_ARCH_REALVIEW is not set
-# CONFIG_ARCH_VERSATILE is not set
-# CONFIG_ARCH_AT91 is not set
-# CONFIG_ARCH_CLPS711X is not set
-# CONFIG_ARCH_GEMINI is not set
-# CONFIG_ARCH_EBSA110 is not set
-# CONFIG_ARCH_EP93XX is not set
-# CONFIG_ARCH_FOOTBRIDGE is not set
-# CONFIG_ARCH_MXC is not set
-# CONFIG_ARCH_STMP3XXX is not set
-# CONFIG_ARCH_NETX is not set
-# CONFIG_ARCH_H720X is not set
-# CONFIG_ARCH_NOMADIK is not set
-# CONFIG_ARCH_IOP13XX is not set
-# CONFIG_ARCH_IOP32X is not set
-# CONFIG_ARCH_IOP33X is not set
-# CONFIG_ARCH_IXP23XX is not set
-# CONFIG_ARCH_IXP2000 is not set
-# CONFIG_ARCH_IXP4XX is not set
-# CONFIG_ARCH_L7200 is not set
-# CONFIG_ARCH_KIRKWOOD is not set
-# CONFIG_ARCH_LOKI is not set
-# CONFIG_ARCH_MV78XX0 is not set
-# CONFIG_ARCH_ORION5X is not set
-# CONFIG_ARCH_MMP is not set
-# CONFIG_ARCH_KS8695 is not set
-# CONFIG_ARCH_NS9XXX is not set
-# CONFIG_ARCH_W90X900 is not set
-# CONFIG_ARCH_PNX4008 is not set
-# CONFIG_ARCH_PXA is not set
-# CONFIG_ARCH_MSM is not set
-# CONFIG_ARCH_RPC is not set
-# CONFIG_ARCH_SA1100 is not set
-# CONFIG_ARCH_S3C2410 is not set
-# CONFIG_ARCH_S3C64XX is not set
-# CONFIG_ARCH_S5PC1XX is not set
-# CONFIG_ARCH_SHARK is not set
-# CONFIG_ARCH_LH7A40X is not set
-# CONFIG_ARCH_U300 is not set
-# CONFIG_ARCH_DAVINCI is not set
-# CONFIG_ARCH_OMAP is not set
-# CONFIG_ARCH_BCMRING is not set
-CONFIG_ARCH_RK29=y
-# CONFIG_MACH_RK29SDK is not set
-# CONFIG_MACH_RK29SDK_DDR3 is not set
-# CONFIG_MACH_RK29WINACCORD is not set
-# CONFIG_MACH_RK29FIH is not set
-# CONFIG_MACH_RK29_MALATA is not set
-# CONFIG_MACH_RK29_PHONESDK is not set
-# CONFIG_MACH_RK29_A22 is not set
-# CONFIG_MACH_RK29_PHONEPADSDK is not set
-CONFIG_MACH_RK29_newton=y
-# CONFIG_MACH_RK29_P91 is not set
-CONFIG_RK29_NEWTON_CLOCK=y
-# CONFIG_DDR_TYPE_DDRII is not set
-# CONFIG_DDR_TYPE_LPDDR is not set
-# CONFIG_DDR_TYPE_DDR3_800D is not set
-# CONFIG_DDR_TYPE_DDR3_800E is not set
-# CONFIG_DDR_TYPE_DDR3_1066E is not set
-# CONFIG_DDR_TYPE_DDR3_1066F is not set
-# CONFIG_DDR_TYPE_DDR3_1066G is not set
-# CONFIG_DDR_TYPE_DDR3_1333F is not set
-# CONFIG_DDR_TYPE_DDR3_1333G is not set
-# CONFIG_DDR_TYPE_DDR3_1333H is not set
-# CONFIG_DDR_TYPE_DDR3_1333J is not set
-# CONFIG_DDR_TYPE_DDR3_1600G is not set
-# CONFIG_DDR_TYPE_DDR3_1600H is not set
-# CONFIG_DDR_TYPE_DDR3_1600J is not set
-# CONFIG_DDR_TYPE_DDR3_1600K is not set
-# CONFIG_DDR_TYPE_DDR3_1866J is not set
-# CONFIG_DDR_TYPE_DDR3_1866K is not set
-# CONFIG_DDR_TYPE_DDR3_1866L is not set
-# CONFIG_DDR_TYPE_DDR3_1866M is not set
-# CONFIG_DDR_TYPE_DDR3_2133K is not set
-# CONFIG_DDR_TYPE_DDR3_2133L is not set
-# CONFIG_DDR_TYPE_DDR3_2133M is not set
-# CONFIG_DDR_TYPE_DDR3_2133N is not set
-CONFIG_DDR_TYPE_DDR3_DEFAULT=y
-CONFIG_RK29_MEM_SIZE_M=512
-CONFIG_DDR_SDRAM_FREQ=400
-# CONFIG_DDR_FREQ is not set
-# CONFIG_DDR_RECONFIG is not set
-CONFIG_WIFI_CONTROL_FUNC=y
-
-#
-# RK29 VPU (Video Processing Unit) support
-#
-CONFIG_RK29_VPU=y
-CONFIG_RK29_VPU_SERVICE=y
-# CONFIG_RK29_VPU_DEBUG is not set
-CONFIG_RK29_JTAG=y
-CONFIG_RK29_LAST_LOG=y
-
-#
-# support for RK29 power manage 
-#
-# CONFIG_RK29_WORKING_POWER_MANAGEMENT is not set
-# CONFIG_RK29_CLK_SWITCH_TO_32K is not set
-# CONFIG_RK29_GPIO_SUSPEND is not set
-CONFIG_RK29_PWM_INSRAM=y
-
-#
-# Processor Type
-#
-CONFIG_CPU_32=y
-CONFIG_CPU_32v6K=y
-CONFIG_CPU_V7=y
-CONFIG_CPU_32v7=y
-CONFIG_CPU_ABRT_EV7=y
-CONFIG_CPU_PABRT_V7=y
-CONFIG_CPU_CACHE_V7=y
-CONFIG_CPU_CACHE_VIPT=y
-CONFIG_CPU_COPY_V6=y
-CONFIG_CPU_TLB_V7=y
-CONFIG_CPU_HAS_ASID=y
-CONFIG_CPU_CP15=y
-CONFIG_CPU_CP15_MMU=y
-
-#
-# Processor Features
-#
-CONFIG_ARM_THUMB=y
-CONFIG_ARM_THUMBEE=y
-# CONFIG_CPU_ICACHE_DISABLE is not set
-# CONFIG_CPU_DCACHE_DISABLE is not set
-# CONFIG_CPU_BPREDICT_DISABLE is not set
-CONFIG_HAS_TLS_REG=y
-CONFIG_ARM_L1_CACHE_SHIFT=6
-# CONFIG_ARM_ERRATA_430973 is not set
-# CONFIG_ARM_ERRATA_458693 is not set
-# CONFIG_ARM_ERRATA_460075 is not set
-CONFIG_ARM_GIC=y
-CONFIG_PL330=y
-CONFIG_COMMON_CLKDEV=y
-
-#
-# Bus support
-#
-# CONFIG_PCI_SYSCALL is not set
-# CONFIG_ARCH_SUPPORTS_MSI is not set
-# CONFIG_PCCARD is not set
-
-#
-# Kernel Features
-#
-CONFIG_TICK_ONESHOT=y
-CONFIG_NO_HZ=y
-CONFIG_HIGH_RES_TIMERS=y
-CONFIG_GENERIC_CLOCKEVENTS_BUILD=y
-CONFIG_VMSPLIT_3G=y
-# CONFIG_VMSPLIT_2G is not set
-# CONFIG_VMSPLIT_1G is not set
-CONFIG_PAGE_OFFSET=0xC0000000
-# CONFIG_PREEMPT_NONE is not set
-# CONFIG_PREEMPT_VOLUNTARY is not set
-CONFIG_PREEMPT=y
-CONFIG_HZ=100
-# CONFIG_THUMB2_KERNEL is not set
-CONFIG_AEABI=y
-# CONFIG_OABI_COMPAT is not set
-# CONFIG_ARCH_SPARSEMEM_DEFAULT is not set
-# CONFIG_ARCH_SELECT_MEMORY_MODEL is not set
-CONFIG_HIGHMEM=y
-# CONFIG_HIGHPTE is not set
-CONFIG_SELECT_MEMORY_MODEL=y
-CONFIG_FLATMEM_MANUAL=y
-# CONFIG_DISCONTIGMEM_MANUAL is not set
-# CONFIG_SPARSEMEM_MANUAL is not set
-CONFIG_FLATMEM=y
-CONFIG_FLAT_NODE_MEM_MAP=y
-CONFIG_PAGEFLAGS_EXTENDED=y
-CONFIG_SPLIT_PTLOCK_CPUS=4
-# CONFIG_PHYS_ADDR_T_64BIT is not set
-CONFIG_ZONE_DMA_FLAG=1
-CONFIG_BOUNCE=y
-CONFIG_VIRT_TO_BUS=y
-CONFIG_HAVE_MLOCK=y
-CONFIG_HAVE_MLOCKED_PAGE_BIT=y
-# CONFIG_KSM is not set
-CONFIG_DEFAULT_MMAP_MIN_ADDR=32768
-CONFIG_ALIGNMENT_TRAP=y
-# CONFIG_UACCESS_WITH_MEMCPY is not set
-
-#
-# Boot options
-#
-CONFIG_ZBOOT_ROM_TEXT=0
-CONFIG_ZBOOT_ROM_BSS=0
-CONFIG_CMDLINE=""
-# CONFIG_XIP_KERNEL is not set
-CONFIG_KEXEC=y
-CONFIG_ATAGS_PROC=y
-
-#
-# CPU Power Management
-#
-CONFIG_CPU_FREQ=y
-CONFIG_CPU_FREQ_TABLE=y
-# CONFIG_CPU_FREQ_DEBUG is not set
-CONFIG_CPU_FREQ_STAT=y
-CONFIG_CPU_FREQ_STAT_DETAILS=y
-# CONFIG_CPU_FREQ_DEFAULT_GOV_PERFORMANCE is not set
-# CONFIG_CPU_FREQ_DEFAULT_GOV_POWERSAVE is not set
-# CONFIG_CPU_FREQ_DEFAULT_GOV_USERSPACE is not set
-CONFIG_CPU_FREQ_DEFAULT_GOV_ONDEMAND=y
-# CONFIG_CPU_FREQ_DEFAULT_GOV_CONSERVATIVE is not set
-CONFIG_CPU_FREQ_GOV_PERFORMANCE=y
-CONFIG_CPU_FREQ_GOV_POWERSAVE=y
-CONFIG_CPU_FREQ_GOV_USERSPACE=y
-CONFIG_CPU_FREQ_GOV_ONDEMAND=y
-CONFIG_CPU_FREQ_GOV_CONSERVATIVE=y
-# CONFIG_CPU_IDLE is not set
-
-#
-# Floating point emulation
-#
-
-#
-# At least one emulation must be selected
-#
-CONFIG_VFP=y
-CONFIG_VFPv3=y
-CONFIG_NEON=y
-
-#
-# Userspace binary formats
-#
-CONFIG_BINFMT_ELF=y
-CONFIG_HAVE_AOUT=y
-# CONFIG_BINFMT_AOUT is not set
-# CONFIG_BINFMT_MISC is not set
-
-#
-# Power management options
-#
-CONFIG_PM=y
-# CONFIG_PM_DEBUG is not set
-CONFIG_PM_SLEEP=y
-CONFIG_SUSPEND=y
-CONFIG_SUSPEND_FREEZER=y
-CONFIG_HAS_WAKELOCK=y
-CONFIG_HAS_EARLYSUSPEND=y
-CONFIG_WAKELOCK=y
-CONFIG_WAKELOCK_STAT=y
-CONFIG_USER_WAKELOCK=y
-CONFIG_EARLYSUSPEND=y
-# CONFIG_NO_USER_SPACE_SCREEN_ACCESS_CONTROL is not set
-# CONFIG_CONSOLE_EARLYSUSPEND is not set
-CONFIG_FB_EARLYSUSPEND=y
-# CONFIG_APM_EMULATION is not set
-# CONFIG_PM_RUNTIME is not set
-CONFIG_ARCH_SUSPEND_POSSIBLE=y
-CONFIG_NET=y
-
-#
-# Networking options
-#
-CONFIG_PACKET=y
-# CONFIG_PACKET_MMAP is not set
-CONFIG_UNIX=y
-CONFIG_XFRM=y
-# CONFIG_XFRM_USER is not set
-# CONFIG_XFRM_SUB_POLICY is not set
-# CONFIG_XFRM_MIGRATE is not set
-# CONFIG_XFRM_STATISTICS is not set
-CONFIG_XFRM_IPCOMP=y
-CONFIG_NET_KEY=y
-# CONFIG_NET_KEY_MIGRATE is not set
-CONFIG_INET=y
-# CONFIG_IP_MULTICAST is not set
-# CONFIG_IP_ADVANCED_ROUTER is not set
-CONFIG_IP_FIB_HASH=y
-CONFIG_IP_PNP=y
-CONFIG_IP_PNP_DHCP=y
-CONFIG_IP_PNP_BOOTP=y
-CONFIG_IP_PNP_RARP=y
-# CONFIG_NET_IPIP is not set
-# CONFIG_NET_IPGRE is not set
-# CONFIG_ARPD is not set
-# CONFIG_SYN_COOKIES is not set
-# CONFIG_INET_AH is not set
-CONFIG_INET_ESP=y
-# CONFIG_INET_IPCOMP is not set
-# CONFIG_INET_XFRM_TUNNEL is not set
-CONFIG_INET_TUNNEL=y
-CONFIG_INET_XFRM_MODE_TRANSPORT=y
-CONFIG_INET_XFRM_MODE_TUNNEL=y
-CONFIG_INET_XFRM_MODE_BEET=y
-# CONFIG_INET_LRO is not set
-CONFIG_INET_DIAG=y
-CONFIG_INET_TCP_DIAG=y
-# CONFIG_TCP_CONG_ADVANCED is not set
-CONFIG_TCP_CONG_CUBIC=y
-CONFIG_DEFAULT_TCP_CONG="cubic"
-# CONFIG_TCP_MD5SIG is not set
-CONFIG_IPV6=y
-CONFIG_IPV6_PRIVACY=y
-CONFIG_IPV6_ROUTER_PREF=y
-# CONFIG_IPV6_ROUTE_INFO is not set
-CONFIG_IPV6_OPTIMISTIC_DAD=y
-CONFIG_INET6_AH=y
-CONFIG_INET6_ESP=y
-CONFIG_INET6_IPCOMP=y
-CONFIG_IPV6_MIP6=y
-CONFIG_INET6_XFRM_TUNNEL=y
-CONFIG_INET6_TUNNEL=y
-CONFIG_INET6_XFRM_MODE_TRANSPORT=y
-CONFIG_INET6_XFRM_MODE_TUNNEL=y
-CONFIG_INET6_XFRM_MODE_BEET=y
-# CONFIG_INET6_XFRM_MODE_ROUTEOPTIMIZATION is not set
-CONFIG_IPV6_SIT=y
-CONFIG_IPV6_NDISC_NODETYPE=y
-CONFIG_IPV6_TUNNEL=y
-CONFIG_IPV6_MULTIPLE_TABLES=y
-# CONFIG_IPV6_SUBTREES is not set
-# CONFIG_IPV6_MROUTE is not set
-CONFIG_ANDROID_PARANOID_NETWORK=y
-# CONFIG_NETWORK_SECMARK is not set
-CONFIG_NETFILTER=y
-CONFIG_NETFILTER_DEBUG=y
-CONFIG_NETFILTER_ADVANCED=y
-
-#
-# Core Netfilter Configuration
-#
-CONFIG_NETFILTER_NETLINK=y
-CONFIG_NETFILTER_NETLINK_QUEUE=y
-CONFIG_NETFILTER_NETLINK_LOG=y
-CONFIG_NF_CONNTRACK=y
-CONFIG_NF_CT_ACCT=y
-CONFIG_NF_CONNTRACK_MARK=y
-CONFIG_NF_CONNTRACK_EVENTS=y
-CONFIG_NF_CT_PROTO_DCCP=y
-CONFIG_NF_CT_PROTO_GRE=y
-CONFIG_NF_CT_PROTO_SCTP=y
-CONFIG_NF_CT_PROTO_UDPLITE=y
-CONFIG_NF_CONNTRACK_AMANDA=y
-CONFIG_NF_CONNTRACK_FTP=y
-CONFIG_NF_CONNTRACK_H323=y
-CONFIG_NF_CONNTRACK_IRC=y
-CONFIG_NF_CONNTRACK_NETBIOS_NS=y
-CONFIG_NF_CONNTRACK_PPTP=y
-CONFIG_NF_CONNTRACK_SANE=y
-CONFIG_NF_CONNTRACK_SIP=y
-CONFIG_NF_CONNTRACK_TFTP=y
-CONFIG_NF_CT_NETLINK=y
-CONFIG_NETFILTER_XTABLES=y
-CONFIG_NETFILTER_XT_TARGET_CLASSIFY=y
-CONFIG_NETFILTER_XT_TARGET_CONNMARK=y
-# CONFIG_NETFILTER_XT_TARGET_LED is not set
-CONFIG_NETFILTER_XT_TARGET_MARK=y
-# CONFIG_NETFILTER_XT_TARGET_NFLOG is not set
-CONFIG_NETFILTER_XT_TARGET_NFQUEUE=y
-# CONFIG_NETFILTER_XT_TARGET_RATEEST is not set
-# CONFIG_NETFILTER_XT_TARGET_TCPMSS is not set
-# CONFIG_NETFILTER_XT_MATCH_CLUSTER is not set
-CONFIG_NETFILTER_XT_MATCH_COMMENT=y
-CONFIG_NETFILTER_XT_MATCH_CONNBYTES=y
-CONFIG_NETFILTER_XT_MATCH_CONNLIMIT=y
-CONFIG_NETFILTER_XT_MATCH_CONNMARK=y
-CONFIG_NETFILTER_XT_MATCH_CONNTRACK=y
-# CONFIG_NETFILTER_XT_MATCH_DCCP is not set
-# CONFIG_NETFILTER_XT_MATCH_DSCP is not set
-# CONFIG_NETFILTER_XT_MATCH_ESP is not set
-CONFIG_NETFILTER_XT_MATCH_HASHLIMIT=y
-CONFIG_NETFILTER_XT_MATCH_HELPER=y
-CONFIG_NETFILTER_XT_MATCH_HL=y
-CONFIG_NETFILTER_XT_MATCH_IPRANGE=y
-CONFIG_NETFILTER_XT_MATCH_LENGTH=y
-CONFIG_NETFILTER_XT_MATCH_LIMIT=y
-CONFIG_NETFILTER_XT_MATCH_MAC=y
-CONFIG_NETFILTER_XT_MATCH_MARK=y
-# CONFIG_NETFILTER_XT_MATCH_MULTIPORT is not set
-CONFIG_NETFILTER_XT_MATCH_OWNER=y
-CONFIG_NETFILTER_XT_MATCH_POLICY=y
-CONFIG_NETFILTER_XT_MATCH_PKTTYPE=y
-CONFIG_NETFILTER_XT_MATCH_QUOTA=y
-# CONFIG_NETFILTER_XT_MATCH_RATEEST is not set
-# CONFIG_NETFILTER_XT_MATCH_REALM is not set
-# CONFIG_NETFILTER_XT_MATCH_RECENT is not set
-# CONFIG_NETFILTER_XT_MATCH_SCTP is not set
-CONFIG_NETFILTER_XT_MATCH_STATE=y
-CONFIG_NETFILTER_XT_MATCH_STATISTIC=y
-CONFIG_NETFILTER_XT_MATCH_STRING=y
-# CONFIG_NETFILTER_XT_MATCH_TCPMSS is not set
-CONFIG_NETFILTER_XT_MATCH_TIME=y
-CONFIG_NETFILTER_XT_MATCH_U32=y
-# CONFIG_NETFILTER_XT_MATCH_OSF is not set
-# CONFIG_IP_VS is not set
-
-#
-# IP: Netfilter Configuration
-#
-CONFIG_NF_DEFRAG_IPV4=y
-CONFIG_NF_CONNTRACK_IPV4=y
-CONFIG_NF_CONNTRACK_PROC_COMPAT=y
-# CONFIG_IP_NF_QUEUE is not set
-CONFIG_IP_NF_IPTABLES=y
-CONFIG_IP_NF_MATCH_ADDRTYPE=y
-CONFIG_IP_NF_MATCH_AH=y
-CONFIG_IP_NF_MATCH_ECN=y
-CONFIG_IP_NF_MATCH_TTL=y
-CONFIG_IP_NF_FILTER=y
-CONFIG_IP_NF_TARGET_REJECT=y
-CONFIG_IP_NF_TARGET_LOG=y
-# CONFIG_IP_NF_TARGET_ULOG is not set
-CONFIG_NF_NAT=y
-CONFIG_NF_NAT_NEEDED=y
-CONFIG_IP_NF_TARGET_MASQUERADE=y
-CONFIG_IP_NF_TARGET_NETMAP=y
-CONFIG_IP_NF_TARGET_REDIRECT=y
-# CONFIG_NF_NAT_SNMP_BASIC is not set
-CONFIG_NF_NAT_PROTO_DCCP=y
-CONFIG_NF_NAT_PROTO_GRE=y
-CONFIG_NF_NAT_PROTO_UDPLITE=y
-CONFIG_NF_NAT_PROTO_SCTP=y
-CONFIG_NF_NAT_FTP=y
-CONFIG_NF_NAT_IRC=y
-CONFIG_NF_NAT_TFTP=y
-CONFIG_NF_NAT_AMANDA=y
-CONFIG_NF_NAT_PPTP=y
-CONFIG_NF_NAT_H323=y
-CONFIG_NF_NAT_SIP=y
-# CONFIG_IP_NF_MANGLE is not set
-# CONFIG_IP_NF_TARGET_TTL is not set
-# CONFIG_IP_NF_RAW is not set
-CONFIG_IP_NF_ARPTABLES=y
-CONFIG_IP_NF_ARPFILTER=y
-CONFIG_IP_NF_ARP_MANGLE=y
-
-#
-# IPv6: Netfilter Configuration
-#
-# CONFIG_NF_CONNTRACK_IPV6 is not set
-# CONFIG_IP6_NF_QUEUE is not set
-# CONFIG_IP6_NF_IPTABLES is not set
-# CONFIG_IP_DCCP is not set
-# CONFIG_IP_SCTP is not set
-# CONFIG_RDS is not set
-# CONFIG_TIPC is not set
-# CONFIG_ATM is not set
-# CONFIG_BRIDGE is not set
-# CONFIG_NET_DSA is not set
-# CONFIG_VLAN_8021Q is not set
-# CONFIG_DECNET is not set
-# CONFIG_LLC2 is not set
-# CONFIG_IPX is not set
-# CONFIG_ATALK is not set
-# CONFIG_X25 is not set
-# CONFIG_LAPB is not set
-# CONFIG_ECONET is not set
-# CONFIG_WAN_ROUTER is not set
-# CONFIG_PHONET is not set
-# CONFIG_IEEE802154 is not set
-CONFIG_NET_SCHED=y
-
-#
-# Queueing/Scheduling
-#
-# CONFIG_NET_SCH_CBQ is not set
-CONFIG_NET_SCH_HTB=y
-# CONFIG_NET_SCH_HFSC is not set
-# CONFIG_NET_SCH_PRIO is not set
-# CONFIG_NET_SCH_MULTIQ is not set
-# CONFIG_NET_SCH_RED is not set
-# CONFIG_NET_SCH_SFQ is not set
-# CONFIG_NET_SCH_TEQL is not set
-# CONFIG_NET_SCH_TBF is not set
-# CONFIG_NET_SCH_GRED is not set
-# CONFIG_NET_SCH_DSMARK is not set
-# CONFIG_NET_SCH_NETEM is not set
-# CONFIG_NET_SCH_DRR is not set
-CONFIG_NET_SCH_INGRESS=y
-
-#
-# Classification
-#
-CONFIG_NET_CLS=y
-# CONFIG_NET_CLS_BASIC is not set
-# CONFIG_NET_CLS_TCINDEX is not set
-# CONFIG_NET_CLS_ROUTE4 is not set
-# CONFIG_NET_CLS_FW is not set
-CONFIG_NET_CLS_U32=y
-# CONFIG_CLS_U32_PERF is not set
-# CONFIG_CLS_U32_MARK is not set
-# CONFIG_NET_CLS_RSVP is not set
-# CONFIG_NET_CLS_RSVP6 is not set
-# CONFIG_NET_CLS_FLOW is not set
-# CONFIG_NET_CLS_CGROUP is not set
-CONFIG_NET_EMATCH=y
-CONFIG_NET_EMATCH_STACK=32
-# CONFIG_NET_EMATCH_CMP is not set
-# CONFIG_NET_EMATCH_NBYTE is not set
-CONFIG_NET_EMATCH_U32=y
-# CONFIG_NET_EMATCH_META is not set
-# CONFIG_NET_EMATCH_TEXT is not set
-CONFIG_NET_CLS_ACT=y
-CONFIG_NET_ACT_POLICE=y
-CONFIG_NET_ACT_GACT=y
-# CONFIG_GACT_PROB is not set
-CONFIG_NET_ACT_MIRRED=y
-# CONFIG_NET_ACT_IPT is not set
-# CONFIG_NET_ACT_NAT is not set
-# CONFIG_NET_ACT_PEDIT is not set
-# CONFIG_NET_ACT_SIMP is not set
-# CONFIG_NET_ACT_SKBEDIT is not set
-# CONFIG_NET_CLS_IND is not set
-CONFIG_NET_SCH_FIFO=y
-# CONFIG_DCB is not set
-
-#
-# Network testing
-#
-# CONFIG_NET_PKTGEN is not set
-# CONFIG_HAMRADIO is not set
-# CONFIG_CAN is not set
-CONFIG_IRDA=y
-
-#
-# IrDA protocols
-#
-# CONFIG_IRLAN is not set
-# CONFIG_IRNET is not set
-# CONFIG_IRCOMM is not set
-# CONFIG_IRDA_ULTRA is not set
-
-#
-# IrDA options
-#
-# CONFIG_IRDA_CACHE_LAST_LSAP is not set
-# CONFIG_IRDA_FAST_RR is not set
-# CONFIG_IRDA_DEBUG is not set
-
-#
-# Infrared-port device drivers
-#
-
-#
-# SIR device drivers
-#
-# CONFIG_IRTTY_SIR is not set
-
-#
-# Dongle support
-#
-# CONFIG_KINGSUN_DONGLE is not set
-# CONFIG_KSDAZZLE_DONGLE is not set
-# CONFIG_KS959_DONGLE is not set
-
-#
-# FIR device drivers
-#
-# CONFIG_USB_IRDA is not set
-# CONFIG_SIGMATEL_FIR is not set
-# CONFIG_MCS_FIR is not set
-CONFIG_RK_IRDA=y
-CONFIG_RK_IRDA_UART=y
-# CONFIG_RK_IRDA_NET is not set
-CONFIG_BU92725GUW=y
-CONFIG_BT=y
-CONFIG_BT_L2CAP=y
-CONFIG_BT_SCO=y
-CONFIG_BT_RFCOMM=y
-CONFIG_BT_RFCOMM_TTY=y
-# CONFIG_BT_BNEP is not set
-# CONFIG_BT_HIDP is not set
-
-#
-# Bluetooth device drivers
-#
-# CONFIG_BT_HCIBTUSB is not set
-# CONFIG_BT_HCIBTSDIO is not set
-CONFIG_BT_HCIUART=y
-CONFIG_BT_HCIUART_H4=y
-# CONFIG_BT_HCIUART_BCSP is not set
-# CONFIG_BT_HCIUART_LL is not set
-# CONFIG_BT_HCIBCM203X is not set
-# CONFIG_BT_HCIBPA10X is not set
-# CONFIG_BT_HCIBFUSB is not set
-# CONFIG_BT_HCIVHCI is not set
-# CONFIG_BT_MRVL is not set
-CONFIG_BT_HCIBCM4325=y
-CONFIG_IDBLOCK=y
-# CONFIG_WIFI_MAC is not set
-# CONFIG_AF_RXRPC is not set
-CONFIG_FIB_RULES=y
-CONFIG_WIRELESS=y
-# CONFIG_CFG80211 is not set
-CONFIG_CFG80211_DEFAULT_PS_VALUE=0
-# CONFIG_WIRELESS_OLD_REGULATORY is not set
-CONFIG_WIRELESS_EXT=y
-CONFIG_WIRELESS_EXT_SYSFS=y
-# CONFIG_LIB80211 is not set
-
-#
-# CFG80211 needs to be enabled for MAC80211
-#
-
-#
-# Some wireless drivers require a rate control algorithm
-#
-# CONFIG_WIMAX is not set
-CONFIG_RFKILL=y
-# CONFIG_RFKILL_PM is not set
-CONFIG_RFKILL_LEDS=y
-# CONFIG_RFKILL_INPUT is not set
-# CONFIG_NET_9P is not set
-
-#
-# Device Drivers
-#
-
-#
-# Generic Driver Options
-#
-CONFIG_UEVENT_HELPER_PATH=""
-CONFIG_DEVTMPFS=y
-CONFIG_DEVTMPFS_MOUNT=y
-CONFIG_STANDALONE=y
-CONFIG_PREVENT_FIRMWARE_BUILD=y
-CONFIG_FW_LOADER=y
-# CONFIG_FIRMWARE_IN_KERNEL is not set
-CONFIG_EXTRA_FIRMWARE=""
-# CONFIG_DEBUG_DRIVER is not set
-# CONFIG_DEBUG_DEVRES is not set
-# CONFIG_SYS_HYPERVISOR is not set
-# CONFIG_CONNECTOR is not set
-CONFIG_MTD=y
-# CONFIG_MTD_DEBUG is not set
-# CONFIG_MTD_TESTS is not set
-# CONFIG_MTD_CONCAT is not set
-CONFIG_MTD_PARTITIONS=y
-# CONFIG_MTD_REDBOOT_PARTS is not set
-CONFIG_MTD_CMDLINE_PARTS=y
-# CONFIG_MTD_AFS_PARTS is not set
-# CONFIG_MTD_AR7_PARTS is not set
-
-#
-# User Modules And Translation Layers
-#
-CONFIG_MTD_CHAR=y
-CONFIG_MTD_BLKDEVS=y
-CONFIG_MTD_BLOCK=y
-# CONFIG_FTL is not set
-# CONFIG_NFTL is not set
-# CONFIG_INFTL is not set
-# CONFIG_RFD_FTL is not set
-# CONFIG_SSFDC is not set
-# CONFIG_MTD_OOPS is not set
-
-#
-# RAM/ROM/Flash chip drivers
-#
-# CONFIG_MTD_CFI is not set
-# CONFIG_MTD_JEDECPROBE is not set
-CONFIG_MTD_MAP_BANK_WIDTH_1=y
-CONFIG_MTD_MAP_BANK_WIDTH_2=y
-CONFIG_MTD_MAP_BANK_WIDTH_4=y
-# CONFIG_MTD_MAP_BANK_WIDTH_8 is not set
-# CONFIG_MTD_MAP_BANK_WIDTH_16 is not set
-# CONFIG_MTD_MAP_BANK_WIDTH_32 is not set
-CONFIG_MTD_CFI_I1=y
-CONFIG_MTD_CFI_I2=y
-# CONFIG_MTD_CFI_I4 is not set
-# CONFIG_MTD_CFI_I8 is not set
-# CONFIG_MTD_RAM is not set
-# CONFIG_MTD_ROM is not set
-# CONFIG_MTD_ABSENT is not set
-
-#
-# Mapping drivers for chip access
-#
-# CONFIG_MTD_COMPLEX_MAPPINGS is not set
-# CONFIG_MTD_PLATRAM is not set
-
-#
-# Self-contained MTD device drivers
-#
-# CONFIG_MTD_SLRAM is not set
-# CONFIG_MTD_PHRAM is not set
-# CONFIG_MTD_MTDRAM is not set
-# CONFIG_MTD_BLOCK2MTD is not set
-
-#
-# Disk-On-Chip Device Drivers
-#
-# CONFIG_MTD_DOC2000 is not set
-# CONFIG_MTD_DOC2001 is not set
-# CONFIG_MTD_DOC2001PLUS is not set
-CONFIG_MTD_NAND_IDS=y
-# CONFIG_MTD_NAND is not set
-CONFIG_MTD_RKNAND=y
-CONFIG_MTD_NAND_RK29XX=y
-CONFIG_MTD_RKNAND_BUFFER=y
-# CONFIG_MTD_EMMC_CLK_POWER_SAVE is not set
-# CONFIG_MTD_NAND_RK29XX_DEBUG is not set
-# CONFIG_MTD_ONENAND is not set
-
-#
-# LPDDR flash memory drivers
-#
-# CONFIG_MTD_LPDDR is not set
-
-#
-# UBI - Unsorted block images
-#
-# CONFIG_MTD_UBI is not set
-# CONFIG_PARPORT is not set
-CONFIG_BLK_DEV=y
-# CONFIG_BLK_DEV_COW_COMMON is not set
-CONFIG_BLK_DEV_LOOP=y
-# CONFIG_BLK_DEV_CRYPTOLOOP is not set
-# CONFIG_BLK_DEV_NBD is not set
-# CONFIG_BLK_DEV_UB is not set
-# CONFIG_BLK_DEV_RAM is not set
-# CONFIG_CDROM_PKTCDVD is not set
-# CONFIG_ATA_OVER_ETH is not set
-# CONFIG_MG_DISK is not set
-CONFIG_MISC_DEVICES=y
-CONFIG_ANDROID_PMEM=y
-# CONFIG_ICS932S401 is not set
-# CONFIG_ENCLOSURE_SERVICES is not set
-# CONFIG_KERNEL_DEBUGGER_CORE is not set
-# CONFIG_ISL29003 is not set
-CONFIG_UID_STAT=y
-# CONFIG_WL127X_RFKILL is not set
-CONFIG_APANIC=y
-CONFIG_APANIC_PLABEL="kpanic"
-# CONFIG_STE is not set
-# CONFIG_MTK23D is not set
-# CONFIG_FM580X is not set
-# CONFIG_MU509 is not set
-CONFIG_RK29_NEWTON=y
-# CONFIG_C2PORT is not set
-
-#
-# EEPROM support
-#
-# CONFIG_EEPROM_AT24 is not set
-# CONFIG_EEPROM_LEGACY is not set
-# CONFIG_EEPROM_MAX6875 is not set
-# CONFIG_EEPROM_93CX6 is not set
-# CONFIG_RK29_SUPPORT_MODEM is not set
-# CONFIG_MODEM_ROCKCHIP_DEMO is not set
-# CONFIG_MODEM_LONGCHEER_U6300V is not set
-# CONFIG_MODEM_THINKWILL_MW100G is not set
-# CONFIG_RK29_GPS is not set
-
-#
-# Motion Sensors Support
-#
-# CONFIG_MPU_NONE is not set
-# CONFIG_MPU_SENSORS_MPU3050 is not set
-# CONFIG_MPU_SENSORS_MPU6000 is not set
-# CONFIG_MPU_SENSORS_TIMERIRQ is not set
-CONFIG_HAVE_IDE=y
-# CONFIG_IDE is not set
-
-#
-# SCSI device support
-#
-# CONFIG_RAID_ATTRS is not set
-CONFIG_SCSI=y
-CONFIG_SCSI_DMA=y
-# CONFIG_SCSI_TGT is not set
-# CONFIG_SCSI_NETLINK is not set
-CONFIG_SCSI_PROC_FS=y
-
-#
-# SCSI support type (disk, tape, CD-ROM)
-#
-CONFIG_BLK_DEV_SD=y
-# CONFIG_CHR_DEV_ST is not set
-# CONFIG_CHR_DEV_OSST is not set
-# CONFIG_BLK_DEV_SR is not set
-# CONFIG_CHR_DEV_SG is not set
-# CONFIG_CHR_DEV_SCH is not set
-CONFIG_SCSI_MULTI_LUN=y
-# CONFIG_SCSI_CONSTANTS is not set
-# CONFIG_SCSI_LOGGING is not set
-# CONFIG_SCSI_SCAN_ASYNC is not set
-CONFIG_SCSI_WAIT_SCAN=m
-
-#
-# SCSI Transports
-#
-# CONFIG_SCSI_SPI_ATTRS is not set
-# CONFIG_SCSI_FC_ATTRS is not set
-# CONFIG_SCSI_ISCSI_ATTRS is not set
-# CONFIG_SCSI_SAS_LIBSAS is not set
-# CONFIG_SCSI_SRP_ATTRS is not set
-CONFIG_SCSI_LOWLEVEL=y
-# CONFIG_ISCSI_TCP is not set
-# CONFIG_LIBFC is not set
-# CONFIG_LIBFCOE is not set
-# CONFIG_SCSI_DEBUG is not set
-# CONFIG_SCSI_DH is not set
-# CONFIG_SCSI_OSD_INITIATOR is not set
-# CONFIG_ATA is not set
-CONFIG_MD=y
-# CONFIG_BLK_DEV_MD is not set
-CONFIG_BLK_DEV_DM=y
-# CONFIG_DM_DEBUG is not set
-CONFIG_DM_CRYPT=y
-# CONFIG_DM_SNAPSHOT is not set
-# CONFIG_DM_MIRROR is not set
-# CONFIG_DM_ZERO is not set
-# CONFIG_DM_MULTIPATH is not set
-# CONFIG_DM_DELAY is not set
-CONFIG_DM_UEVENT=y
-CONFIG_NETDEVICES=y
-# CONFIG_IFB is not set
-# CONFIG_DUMMY is not set
-# CONFIG_BONDING is not set
-# CONFIG_MACVLAN is not set
-# CONFIG_EQUALIZER is not set
-# CONFIG_TUN is not set
-# CONFIG_VETH is not set
-# CONFIG_NET_ETHERNET is not set
-# CONFIG_NETDEV_1000 is not set
-# CONFIG_NETDEV_10000 is not set
-CONFIG_WLAN=y
-CONFIG_WLAN_80211=y
-# CONFIG_WIFI_NONE is not set
-CONFIG_BCM4329=y
-# CONFIG_MV8686 is not set
-# CONFIG_BCM4319 is not set
-
-#
-# Enable WiMAX (Networking options) to see the WiMAX drivers
-#
-
-#
-# USB Network Adapters
-#
-# CONFIG_USB_CATC is not set
-# CONFIG_USB_KAWETH is not set
-# CONFIG_USB_PEGASUS is not set
-# CONFIG_USB_RTL8150 is not set
-# CONFIG_USB_USBNET is not set
-# CONFIG_USB_HSO is not set
-# CONFIG_WAN is not set
-CONFIG_PPP=y
-CONFIG_PPP_MULTILINK=y
-CONFIG_PPP_FILTER=y
-CONFIG_PPP_ASYNC=y
-CONFIG_PPP_SYNC_TTY=y
-CONFIG_PPP_DEFLATE=y
-CONFIG_PPP_BSDCOMP=y
-# CONFIG_PPP_MPPE is not set
-# CONFIG_PPPOE is not set
-# CONFIG_PPPOL2TP is not set
-# CONFIG_PPPOLAC is not set
-# CONFIG_PPPOPNS is not set
-# CONFIG_SLIP is not set
-CONFIG_SLHC=y
-# CONFIG_NETCONSOLE is not set
-# CONFIG_NETPOLL is not set
-# CONFIG_NET_POLL_CONTROLLER is not set
-# CONFIG_ISDN is not set
-# CONFIG_PHONE is not set
-
-#
-# Input device support
-#
-CONFIG_INPUT=y
-# CONFIG_INPUT_FF_MEMLESS is not set
-CONFIG_INPUT_POLLDEV=y
-
-#
-# Userland interfaces
-#
-# CONFIG_INPUT_MOUSEDEV is not set
-# CONFIG_INPUT_JOYDEV is not set
-CONFIG_INPUT_EVDEV=y
-# CONFIG_INPUT_EVBUG is not set
-CONFIG_INPUT_KEYRESET=y
-
-#
-# Input Device Drivers
-#
-CONFIG_INPUT_KEYBOARD=y
-# CONFIG_KEYS_RK29 is not set
-CONFIG_KEYS_RK29_NEWTON=y
-# CONFIG_SYNAPTICS_SO340010 is not set
-# CONFIG_KEYBOARD_ADP5588 is not set
-# CONFIG_KEYBOARD_ATKBD is not set
-# CONFIG_QT2160 is not set
-# CONFIG_KEYBOARD_LKKBD is not set
-# CONFIG_KEYBOARD_GPIO is not set
-# CONFIG_KEYBOARD_WM831X_GPIO is not set
-# CONFIG_KEYBOARD_MATRIX is not set
-# CONFIG_KEYBOARD_LM8323 is not set
-# CONFIG_KEYBOARD_MAX7359 is not set
-# CONFIG_KEYBOARD_NEWTON is not set
-# CONFIG_KEYBOARD_OPENCORES is not set
-# CONFIG_KEYBOARD_STOWAWAY is not set
-# CONFIG_KEYBOARD_SUNKBD is not set
-# CONFIG_KEYBOARD_XTKBD is not set
-# CONFIG_INPUT_MOUSE is not set
-# CONFIG_INPUT_JOYSTICK is not set
-# CONFIG_INPUT_TABLET is not set
-CONFIG_INPUT_TOUCHSCREEN=y
-# CONFIG_TOUCHSCREEN_ILI2102_IIC is not set
-# CONFIG_TOUCHSCREEN_IT7250 is not set
-# CONFIG_TOUCHSCREEN_AD7879_I2C is not set
-# CONFIG_TOUCHSCREEN_AD7879 is not set
-# CONFIG_TOUCHSCREEN_EETI is not set
-# CONFIG_TOUCHSCREEN_FUJITSU is not set
-# CONFIG_TOUCHSCREEN_GUNZE is not set
-# CONFIG_TOUCHSCREEN_ELO is not set
-# CONFIG_TOUCHSCREEN_WACOM_W8001 is not set
-# CONFIG_TOUCHSCREEN_MCS5000 is not set
-# CONFIG_TOUCHSCREEN_MTOUCH is not set
-# CONFIG_TOUCHSCREEN_INEXIO is not set
-# CONFIG_TOUCHSCREEN_MK712 is not set
-# CONFIG_TOUCHSCREEN_PENMOUNT is not set
-# CONFIG_TOUCHSCREEN_SYNAPTICS_I2C_RMI is not set
-# CONFIG_TOUCHSCREEN_TOUCHRIGHT is not set
-# CONFIG_TOUCHSCREEN_TOUCHWIN is not set
-# CONFIG_TOUCHSCREEN_USB_COMPOSITE is not set
-# CONFIG_TOUCHSCREEN_TOUCHIT213 is not set
-# CONFIG_TOUCHSCREEN_TSC2007 is not set
-# CONFIG_TOUCHSCREEN_W90X900 is not set
-# CONFIG_HANNSTAR_P1003 is not set
-# CONFIG_ATMEL_MXT224 is not set
-# CONFIG_SINTEK_3FA16 is not set
-# CONFIG_EETI_EGALAX is not set
-# CONFIG_TOUCHSCREEN_IT7260 is not set
-# CONFIG_TOUCHSCREEN_IT7260_I2C is not set
-# CONFIG_TOUCHSCREEN_NAS is not set
-# CONFIG_LAIBAO_TS is not set
-# CONFIG_TOUCHSCREEN_GT801_IIC is not set
-# CONFIG_TOUCHSCREEN_GT818_IIC is not set
-# CONFIG_D70_L3188A is not set
-CONFIG_TOUCHSCREEN_GT819=y
-CONFIG_TOUCHSCREEN_FT5406=y
-# CONFIG_ATMEL_MXT1386 is not set
-CONFIG_INPUT_MISC=y
-# CONFIG_INPUT_LPSENSOR_ISL29028 is not set
-# CONFIG_INPUT_LPSENSOR_CM3602 is not set
-# CONFIG_INPUT_ATI_REMOTE is not set
-# CONFIG_INPUT_ATI_REMOTE2 is not set
-# CONFIG_INPUT_KEYCHORD is not set
-# CONFIG_INPUT_KEYSPAN_REMOTE is not set
-# CONFIG_INPUT_POWERMATE is not set
-# CONFIG_INPUT_YEALINK is not set
-# CONFIG_INPUT_CM109 is not set
-CONFIG_INPUT_UINPUT=y
-# CONFIG_INPUT_GPIO is not set
-# CONFIG_INPUT_GPIO_ROTARY_ENCODER is not set
-CONFIG_MAG_SENSORS=y
-CONFIG_COMPASS_AK8975=y
-# CONFIG_COMPASS_AK8973 is not set
-# CONFIG_COMPASS_MMC328X is not set
-CONFIG_G_SENSOR_DEVICE=y
-# CONFIG_GS_MMA7660 is not set
-CONFIG_GS_MMA8452=y
-# CONFIG_GS_KXTF9 is not set
-CONFIG_GS_L3G4200D=y
-# CONFIG_INPUT_JOGBALL is not set
-# CONFIG_LIGHT_SENSOR_DEVICE is not set
-
-#
-# Hardware I/O ports
-#
-# CONFIG_SERIO is not set
-# CONFIG_GAMEPORT is not set
-
-#
-# Character devices
-#
-CONFIG_VT=y
-# CONFIG_CONSOLE_TRANSLATIONS is not set
-CONFIG_VT_CONSOLE=y
-CONFIG_HW_CONSOLE=y
-# CONFIG_VT_HW_CONSOLE_BINDING is not set
-CONFIG_DEVMEM=y
-CONFIG_DEVKMEM=y
-# CONFIG_SERIAL_NONSTANDARD is not set
-
-#
-# Serial drivers
-#
-# CONFIG_SERIAL_8250 is not set
-
-#
-# Non-8250 serial port support
-#
-CONFIG_SERIAL_CORE=y
-CONFIG_SERIAL_CORE_CONSOLE=y
-CONFIG_SERIAL_RK29=y
-CONFIG_SERIAL_RK29_STANDARD=y
-CONFIG_UART0_RK29=y
-CONFIG_UART0_CTS_RTS_RK29=y
-# CONFIG_UART0_DMA_RK29 is not set
-CONFIG_UART1_RK29=y
-CONFIG_UART2_RK29=y
-CONFIG_UART2_CTS_RTS_RK29=y
-# CONFIG_UART2_DMA_RK29 is not set
-CONFIG_UART3_RK29=y
-# CONFIG_UART3_CTS_RTS_RK29 is not set
-# CONFIG_UART3_DMA_RK29 is not set
-CONFIG_SERIAL_RK29_CONSOLE=y
-CONFIG_UNIX98_PTYS=y
-# CONFIG_DEVPTS_MULTIPLE_INSTANCES is not set
-# CONFIG_LEGACY_PTYS is not set
-# CONFIG_IPMI_HANDLER is not set
-# CONFIG_HW_RANDOM is not set
-# CONFIG_R3964 is not set
-# CONFIG_RAW_DRIVER is not set
-# CONFIG_TCG_TPM is not set
-# CONFIG_DCC_TTY is not set
-CONFIG_I2C=y
-CONFIG_I2C_BOARDINFO=y
-CONFIG_I2C_COMPAT=y
-# CONFIG_I2C_CHARDEV is not set
-CONFIG_I2C_HELPER_AUTO=y
-
-#
-# I2C Hardware Bus support
-#
-CONFIG_I2C_RK29=y
-
-#
-# Now, there are four I2C interfaces selected by developer.
-#
-CONFIG_I2C0_RK29=y
-CONFIG_RK29_I2C0_CONTROLLER=y
-# CONFIG_RK29_I2C0_GPIO is not set
-CONFIG_I2C1_RK29=y
-CONFIG_RK29_I2C1_CONTROLLER=y
-# CONFIG_RK29_I2C1_GPIO is not set
-CONFIG_I2C2_RK29=y
-CONFIG_RK29_I2C2_CONTROLLER=y
-# CONFIG_RK29_I2C2_GPIO is not set
-CONFIG_I2C3_RK29=y
-CONFIG_RK29_I2C3_CONTROLLER=y
-# CONFIG_RK29_I2C3_GPIO is not set
-CONFIG_I2C_DEV_RK29=y
-
-#
-# Miscellaneous I2C Chip support
-#
-# CONFIG_DS1682 is not set
-# CONFIG_SENSORS_TSL2550 is not set
-# CONFIG_SENSORS_PCA963X is not set
-# CONFIG_I2C_DEBUG_CORE is not set
-# CONFIG_I2C_DEBUG_ALGO is not set
-# CONFIG_I2C_DEBUG_BUS is not set
-# CONFIG_I2C_DEBUG_CHIP is not set
-# CONFIG_SPI is not set
-CONFIG_ADC=y
-# CONFIG_ADC_RK28 is not set
-CONFIG_ADC_RK29=y
-
-#
-# Headset device support
-#
-# CONFIG_RK_HEADSET_DET is not set
-
-#
-# PPS support
-#
-# CONFIG_PPS is not set
-CONFIG_ARCH_REQUIRE_GPIOLIB=y
-CONFIG_GPIOLIB=y
-# CONFIG_DEBUG_GPIO is not set
-CONFIG_GPIO_SYSFS=y
-
-#
-# Memory mapped GPIO expanders:
-#
-
-#
-# I2C GPIO expanders:
-#
-# CONFIG_GPIO_MAX732X is not set
-# CONFIG_GPIO_PCA953X is not set
-# CONFIG_GPIO_PCF857X is not set
-
-#
-# PCI GPIO expanders:
-#
-
-#
-# SPI GPIO expanders:
-#
-
-#
-# AC97 GPIO expanders:
-#
-# CONFIG_GPIO_PCA9554 is not set
-# CONFIG_IOEXTEND_TCA6424 is not set
-CONFIG_EXPANDED_GPIO_NUM=0
-CONFIG_EXPANDED_GPIO_IRQ_NUM=0
-# CONFIG_EXPAND_GPIO_SOFT_INTERRUPT is not set
-CONFIG_SPI_FPGA_GPIO_NUM=96
-CONFIG_SPI_FPGA_GPIO_IRQ_NUM=16
-# CONFIG_W1 is not set
-CONFIG_POWER_SUPPLY=y
-# CONFIG_POWER_SUPPLY_DEBUG is not set
-# CONFIG_PDA_POWER is not set
-# CONFIG_BATTERY_DS2760 is not set
-# CONFIG_BATTERY_DS2782 is not set
-# CONFIG_BATTERY_BQ27x00 is not set
-# CONFIG_BATTERY_MAX17040 is not set
-# CONFIG_BATTERY_STC3100 is not set
-# CONFIG_BATTERY_BQ27510 is not set
-CONFIG_BATTERY_BQ27541=y
-# CONFIG_BATTERY_BQ3060 is not set
-# CONFIG_NO_BATTERY_IC is not set
-# CONFIG_HWMON is not set
-# CONFIG_THERMAL is not set
-# CONFIG_WATCHDOG is not set
-CONFIG_SSB_POSSIBLE=y
-
-#
-# Sonics Silicon Backplane
-#
-# CONFIG_SSB is not set
-
-#
-# Multifunction device drivers
-#
-# CONFIG_MFD_CORE is not set
-# CONFIG_MFD_SM501 is not set
-# CONFIG_MFD_ASIC3 is not set
-# CONFIG_HTC_EGPIO is not set
-# CONFIG_HTC_PASIC3 is not set
-# CONFIG_TPS65010 is not set
-# CONFIG_TWL4030_CORE is not set
-# CONFIG_TPS65910_CORE is not set
-# CONFIG_MFD_TMIO is not set
-# CONFIG_MFD_T7L66XB is not set
-# CONFIG_MFD_TC6387XB is not set
-# CONFIG_MFD_TC6393XB is not set
-# CONFIG_PMIC_DA903X is not set
-# CONFIG_MFD_WM8400 is not set
-# CONFIG_MFD_WM831X_I2C is not set
-# CONFIG_MFD_WM8350_I2C is not set
-# CONFIG_MFD_PCF50633 is not set
-# CONFIG_AB3100_CORE is not set
-CONFIG_REGULATOR=y
-# CONFIG_REGULATOR_DEBUG is not set
-# CONFIG_REGULATOR_FIXED_VOLTAGE is not set
-# CONFIG_REGULATOR_VIRTUAL_CONSUMER is not set
-# CONFIG_REGULATOR_USERSPACE_CONSUMER is not set
-# CONFIG_REGULATOR_BQ24022 is not set
-# CONFIG_REGULATOR_MAX1586 is not set
-# CONFIG_REGULATOR_LP3971 is not set
-# CONFIG_REGULATOR_TPS65023 is not set
-# CONFIG_REGULATOR_TPS6507X is not set
-# CONFIG_RK2818_REGULATOR_CHARGE is not set
-# CONFIG_RK2818_REGULATOR_LP8725 is not set
-CONFIG_RK29_PWM_REGULATOR=y
-CONFIG_MEDIA_SUPPORT=y
-
-#
-# Multimedia core support
-#
-CONFIG_VIDEO_DEV=y
-CONFIG_VIDEO_V4L2_COMMON=y
-CONFIG_VIDEO_ALLOW_V4L1=y
-CONFIG_VIDEO_V4L1_COMPAT=y
-# CONFIG_DVB_CORE is not set
-CONFIG_VIDEO_MEDIA=y
-
-#
-# Multimedia drivers
-#
-# CONFIG_MEDIA_ATTACH is not set
-CONFIG_MEDIA_TUNER=y
-# CONFIG_MEDIA_TUNER_CUSTOMISE is not set
-CONFIG_MEDIA_TUNER_SIMPLE=y
-CONFIG_MEDIA_TUNER_TDA8290=y
-CONFIG_MEDIA_TUNER_TDA9887=y
-CONFIG_MEDIA_TUNER_TEA5761=y
-CONFIG_MEDIA_TUNER_TEA5767=y
-CONFIG_MEDIA_TUNER_MT20XX=y
-CONFIG_MEDIA_TUNER_XC2028=y
-CONFIG_MEDIA_TUNER_XC5000=y
-CONFIG_MEDIA_TUNER_MC44S803=y
-CONFIG_VIDEO_V4L2=y
-CONFIG_VIDEO_V4L1=y
-CONFIG_VIDEOBUF_GEN=y
-CONFIG_VIDEOBUF_DMA_CONTIG=y
-# CONFIG_VIDEO_RK29XX_VOUT is not set
-CONFIG_VIDEO_CAPTURE_DRIVERS=y
-# CONFIG_VIDEO_ADV_DEBUG is not set
-# CONFIG_VIDEO_FIXED_MINOR_RANGES is not set
-CONFIG_VIDEO_HELPER_CHIPS_AUTO=y
-# CONFIG_VIDEO_VIVI is not set
-# CONFIG_VIDEO_CPIA is not set
-# CONFIG_VIDEO_CPIA2 is not set
-# CONFIG_VIDEO_SAA5246A is not set
-# CONFIG_VIDEO_SAA5249 is not set
-CONFIG_SOC_CAMERA=y
-# CONFIG_SOC_CAMERA_MT9M001 is not set
-# CONFIG_SOC_CAMERA_MT9M111 is not set
-# CONFIG_SOC_CAMERA_MT9M112 is not set
-# CONFIG_SOC_CAMERA_MT9T031 is not set
-# CONFIG_SOC_CAMERA_MT9T111 is not set
-# CONFIG_SOC_CAMERA_MT9P111 is not set
-# CONFIG_SOC_CAMERA_MT9D112 is not set
-# CONFIG_SOC_CAMERA_MT9D113 is not set
-# CONFIG_SOC_CAMERA_MT9V022 is not set
-# CONFIG_SOC_CAMERA_TW9910 is not set
-# CONFIG_SOC_CAMERA_PLATFORM is not set
-# CONFIG_SOC_CAMERA_OV772X is not set
-# CONFIG_SOC_CAMERA_OV7675 is not set
-# CONFIG_SOC_CAMERA_OV2655 is not set
-# CONFIG_SOC_CAMERA_OV2659 is not set
-# CONFIG_SOC_CAMERA_OV9650 is not set
-# CONFIG_SOC_CAMERA_OV2640 is not set
-CONFIG_SOC_CAMERA_OV3640=y
-CONFIG_OV3640_AUTOFOCUS=y
-# CONFIG_OV3640_FIXEDFOCUS is not set
-# CONFIG_SOC_CAMERA_OV5642 is not set
-# CONFIG_OV5642_AUTOFOCUS is not set
-# CONFIG_OV5642_FIXEDFOCUS is not set
-# CONFIG_SOC_CAMERA_OV5640 is not set
-# CONFIG_SOC_CAMERA_S5K6AA is not set
-# CONFIG_SOC_CAMERA_GT2005 is not set
-# CONFIG_SOC_CAMERA_GC0307 is not set
-# CONFIG_SOC_CAMERA_GC0308 is not set
-# CONFIG_SOC_CAMERA_GC0309 is not set
-# CONFIG_SOC_CAMERA_GC2015 is not set
-# CONFIG_SOC_CAMERA_HI253 is not set
-# CONFIG_SOC_CAMERA_HI704 is not set
-# CONFIG_SOC_CAMERA_SIV120B is not set
-# CONFIG_SOC_CAMERA_SID130B is not set
-# CONFIG_SOC_CAMERA_NT99250 is not set
-# CONFIG_VIDEO_SH_MOBILE_CEU is not set
-CONFIG_VIDEO_RK29=y
-CONFIG_VIDEO_RK29_WORK_ONEFRAME=y
-# CONFIG_VIDEO_RK29_WORK_PINGPONG is not set
-CONFIG_VIDEO_RK29_WORK_IPP=y
-# CONFIG_VIDEO_RK29_WORK_NOT_IPP is not set
-CONFIG_V4L_USB_DRIVERS=y
-# CONFIG_USB_VIDEO_CLASS is not set
-CONFIG_USB_VIDEO_CLASS_INPUT_EVDEV=y
-CONFIG_USB_GSPCA=m
-# CONFIG_USB_M5602 is not set
-# CONFIG_USB_STV06XX is not set
-# CONFIG_USB_GL860 is not set
-# CONFIG_USB_GSPCA_CONEX is not set
-# CONFIG_USB_GSPCA_ETOMS is not set
-# CONFIG_USB_GSPCA_FINEPIX is not set
-# CONFIG_USB_GSPCA_JEILINJ is not set
-# CONFIG_USB_GSPCA_MARS is not set
-# CONFIG_USB_GSPCA_MR97310A is not set
-# CONFIG_USB_GSPCA_OV519 is not set
-# CONFIG_USB_GSPCA_OV534 is not set
-# CONFIG_USB_GSPCA_PAC207 is not set
-# CONFIG_USB_GSPCA_PAC7311 is not set
-# CONFIG_USB_GSPCA_SN9C20X is not set
-# CONFIG_USB_GSPCA_SONIXB is not set
-# CONFIG_USB_GSPCA_SONIXJ is not set
-# CONFIG_USB_GSPCA_SPCA500 is not set
-# CONFIG_USB_GSPCA_SPCA501 is not set
-# CONFIG_USB_GSPCA_SPCA505 is not set
-# CONFIG_USB_GSPCA_SPCA506 is not set
-# CONFIG_USB_GSPCA_SPCA508 is not set
-# CONFIG_USB_GSPCA_SPCA561 is not set
-# CONFIG_USB_GSPCA_SQ905 is not set
-# CONFIG_USB_GSPCA_SQ905C is not set
-# CONFIG_USB_GSPCA_STK014 is not set
-# CONFIG_USB_GSPCA_SUNPLUS is not set
-# CONFIG_USB_GSPCA_T613 is not set
-# CONFIG_USB_GSPCA_TV8532 is not set
-# CONFIG_USB_GSPCA_VC032X is not set
-# CONFIG_USB_GSPCA_ZC3XX is not set
-# CONFIG_VIDEO_PVRUSB2 is not set
-# CONFIG_VIDEO_HDPVR is not set
-# CONFIG_VIDEO_EM28XX is not set
-# CONFIG_VIDEO_CX231XX is not set
-# CONFIG_VIDEO_USBVISION is not set
-# CONFIG_USB_VICAM is not set
-# CONFIG_USB_IBMCAM is not set
-# CONFIG_USB_KONICAWC is not set
-# CONFIG_USB_QUICKCAM_MESSENGER is not set
-# CONFIG_USB_ET61X251 is not set
-# CONFIG_VIDEO_OVCAMCHIP is not set
-# CONFIG_USB_OV511 is not set
-# CONFIG_USB_SE401 is not set
-# CONFIG_USB_SN9C102 is not set
-# CONFIG_USB_STV680 is not set
-# CONFIG_USB_ZC0301 is not set
-# CONFIG_USB_PWC is not set
-CONFIG_USB_PWC_INPUT_EVDEV=y
-# CONFIG_USB_ZR364XX is not set
-# CONFIG_USB_STKWEBCAM is not set
-# CONFIG_USB_S2255 is not set
-# CONFIG_RADIO_ADAPTERS is not set
-# CONFIG_SMS_SIANO_MDTV is not set
-# CONFIG_DAB is not set
-
-#
-# Graphics support
-#
-# CONFIG_VGASTATE is not set
-# CONFIG_VIDEO_OUTPUT_CONTROL is not set
-CONFIG_FB=y
-# CONFIG_FIRMWARE_EDID is not set
-# CONFIG_FB_DDC is not set
-# CONFIG_FB_BOOT_VESA_SUPPORT is not set
-CONFIG_FB_CFB_FILLRECT=y
-CONFIG_FB_CFB_COPYAREA=y
-CONFIG_FB_CFB_IMAGEBLIT=y
-# CONFIG_FB_CFB_REV_PIXELS_IN_BYTE is not set
-# CONFIG_FB_SYS_FILLRECT is not set
-# CONFIG_FB_SYS_COPYAREA is not set
-# CONFIG_FB_SYS_IMAGEBLIT is not set
-# CONFIG_FB_FOREIGN_ENDIAN is not set
-# CONFIG_FB_SYS_FOPS is not set
-# CONFIG_FB_SVGALIB is not set
-# CONFIG_FB_MACMODES is not set
-# CONFIG_FB_BACKLIGHT is not set
-# CONFIG_FB_MODE_HELPERS is not set
-# CONFIG_FB_TILEBLITTING is not set
-
-#
-# Frame buffer hardware drivers
-#
-# CONFIG_FB_S1D13XXX is not set
-# CONFIG_FB_RK2818 is not set
-CONFIG_FB_RK29=y
-CONFIG_FB_WORK_IPP=y
-CONFIG_FB_SCALING_OSD=y
-# CONFIG_FB_ROTATE_VIDEO is not set
-# CONFIG_CLOSE_WIN1_DYNAMIC is not set
-# CONFIG_FB_VIRTUAL is not set
-# CONFIG_FB_METRONOME is not set
-# CONFIG_FB_MB862XX is not set
-# CONFIG_FB_BROADSHEET is not set
-CONFIG_BACKLIGHT_LCD_SUPPORT=y
-# CONFIG_LCD_CLASS_DEVICE is not set
-CONFIG_BACKLIGHT_CLASS_DEVICE=y
-# CONFIG_BACKLIGHT_GENERIC is not set
-# CONFIG_BACKLIGHT_RK29_BL is not set
-CONFIG_BACKLIGHT_RK29_NEWTON_BL=y
-# CONFIG_FIH_TOUCHKEY_LED is not set
-# CONFIG_BACKLIGHT_AW9364 is not set
-# CONFIG_BUTTON_LIGHT is not set
-
-#
-# Display device support
-#
-CONFIG_DISPLAY_SUPPORT=y
-
-#
-# Display hardware drivers
-#
-# CONFIG_LCD_NULL is not set
-# CONFIG_LCD_TD043MGEA1 is not set
-# CONFIG_LCD_HX8357 is not set
-# CONFIG_LCD_TJ048NC01CA is not set
-# CONFIG_LCD_HL070VM4AU is not set
-# CONFIG_LCD_HSD070IDW1 is not set
-# CONFIG_LCD_RGB_TFT480800_25_E is not set
-# CONFIG_LCD_HSD100PXN is not set
-# CONFIG_LCD_HSD07PFW1 is not set
-# CONFIG_LCD_BYD8688FTGF is not set
-# CONFIG_LCD_B101AW06 is not set
-# CONFIG_LCD_LS035Y8DX02A is not set
-# CONFIG_LCD_CPTCLAA038LA31XE is not set
-# CONFIG_LCD_A060SE02 is not set
-# CONFIG_LCD_S1D13521 is not set
-# CONFIG_LCD_NT35582 is not set
-# CONFIG_LCD_NT35580 is not set
-# CONFIG_LCD_IPS1P5680_V1_E is not set
-# CONFIG_LCD_MCU_TFT480800_25_E is not set
-# CONFIG_LCD_NT35510 is not set
-# CONFIG_LCD_ILI9803_CPT4_3 is not set
-# CONFIG_DEFAULT_OUT_HDMI is not set
-# CONFIG_LCD_AT070TNA2 is not set
-CONFIG_LCD_AT070TN93=y
-# CONFIG_LCD_TX23D88VM is not set
-
-#
-# HDMI
-#
-# CONFIG_HDMI is not set
-# CONFIG_ANX7150 is not set
-# CONFIG_ANX9030 is not set
-
-#
-# Console display driver support
-#
-# CONFIG_VGA_CONSOLE is not set
-CONFIG_DUMMY_CONSOLE=y
-# CONFIG_FRAMEBUFFER_CONSOLE is not set
-CONFIG_LOGO=y
-# CONFIG_LOGO_LINUX_MONO is not set
-# CONFIG_LOGO_LINUX_VGA16 is not set
-CONFIG_LOGO_LINUX_CLUT224=y
-# CONFIG_LOGO_CHARGER_CLUT224 is not set
-CONFIG_SOUND=y
-# CONFIG_SOUND_OSS_CORE is not set
-CONFIG_SND=y
-CONFIG_SND_TIMER=y
-CONFIG_SND_PCM=y
-CONFIG_SND_JACK=y
-# CONFIG_SND_SEQUENCER is not set
-# CONFIG_SND_MIXER_OSS is not set
-# CONFIG_SND_PCM_OSS is not set
-# CONFIG_SND_HRTIMER is not set
-# CONFIG_SND_DYNAMIC_MINORS is not set
-# CONFIG_SND_SUPPORT_OLD_API is not set
-# CONFIG_SND_VERBOSE_PROCFS is not set
-# CONFIG_SND_VERBOSE_PRINTK is not set
-# CONFIG_SND_DEBUG is not set
-# CONFIG_SND_RAWMIDI_SEQ is not set
-# CONFIG_SND_OPL3_LIB_SEQ is not set
-# CONFIG_SND_OPL4_LIB_SEQ is not set
-# CONFIG_SND_SBAWE_SEQ is not set
-# CONFIG_SND_EMU10K1_SEQ is not set
-# CONFIG_SND_DRIVERS is not set
-# CONFIG_SND_ARM is not set
-# CONFIG_SND_USB is not set
-CONFIG_SND_SOC=y
-CONFIG_SND_RK29_SOC=y
-CONFIG_SND_RK29_SOC_I2S=y
-# CONFIG_SND_RK29_SOC_I2S_2CH is not set
-CONFIG_SND_RK29_SOC_I2S_8CH=y
-# CONFIG_SND_RK29_SOC_WM8988 is not set
-# CONFIG_SND_RK29_SOC_WM8900 is not set
-# CONFIG_SND_RK29_SOC_alc5621 is not set
-# CONFIG_SND_RK29_SOC_alc5631 is not set
-# CONFIG_SND_RK29_SOC_RT5625 is not set
-# CONFIG_SND_RK29_SOC_WM8994 is not set
-CONFIG_SND_RK29_SOC_CS42L52=y
-# CONFIG_SND_RK29_CODEC_SOC_MASTER is not set
-CONFIG_SND_RK29_CODEC_SOC_SLAVE=y
-# CONFIG_ADJUST_VOL_BY_CODEC is not set
-CONFIG_SND_SOC_I2C_AND_SPI=y
-# CONFIG_SND_SOC_ALL_CODECS is not set
-CONFIG_SND_SOC_CS42L52=y
-# CONFIG_SOUND_PRIME is not set
-CONFIG_HID_SUPPORT=y
-CONFIG_HID=y
-# CONFIG_HIDRAW is not set
-
-#
-# USB Input Devices
-#
-CONFIG_USB_HID=y
-# CONFIG_HID_PID is not set
-# CONFIG_USB_HIDDEV is not set
-
-#
-# Special HID drivers
-#
-# CONFIG_HID_A4TECH is not set
-# CONFIG_HID_APPLE is not set
-# CONFIG_HID_BELKIN is not set
-# CONFIG_HID_CHERRY is not set
-# CONFIG_HID_CHICONY is not set
-# CONFIG_HID_CYPRESS is not set
-# CONFIG_HID_DRAGONRISE is not set
-# CONFIG_HID_EZKEY is not set
-# CONFIG_HID_KYE is not set
-# CONFIG_HID_GYRATION is not set
-# CONFIG_HID_TWINHAN is not set
-# CONFIG_HID_KENSINGTON is not set
-# CONFIG_HID_LOGITECH is not set
-# CONFIG_HID_MICROSOFT is not set
-# CONFIG_HID_MONTEREY is not set
-# CONFIG_HID_NTRIG is not set
-# CONFIG_HID_PANTHERLORD is not set
-# CONFIG_HID_PETALYNX is not set
-# CONFIG_HID_SAMSUNG is not set
-# CONFIG_HID_SONY is not set
-# CONFIG_HID_SUNPLUS is not set
-# CONFIG_HID_GREENASIA is not set
-# CONFIG_HID_SMARTJOYPLUS is not set
-# CONFIG_HID_TOPSEED is not set
-# CONFIG_HID_THRUSTMASTER is not set
-# CONFIG_HID_ZEROPLUS is not set
-CONFIG_USB_SUPPORT=y
-CONFIG_USB_ARCH_HAS_HCD=y
-# CONFIG_USB_ARCH_HAS_OHCI is not set
-# CONFIG_USB_ARCH_HAS_EHCI is not set
-CONFIG_USB=y
-# CONFIG_USB_DEBUG is not set
-CONFIG_USB_ANNOUNCE_NEW_DEVICES=y
-
-#
-# Miscellaneous USB options
-#
-# CONFIG_USB_DEVICEFS is not set
-CONFIG_USB_DEVICE_CLASS=y
-# CONFIG_USB_DYNAMIC_MINORS is not set
-# CONFIG_USB_SUSPEND is not set
-# CONFIG_USB_OTG is not set
-# CONFIG_USB_OTG_WHITELIST is not set
-CONFIG_USB_OTG_BLACKLIST_HUB=y
-# CONFIG_USB_MON is not set
-# CONFIG_USB_WUSB is not set
-# CONFIG_USB_WUSB_CBAF is not set
-
-#
-# USB Host Controller Drivers
-#
-# CONFIG_USB_C67X00_HCD is not set
-# CONFIG_USB_OXU210HP_HCD is not set
-# CONFIG_USB_ISP116X_HCD is not set
-# CONFIG_USB_ISP1760_HCD is not set
-# CONFIG_USB_ISP1362_HCD is not set
-# CONFIG_USB_SL811_HCD is not set
-# CONFIG_USB_R8A66597_HCD is not set
-# CONFIG_USB_HWA_HCD is not set
-# CONFIG_USB_MUSB_HDRC is not set
-# CONFIG_USB_GADGET_MUSB_HDRC is not set
-
-#
-# USB Device Class drivers
-#
-# CONFIG_USB_ACM is not set
-# CONFIG_USB_PRINTER is not set
-# CONFIG_USB_WDM is not set
-# CONFIG_USB_TMC is not set
-
-#
-# NOTE: USB_STORAGE depends on SCSI but BLK_DEV_SD may
-#
-
-#
-# also be needed; see USB_STORAGE Help for more info
-#
-CONFIG_USB_STORAGE=y
-# CONFIG_USB_STORAGE_DEBUG is not set
-# CONFIG_USB_STORAGE_DATAFAB is not set
-# CONFIG_USB_STORAGE_FREECOM is not set
-# CONFIG_USB_STORAGE_ISD200 is not set
-# CONFIG_USB_STORAGE_USBAT is not set
-# CONFIG_USB_STORAGE_SDDR09 is not set
-# CONFIG_USB_STORAGE_SDDR55 is not set
-# CONFIG_USB_STORAGE_JUMPSHOT is not set
-# CONFIG_USB_STORAGE_ALAUDA is not set
-# CONFIG_USB_STORAGE_ONETOUCH is not set
-# CONFIG_USB_STORAGE_KARMA is not set
-# CONFIG_USB_STORAGE_CYPRESS_ATACB is not set
-# CONFIG_USB_LIBUSUAL is not set
-
-#
-# USB Imaging devices
-#
-# CONFIG_USB_MDC800 is not set
-# CONFIG_USB_MICROTEK is not set
-
-#
-# USB port drivers
-#
-CONFIG_USB_SERIAL=y
-# CONFIG_USB_SERIAL_CONSOLE is not set
-# CONFIG_USB_EZUSB is not set
-CONFIG_USB_SERIAL_GENERIC=y
-# CONFIG_USB_SERIAL_AIRCABLE is not set
-# CONFIG_USB_SERIAL_ARK3116 is not set
-# CONFIG_USB_SERIAL_BELKIN is not set
-# CONFIG_USB_SERIAL_CH341 is not set
-# CONFIG_USB_SERIAL_WHITEHEAT is not set
-# CONFIG_USB_SERIAL_DIGI_ACCELEPORT is not set
-# CONFIG_USB_SERIAL_CP210X is not set
-# CONFIG_USB_SERIAL_CYPRESS_M8 is not set
-# CONFIG_USB_SERIAL_EMPEG is not set
-# CONFIG_USB_SERIAL_FTDI_SIO is not set
-# CONFIG_USB_SERIAL_FUNSOFT is not set
-# CONFIG_USB_SERIAL_VISOR is not set
-# CONFIG_USB_SERIAL_IPAQ is not set
-# CONFIG_USB_SERIAL_IR is not set
-# CONFIG_USB_SERIAL_EDGEPORT is not set
-# CONFIG_USB_SERIAL_EDGEPORT_TI is not set
-# CONFIG_USB_SERIAL_GARMIN is not set
-# CONFIG_USB_SERIAL_IPW is not set
-# CONFIG_USB_SERIAL_IUU is not set
-# CONFIG_USB_SERIAL_KEYSPAN_PDA is not set
-# CONFIG_USB_SERIAL_KEYSPAN is not set
-# CONFIG_USB_SERIAL_KLSI is not set
-# CONFIG_USB_SERIAL_KOBIL_SCT is not set
-# CONFIG_USB_SERIAL_MCT_U232 is not set
-# CONFIG_USB_SERIAL_MOS7720 is not set
-# CONFIG_USB_SERIAL_MOS7840 is not set
-# CONFIG_USB_SERIAL_MOTOROLA is not set
-# CONFIG_USB_SERIAL_NAVMAN is not set
-# CONFIG_USB_SERIAL_PL2303 is not set
-# CONFIG_USB_SERIAL_OTI6858 is not set
-# CONFIG_USB_SERIAL_QUALCOMM is not set
-# CONFIG_USB_SERIAL_SPCP8X5 is not set
-# CONFIG_USB_SERIAL_HP4X is not set
-# CONFIG_USB_SERIAL_SAFE is not set
-# CONFIG_USB_SERIAL_SIEMENS_MPI is not set
-# CONFIG_USB_SERIAL_SIERRAWIRELESS is not set
-# CONFIG_USB_SERIAL_SYMBOL is not set
-# CONFIG_USB_SERIAL_TI is not set
-# CONFIG_USB_SERIAL_CYBERJACK is not set
-# CONFIG_USB_SERIAL_XIRCOM is not set
-CONFIG_USB_SERIAL_OPTION=y
-# CONFIG_USB_SERIAL_OMNINET is not set
-# CONFIG_USB_SERIAL_OPTICON is not set
-# CONFIG_USB_SERIAL_DEBUG is not set
-
-#
-# USB Miscellaneous drivers
-#
-# CONFIG_USB_EMI62 is not set
-# CONFIG_USB_EMI26 is not set
-# CONFIG_USB_ADUTUX is not set
-# CONFIG_USB_SEVSEG is not set
-# CONFIG_USB_RIO500 is not set
-# CONFIG_USB_LEGOTOWER is not set
-# CONFIG_USB_LCD is not set
-# CONFIG_USB_BERRY_CHARGE is not set
-# CONFIG_USB_LED is not set
-# CONFIG_USB_CYPRESS_CY7C63 is not set
-# CONFIG_USB_CYTHERM is not set
-# CONFIG_USB_IDMOUSE is not set
-# CONFIG_USB_FTDI_ELAN is not set
-# CONFIG_USB_APPLEDISPLAY is not set
-# CONFIG_USB_LD is not set
-# CONFIG_USB_TRANCEVIBRATOR is not set
-# CONFIG_USB_IOWARRIOR is not set
-# CONFIG_USB_TEST is not set
-# CONFIG_USB_ISIGHTFW is not set
-# CONFIG_USB_VST is not set
-CONFIG_USB_GADGET=y
-# CONFIG_USB_GADGET_DEBUG is not set
-# CONFIG_USB_GADGET_DEBUG_FILES is not set
-CONFIG_USB_GADGET_VBUS_DRAW=2
-CONFIG_USB_GADGET_SELECTED=y
-# CONFIG_USB_GADGET_AT91 is not set
-# CONFIG_USB_GADGET_ATMEL_USBA is not set
-# CONFIG_USB_GADGET_FSL_USB2 is not set
-# CONFIG_USB_GADGET_LH7A40X is not set
-# CONFIG_USB_GADGET_OMAP is not set
-# CONFIG_USB_GADGET_PXA25X is not set
-# CONFIG_USB_GADGET_R8A66597 is not set
-# CONFIG_USB_GADGET_PXA27X is not set
-# CONFIG_USB_GADGET_S3C_HSOTG is not set
-# CONFIG_USB_GADGET_IMX is not set
-# CONFIG_USB_GADGET_S3C2410 is not set
-# CONFIG_USB_GADGET_M66592 is not set
-# CONFIG_USB_GADGET_AMD5536UDC is not set
-# CONFIG_USB_GADGET_FSL_QE is not set
-# CONFIG_USB_GADGET_CI13XXX is not set
-# CONFIG_USB_GADGET_NET2280 is not set
-# CONFIG_USB_GADGET_GOKU is not set
-# CONFIG_USB_GADGET_LANGWELL is not set
-CONFIG_USB_GADGET_DWC_OTG=y
-CONFIG_USB_DWC_OTG=y
-# CONFIG_USB_GADGET_DUMMY_HCD is not set
-CONFIG_USB_GADGET_DUALSPEED=y
-# CONFIG_USB_ZERO is not set
-# CONFIG_USB_AUDIO is not set
-# CONFIG_USB_ETH is not set
-# CONFIG_USB_GADGETFS is not set
-# CONFIG_USB_FILE_STORAGE is not set
-# CONFIG_USB_G_SERIAL is not set
-# CONFIG_USB_MIDI_GADGET is not set
-# CONFIG_USB_G_PRINTER is not set
-CONFIG_USB_ANDROID=y
-# CONFIG_USB_ANDROID_ACM is not set
-CONFIG_USB_ANDROID_ADB=y
-CONFIG_USB_ANDROID_MASS_STORAGE=y
-# CONFIG_USB_ANDROID_RNDIS is not set
-# CONFIG_USB_CDC_COMPOSITE is not set
-
-#
-# OTG and related infrastructure
-#
-# CONFIG_USB_GPIO_VBUS is not set
-# CONFIG_NOP_USB_XCEIV is not set
-# CONFIG_USB11_HOST is not set
-CONFIG_USB20_HOST=y
-CONFIG_USB20_HOST_EN=y
-CONFIG_USB20_OTG=y
-# CONFIG_DWC_OTG_HOST_ONLY is not set
-CONFIG_DWC_OTG_DEVICE_ONLY=y
-# CONFIG_DWC_OTG_BOTH_HOST_SLAVE is not set
-CONFIG_DWC_CONN_EN=y
-# CONFIG_DWC_OTG_DEBUG is not set
-# CONFIG_DWC_REMOTE_WAKEUP is not set
-CONFIG_DWC_OTG=y
-CONFIG_MMC=y
-# CONFIG_MMC_DEBUG is not set
-CONFIG_MMC_UNSAFE_RESUME=y
-CONFIG_MMC_EMBEDDED_SDIO=y
-CONFIG_MMC_PARANOID_SD_INIT=y
-
-#
-# MMC/SD/SDIO Card Drivers
-#
-CONFIG_MMC_BLOCK=y
-CONFIG_MMC_BLOCK_BOUNCE=y
-# CONFIG_MMC_BLOCK_DEFERRED_RESUME is not set
-# CONFIG_SDIO_UART is not set
-# CONFIG_MMC_TEST is not set
-
-#
-# MMC/SD/SDIO Host Controller Drivers
-#
-CONFIG_SDMMC_RK29=y
-
-#
-# Now, there are two SDMMC controllers selected, SDMMC0 and SDMMC1.
-#
-# CONFIG_SDMMC_RK29_OLD is not set
-CONFIG_SDMMC0_RK29=y
-CONFIG_SDMMC1_RK29=y
-# CONFIG_MMC_SDHCI is not set
-# CONFIG_MMC_AT91 is not set
-# CONFIG_MMC_ATMELMCI is not set
-# CONFIG_MEMSTICK is not set
-CONFIG_NEW_LEDS=y
-CONFIG_LEDS_CLASS=y
-
-#
-# LED drivers
-#
-# CONFIG_LEDS_PCA9532 is not set
-CONFIG_LEDS_GPIO=y
-CONFIG_LEDS_GPIO_PLATFORM=y
-CONFIG_LEDS_NEWTON_PWM=y
-# CONFIG_LEDS_LP3944 is not set
-# CONFIG_LEDS_PCA955X is not set
-# CONFIG_LEDS_BD2802 is not set
-# CONFIG_LEDS_ATT1272 is not set
-
-#
-# LED Triggers
-#
-CONFIG_LEDS_TRIGGERS=y
-CONFIG_LEDS_TRIGGER_TIMER=y
-# CONFIG_LEDS_TRIGGER_HEARTBEAT is not set
-# CONFIG_LEDS_TRIGGER_BACKLIGHT is not set
-# CONFIG_LEDS_TRIGGER_GPIO is not set
-# CONFIG_LEDS_TRIGGER_DEFAULT_ON is not set
-# CONFIG_LEDS_TRIGGER_SLEEP is not set
-
-#
-# iptables trigger is under Netfilter config (LED target)
-#
-CONFIG_SWITCH=y
-CONFIG_SWITCH_GPIO=y
-# CONFIG_ACCESSIBILITY is not set
-CONFIG_RTC_LIB=y
-CONFIG_RTC_CLASS=y
-CONFIG_RTC_HCTOSYS=y
-CONFIG_RTC_HCTOSYS_DEVICE="rtc0"
-# CONFIG_RTC_DEBUG is not set
-
-#
-# RTC interfaces
-#
-CONFIG_RTC_INTF_SYSFS=y
-CONFIG_RTC_INTF_PROC=y
-CONFIG_RTC_INTF_DEV=y
-# CONFIG_RTC_INTF_DEV_UIE_EMUL is not set
-CONFIG_RTC_INTF_ALARM=y
-CONFIG_RTC_INTF_ALARM_DEV=y
-# CONFIG_RTC_DRV_TEST is not set
-
-#
-# I2C RTC drivers
-#
-# CONFIG_RTC_HYM8563 is not set
-CONFIG_RTC_M41T66=y
-# CONFIG_RTC_DRV_DS1307 is not set
-# CONFIG_RTC_DRV_DS1374 is not set
-# CONFIG_RTC_DRV_DS1672 is not set
-# CONFIG_RTC_DRV_MAX6900 is not set
-# CONFIG_RTC_DRV_RS5C372 is not set
-# CONFIG_RTC_DRV_ISL1208 is not set
-# CONFIG_RTC_DRV_X1205 is not set
-# CONFIG_RTC_DRV_PCF8563 is not set
-# CONFIG_RTC_DRV_PCF8583 is not set
-# CONFIG_RTC_DRV_M41T80 is not set
-# CONFIG_RTC_DRV_S35390A is not set
-# CONFIG_RTC_DRV_S35392A is not set
-# CONFIG_RTC_DRV_FM3130 is not set
-# CONFIG_RTC_DRV_RX8581 is not set
-# CONFIG_RTC_DRV_RX8025 is not set
-
-#
-# SPI RTC drivers
-#
-
-#
-# Platform RTC drivers
-#
-# CONFIG_RTC_DRV_CMOS is not set
-# CONFIG_RTC_DRV_DS1286 is not set
-# CONFIG_RTC_DRV_DS1511 is not set
-# CONFIG_RTC_DRV_DS1553 is not set
-# CONFIG_RTC_DRV_DS1742 is not set
-# CONFIG_RTC_DRV_STK17TA8 is not set
-# CONFIG_RTC_DRV_M48T86 is not set
-# CONFIG_RTC_DRV_M48T35 is not set
-# CONFIG_RTC_DRV_M48T59 is not set
-# CONFIG_RTC_DRV_BQ4802 is not set
-# CONFIG_RTC_DRV_V3020 is not set
-
-#
-# on-CPU RTC drivers
-#
-# CONFIG_DMADEVICES is not set
-# CONFIG_AUXDISPLAY is not set
-# CONFIG_UIO is not set
-
-#
-# TI VLYNQ
-#
-CONFIG_STAGING=y
-# CONFIG_STAGING_EXCLUDE_BUILD is not set
-# CONFIG_USB_IP_COMMON is not set
-# CONFIG_PRISM2_USB is not set
-# CONFIG_ECHO is not set
-# CONFIG_COMEDI is not set
-# CONFIG_ASUS_OLED is not set
-# CONFIG_TRANZPORT is not set
-
-#
-# Android
-#
-CONFIG_ANDROID=y
-CONFIG_ANDROID_BINDER_IPC=y
-CONFIG_ANDROID_LOGGER=y
-CONFIG_ANDROID_RAM_CONSOLE=y
-CONFIG_ANDROID_RAM_CONSOLE_ENABLE_VERBOSE=y
-CONFIG_ANDROID_RAM_CONSOLE_ERROR_CORRECTION=y
-CONFIG_ANDROID_RAM_CONSOLE_ERROR_CORRECTION_DATA_SIZE=128
-CONFIG_ANDROID_RAM_CONSOLE_ERROR_CORRECTION_ECC_SIZE=16
-CONFIG_ANDROID_RAM_CONSOLE_ERROR_CORRECTION_SYMBOL_SIZE=8
-CONFIG_ANDROID_RAM_CONSOLE_ERROR_CORRECTION_POLYNOMIAL=0x11d
-# CONFIG_ANDROID_RAM_CONSOLE_EARLY_INIT is not set
-CONFIG_ANDROID_TIMED_OUTPUT=y
-CONFIG_ANDROID_TIMED_GPIO=y
-CONFIG_ANDROID_LOW_MEMORY_KILLER=y
-# CONFIG_DST is not set
-# CONFIG_POHMELFS is not set
-# CONFIG_PLAN9AUTH is not set
-# CONFIG_LINE6_USB is not set
-# CONFIG_USB_SERIAL_QUATECH2 is not set
-# CONFIG_USB_SERIAL_QUATECH_USB2 is not set
-# CONFIG_VT6656 is not set
-# CONFIG_FB_UDL is not set
-
-#
-# RAR Register Driver
-#
-# CONFIG_RAR_REGISTER is not set
-# CONFIG_IIO is not set
-
-#
-# GPU Vivante
-#
-CONFIG_VIVANTE=y
-
-#
-# IPP
-#
-CONFIG_RK29_IPP=y
-CONFIG_DEINTERLACE=y
-
-#
-# CMMB
-#
-# CONFIG_CMMB is not set
-# CONFIG_TEST_CODE is not set
-CONFIG_RK29_SMC=y
-
-#
-# CIR support
-#
-CONFIG_RK_CIR=y
-CONFIG_BU92747GUW_CIR=y
-
-#
-# File systems
-#
-# CONFIG_EXT2_FS is not set
-CONFIG_EXT3_FS=y
-CONFIG_EXT3_DEFAULTS_TO_ORDERED=y
-# CONFIG_EXT3_FS_XATTR is not set
-CONFIG_EXT4_FS=y
-# CONFIG_EXT4_FS_XATTR is not set
-# CONFIG_EXT4_DEBUG is not set
-CONFIG_JBD=y
-CONFIG_JBD2=y
-# CONFIG_REISERFS_FS is not set
-# CONFIG_JFS_FS is not set
-# CONFIG_FS_POSIX_ACL is not set
-# CONFIG_XFS_FS is not set
-# CONFIG_OCFS2_FS is not set
-# CONFIG_BTRFS_FS is not set
-# CONFIG_NILFS2_FS is not set
-CONFIG_FILE_LOCKING=y
-CONFIG_FSNOTIFY=y
-# CONFIG_DNOTIFY is not set
-CONFIG_INOTIFY=y
-CONFIG_INOTIFY_USER=y
-# CONFIG_QUOTA is not set
-# CONFIG_AUTOFS_FS is not set
-# CONFIG_AUTOFS4_FS is not set
-CONFIG_FUSE_FS=y
-# CONFIG_CUSE is not set
-
-#
-# Caches
-#
-# CONFIG_FSCACHE is not set
-
-#
-# CD-ROM/DVD Filesystems
-#
-# CONFIG_ISO9660_FS is not set
-# CONFIG_UDF_FS is not set
-
-#
-# DOS/FAT/NT Filesystems
-#
-CONFIG_FAT_FS=y
-# CONFIG_MSDOS_FS is not set
-CONFIG_VFAT_FS=y
-CONFIG_FAT_DEFAULT_CODEPAGE=437
-CONFIG_FAT_DEFAULT_IOCHARSET="iso8859-1"
-# CONFIG_NTFS_FS is not set
-
-#
-# Pseudo filesystems
-#
-CONFIG_PROC_FS=y
-CONFIG_PROC_SYSCTL=y
-CONFIG_PROC_PAGE_MONITOR=y
-CONFIG_SYSFS=y
-CONFIG_TMPFS=y
-# CONFIG_TMPFS_POSIX_ACL is not set
-# CONFIG_HUGETLB_PAGE is not set
-# CONFIG_CONFIGFS_FS is not set
-CONFIG_MISC_FILESYSTEMS=y
-# CONFIG_ADFS_FS is not set
-# CONFIG_AFFS_FS is not set
-# CONFIG_HFS_FS is not set
-# CONFIG_HFSPLUS_FS is not set
-# CONFIG_BEFS_FS is not set
-# CONFIG_BFS_FS is not set
-# CONFIG_EFS_FS is not set
-# CONFIG_YAFFS_FS is not set
-# CONFIG_JFFS2_FS is not set
-CONFIG_CRAMFS=y
-# CONFIG_SQUASHFS is not set
-# CONFIG_VXFS_FS is not set
-# CONFIG_MINIX_FS is not set
-# CONFIG_OMFS_FS is not set
-# CONFIG_HPFS_FS is not set
-# CONFIG_QNX4FS_FS is not set
-# CONFIG_ROMFS_FS is not set
-# CONFIG_SYSV_FS is not set
-# CONFIG_UFS_FS is not set
-# CONFIG_NETWORK_FILESYSTEMS is not set
-
-#
-# Partition Types
-#
-# CONFIG_PARTITION_ADVANCED is not set
-CONFIG_MSDOS_PARTITION=y
-CONFIG_NLS=y
-CONFIG_NLS_DEFAULT="iso8859-1"
-CONFIG_NLS_CODEPAGE_437=y
-# CONFIG_NLS_CODEPAGE_737 is not set
-# CONFIG_NLS_CODEPAGE_775 is not set
-CONFIG_NLS_CODEPAGE_850=y
-# CONFIG_NLS_CODEPAGE_852 is not set
-# CONFIG_NLS_CODEPAGE_855 is not set
-# CONFIG_NLS_CODEPAGE_857 is not set
-# CONFIG_NLS_CODEPAGE_860 is not set
-# CONFIG_NLS_CODEPAGE_861 is not set
-# CONFIG_NLS_CODEPAGE_862 is not set
-# CONFIG_NLS_CODEPAGE_863 is not set
-# CONFIG_NLS_CODEPAGE_864 is not set
-# CONFIG_NLS_CODEPAGE_865 is not set
-# CONFIG_NLS_CODEPAGE_866 is not set
-# CONFIG_NLS_CODEPAGE_869 is not set
-CONFIG_NLS_CODEPAGE_936=y
-# CONFIG_NLS_CODEPAGE_950 is not set
-# CONFIG_NLS_CODEPAGE_932 is not set
-# CONFIG_NLS_CODEPAGE_949 is not set
-# CONFIG_NLS_CODEPAGE_874 is not set
-# CONFIG_NLS_ISO8859_8 is not set
-# CONFIG_NLS_CODEPAGE_1250 is not set
-# CONFIG_NLS_CODEPAGE_1251 is not set
-# CONFIG_NLS_ASCII is not set
-CONFIG_NLS_ISO8859_1=y
-# CONFIG_NLS_ISO8859_2 is not set
-# CONFIG_NLS_ISO8859_3 is not set
-# CONFIG_NLS_ISO8859_4 is not set
-# CONFIG_NLS_ISO8859_5 is not set
-# CONFIG_NLS_ISO8859_6 is not set
-# CONFIG_NLS_ISO8859_7 is not set
-# CONFIG_NLS_ISO8859_9 is not set
-# CONFIG_NLS_ISO8859_13 is not set
-# CONFIG_NLS_ISO8859_14 is not set
-CONFIG_NLS_ISO8859_15=y
-# CONFIG_NLS_KOI8_R is not set
-# CONFIG_NLS_KOI8_U is not set
-CONFIG_NLS_UTF8=y
-# CONFIG_DLM is not set
-
-#
-# Kernel hacking
-#
-CONFIG_PRINTK_TIME=y
-CONFIG_ENABLE_WARN_DEPRECATED=y
-CONFIG_ENABLE_MUST_CHECK=y
-CONFIG_FRAME_WARN=1024
-CONFIG_MAGIC_SYSRQ=y
-# CONFIG_STRIP_ASM_SYMS is not set
-# CONFIG_UNUSED_SYMBOLS is not set
-# CONFIG_DEBUG_FS is not set
-# CONFIG_HEADERS_CHECK is not set
-CONFIG_DEBUG_KERNEL=y
-# CONFIG_DEBUG_SHIRQ is not set
-CONFIG_DETECT_SOFTLOCKUP=y
-# CONFIG_BOOTPARAM_SOFTLOCKUP_PANIC is not set
-CONFIG_BOOTPARAM_SOFTLOCKUP_PANIC_VALUE=0
-CONFIG_DETECT_HUNG_TASK=y
-# CONFIG_BOOTPARAM_HUNG_TASK_PANIC is not set
-CONFIG_BOOTPARAM_HUNG_TASK_PANIC_VALUE=0
-# CONFIG_SCHED_DEBUG is not set
-CONFIG_SCHEDSTATS=y
-CONFIG_TIMER_STATS=y
-# CONFIG_DEBUG_OBJECTS is not set
-# CONFIG_DEBUG_SLAB is not set
-# CONFIG_DEBUG_KMEMLEAK is not set
-# CONFIG_DEBUG_PREEMPT is not set
-# CONFIG_DEBUG_RT_MUTEXES is not set
-# CONFIG_RT_MUTEX_TESTER is not set
-# CONFIG_DEBUG_SPINLOCK is not set
-# CONFIG_DEBUG_MUTEXES is not set
-# CONFIG_DEBUG_LOCK_ALLOC is not set
-# CONFIG_PROVE_LOCKING is not set
-# CONFIG_LOCK_STAT is not set
-# CONFIG_DEBUG_SPINLOCK_SLEEP is not set
-# CONFIG_DEBUG_LOCKING_API_SELFTESTS is not set
-# CONFIG_DEBUG_KOBJECT is not set
-# CONFIG_DEBUG_HIGHMEM is not set
-CONFIG_DEBUG_BUGVERBOSE=y
-# CONFIG_DEBUG_INFO is not set
-# CONFIG_DEBUG_VM is not set
-# CONFIG_DEBUG_WRITECOUNT is not set
-# CONFIG_DEBUG_MEMORY_INIT is not set
-# CONFIG_DEBUG_LIST is not set
-# CONFIG_DEBUG_SG is not set
-# CONFIG_DEBUG_NOTIFIERS is not set
-# CONFIG_DEBUG_CREDENTIALS is not set
-# CONFIG_BOOT_PRINTK_DELAY is not set
-# CONFIG_RCU_TORTURE_TEST is not set
-# CONFIG_RCU_CPU_STALL_DETECTOR is not set
-# CONFIG_BACKTRACE_SELF_TEST is not set
-# CONFIG_DEBUG_BLOCK_EXT_DEVT is not set
-# CONFIG_DEBUG_FORCE_WEAK_PER_CPU is not set
-# CONFIG_FAULT_INJECTION is not set
-# CONFIG_LATENCYTOP is not set
-# CONFIG_PAGE_POISONING is not set
-CONFIG_HAVE_FUNCTION_TRACER=y
-CONFIG_TRACING_SUPPORT=y
-# CONFIG_FTRACE is not set
-# CONFIG_SAMPLES is not set
-CONFIG_HAVE_ARCH_KGDB=y
-# CONFIG_KGDB is not set
-CONFIG_ARM_UNWIND=y
-# CONFIG_DEBUG_USER is not set
-CONFIG_DEBUG_ERRORS=y
-# CONFIG_DEBUG_STACK_USAGE is not set
-# CONFIG_DEBUG_LL is not set
-
-#
-# Security options
-#
-# CONFIG_KEYS is not set
-# CONFIG_SECURITY is not set
-# CONFIG_SECURITYFS is not set
-# CONFIG_SECURITY_FILE_CAPABILITIES is not set
-CONFIG_CRYPTO=y
-
-#
-# Crypto core or helper
-#
-CONFIG_CRYPTO_ALGAPI=y
-CONFIG_CRYPTO_ALGAPI2=y
-CONFIG_CRYPTO_AEAD=y
-CONFIG_CRYPTO_AEAD2=y
-CONFIG_CRYPTO_BLKCIPHER=y
-CONFIG_CRYPTO_BLKCIPHER2=y
-CONFIG_CRYPTO_HASH=y
-CONFIG_CRYPTO_HASH2=y
-CONFIG_CRYPTO_RNG2=y
-CONFIG_CRYPTO_PCOMP=y
-CONFIG_CRYPTO_MANAGER=y
-CONFIG_CRYPTO_MANAGER2=y
-# CONFIG_CRYPTO_GF128MUL is not set
-# CONFIG_CRYPTO_NULL is not set
-CONFIG_CRYPTO_WORKQUEUE=y
-# CONFIG_CRYPTO_CRYPTD is not set
-CONFIG_CRYPTO_AUTHENC=y
-# CONFIG_CRYPTO_TEST is not set
-
-#
-# Authenticated Encryption with Associated Data
-#
-# CONFIG_CRYPTO_CCM is not set
-# CONFIG_CRYPTO_GCM is not set
-# CONFIG_CRYPTO_SEQIV is not set
-
-#
-# Block modes
-#
-CONFIG_CRYPTO_CBC=y
-# CONFIG_CRYPTO_CTR is not set
-# CONFIG_CRYPTO_CTS is not set
-CONFIG_CRYPTO_ECB=y
-# CONFIG_CRYPTO_LRW is not set
-# CONFIG_CRYPTO_PCBC is not set
-# CONFIG_CRYPTO_XTS is not set
-
-#
-# Hash modes
-#
-CONFIG_CRYPTO_HMAC=y
-# CONFIG_CRYPTO_XCBC is not set
-# CONFIG_CRYPTO_VMAC is not set
-
-#
-# Digest
-#
-CONFIG_CRYPTO_CRC32C=y
-# CONFIG_CRYPTO_GHASH is not set
-# CONFIG_CRYPTO_MD4 is not set
-CONFIG_CRYPTO_MD5=y
-# CONFIG_CRYPTO_MICHAEL_MIC is not set
-# CONFIG_CRYPTO_RMD128 is not set
-# CONFIG_CRYPTO_RMD160 is not set
-# CONFIG_CRYPTO_RMD256 is not set
-# CONFIG_CRYPTO_RMD320 is not set
-CONFIG_CRYPTO_SHA1=y
-# CONFIG_CRYPTO_SHA256 is not set
-# CONFIG_CRYPTO_SHA512 is not set
-# CONFIG_CRYPTO_TGR192 is not set
-# CONFIG_CRYPTO_WP512 is not set
-
-#
-# Ciphers
-#
-# CONFIG_CRYPTO_AES is not set
-# CONFIG_CRYPTO_ANUBIS is not set
-CONFIG_CRYPTO_ARC4=y
-# CONFIG_CRYPTO_BLOWFISH is not set
-# CONFIG_CRYPTO_CAMELLIA is not set
-# CONFIG_CRYPTO_CAST5 is not set
-# CONFIG_CRYPTO_CAST6 is not set
-CONFIG_CRYPTO_DES=y
-# CONFIG_CRYPTO_FCRYPT is not set
-# CONFIG_CRYPTO_KHAZAD is not set
-# CONFIG_CRYPTO_SALSA20 is not set
-# CONFIG_CRYPTO_SEED is not set
-# CONFIG_CRYPTO_SERPENT is not set
-# CONFIG_CRYPTO_TEA is not set
-CONFIG_CRYPTO_TWOFISH=y
-CONFIG_CRYPTO_TWOFISH_COMMON=y
-
-#
-# Compression
-#
-CONFIG_CRYPTO_DEFLATE=y
-# CONFIG_CRYPTO_ZLIB is not set
-# CONFIG_CRYPTO_LZO is not set
-
-#
-# Random Number Generation
-#
-# CONFIG_CRYPTO_ANSI_CPRNG is not set
-CONFIG_CRYPTO_HW=y
-# CONFIG_BINARY_PRINTF is not set
-
-#
-# Library routines
-#
-CONFIG_BITREVERSE=y
-CONFIG_GENERIC_FIND_LAST_BIT=y
-CONFIG_CRC_CCITT=y
-CONFIG_CRC16=y
-# CONFIG_CRC_T10DIF is not set
-# CONFIG_CRC_ITU_T is not set
-CONFIG_CRC32=y
-# CONFIG_CRC7 is not set
-CONFIG_LIBCRC32C=y
-CONFIG_ZLIB_INFLATE=y
-CONFIG_ZLIB_DEFLATE=y
-CONFIG_DECOMPRESS_GZIP=y
-CONFIG_REED_SOLOMON=y
-CONFIG_REED_SOLOMON_ENC8=y
-CONFIG_REED_SOLOMON_DEC8=y
-CONFIG_TEXTSEARCH=y
-CONFIG_TEXTSEARCH_KMP=y
-CONFIG_TEXTSEARCH_BM=y
-CONFIG_TEXTSEARCH_FSM=y
-CONFIG_HAS_IOMEM=y
-CONFIG_HAS_IOPORT=y
-CONFIG_HAS_DMA=y
-CONFIG_NLATTR=y
diff --git a/arch/arm/mach-rk29/Kconfig b/arch/arm/mach-rk29/Kconfig
index c85df82a93f9..2420f80e8208 100755
--- a/arch/arm/mach-rk29/Kconfig
+++ b/arch/arm/mach-rk29/Kconfig
@@ -56,12 +56,6 @@ config MACH_RK29_PHONEPADSDK
         help
 	  Support for the ROCKCHIP Board For Rk29 Phone Pad Sdk.
 	  
-config MACH_RK29_newton
-		depends on ARCH_RK29
-		bool "ROCKCHIP Board Rk29 For project newton"
-		help
-		  Support for the ROCKCHIP Board For project newton.
-
 config MACH_RK29_PHONE_Z5
 	depends on ARCH_RK29
 	bool "ROCKCHIP Board Rk29 For Z5"
@@ -70,12 +64,6 @@ config MACH_RK29_PHONE_Z5
 		  
 endchoice
 
-config RK29_NEWTON_CLOCK
-	depends on MACH_RK29_newton
-	bool "enable newton 1.2G cpu clock support"
-	help
-	  support for newton 1.2G cpu clock.
-
 config RK29_MEM_SIZE_M
 	int "DDR Memory size (in MB)"
 	default 512
diff --git a/arch/arm/mach-rk29/Makefile b/arch/arm/mach-rk29/Makefile
index b41afc619a1b..ec42d66b3e1a 100755
--- a/arch/arm/mach-rk29/Makefile
+++ b/arch/arm/mach-rk29/Makefile
@@ -14,7 +14,6 @@ obj-$(CONFIG_MACH_RK29FIH) += board-rk29-fih.o board-rk29-fih-key.o board-rk29sd
 obj-$(CONFIG_MACH_RK29_A22) += board-rk29-a22.o board-rk29-a22-key.o board-rk29-a22-rfkill.o
 obj-$(CONFIG_MACH_RK29_TD8801_V2) += board-rk29-td8801_v2.o board-rk29-td8801_v2-key.o board-rk29-td8801_v2-rfkill.o
 obj-$(CONFIG_MACH_RK29_PHONEPADSDK) += board-rk29phonepadsdk.o board-rk29phonepadsdk-key.o board-rk29phonepadsdk-rfkill.o board-rk29phonepadsdk-power.o
-obj-$(CONFIG_MACH_RK29_newton) += board-rk29-newton.o board-rk29-newton-key.o board-newton-rfkill.o board-rk29sdk-power.o
 obj-$(CONFIG_RK29_CHARGE_EARLYSUSPEND) += rk29_charge_lowpower.o
 obj-$(CONFIG_MACH_RK29_K97) += board-rk29-k97.o board-rk29k97-key.o board-rk29sdk-rfkill.o board-rk29sdk-power.o
 obj-$(CONFIG_MACH_RK29_PHONE_Z5) += board-rk29-z5.o board-rk29-z5-key.o board-rk29-z5-rfkill.o
diff --git a/arch/arm/mach-rk29/board-newton-rfkill.c b/arch/arm/mach-rk29/board-newton-rfkill.c
deleted file mode 100644
index cd125e93b278..000000000000
--- a/arch/arm/mach-rk29/board-newton-rfkill.c
+++ /dev/null
@@ -1,296 +0,0 @@
-/*
- * Copyright (C) 2010 ROCKCHIP, Inc.
- * Author: roger_chen <cz@rock-chips.com>
- *
- * This program is the bluetooth device bcm4329's driver,
- *
- */
-
-#include <linux/kernel.h>
-#include <linux/platform_device.h>
-#include <linux/module.h>
-#include <linux/device.h>
-#include <linux/rfkill.h>
-#include <linux/delay.h>
-#include <linux/i2c.h>
-#include <linux/init.h>
-#include <linux/slab.h>
-#include <linux/interrupt.h>
-#include <linux/wakelock.h>
-#include <linux/fs.h>
-#include <asm/uaccess.h>
-#include <mach/gpio.h>
-#include <asm/irq.h>
-#include <mach/iomux.h>
-#include <linux/wakelock.h>
-#include <linux/timer.h>
-
-#if 0
-#define DBG(x...)   printk(KERN_INFO x)
-#else
-#define DBG(x...)
-#endif
-
-#define BT_WAKE_HOST_SUPPORT 0
-
-struct bt_ctrl
-{
-    struct rfkill *bt_rfk;
-#if BT_WAKE_HOST_SUPPORT
-    struct timer_list tl;
-    bool b_HostWake;
-    struct wake_lock bt_wakelock;
-#endif
-};
-
-#define BT_GPIO_POWER           RK29_PIN5_PD6
-#define IOMUX_BT_GPIO_POWER     rk29_mux_api_set(GPIO5D6_SDMMC1PWREN_NAME, GPIO5H_GPIO5D6);
-#define BT_GPIO_RESET          	RK29_PIN6_PC4
-#define BT_GPIO_WAKE_UP         RK29_PIN6_PC5
-#define BT_GPIO_WAKE_UP_HOST    //RK2818_PIN_PA7
-#define IOMUX_BT_GPIO_WAKE_UP_HOST() //rk2818_mux_api_set(GPIOA7_FLASHCS3_SEL_NAME,0);
-
-#define BT_WAKE_LOCK_TIMEOUT    10 //s
-
-static const char bt_name[] = "bcm4329";
-extern int rk29sdk_bt_power_state;
-extern int rk29sdk_wifi_power_state;
-
-struct bt_ctrl gBtCtrl;
-    
-#if BT_WAKE_HOST_SUPPORT
-void resetBtHostSleepTimer(void)
-{
-    mod_timer(&(gBtCtrl.tl),jiffies + BT_WAKE_LOCK_TIMEOUT*HZ);//    
-}
-
-void btWakeupHostLock(void)
-{
-    if(gBtCtrl.b_HostWake == false){
-        DBG("*************************Lock\n");
-        wake_lock(&(gBtCtrl.bt_wakelock));
-        gBtCtrl.b_HostWake = true;
-    }
-}
-
-void btWakeupHostUnlock(void)
-{
-    if(gBtCtrl.b_HostWake == true){        
-        DBG("*************************UnLock\n");
-        wake_unlock(&(gBtCtrl.bt_wakelock));  //    
-        gBtCtrl.b_HostWake = false;
-    }    
-}
-
-static void timer_hostSleep(unsigned long arg)
-{     
-	DBG("%s---b_HostWake=%d\n",__FUNCTION__,gBtCtrl.b_HostWake);
-    btWakeupHostUnlock();
-}
-
-
-#ifdef CONFIG_PM
-static int bcm4329_rfkill_suspend(struct platform_device *pdev, pm_message_t state)
-{   
-    DBG("%s\n",__FUNCTION__);  	
-    return 0;
-}
-
-static int bcm4329_rfkill_resume(struct platform_device *pdev)
-{  
-    DBG("%s\n",__FUNCTION__);     
-    btWakeupHostLock();
-    resetBtHostSleepTimer();
-    return 0;
-}
-#else
-#define bcm4329_rfkill_suspend NULL
-#define bcm4329_rfkill_resume  NULL
-#endif
-
-static irqreturn_t bcm4329_wake_host_irq(int irq, void *dev)
-{
-    btWakeupHostLock();
-    resetBtHostSleepTimer();
-	return IRQ_HANDLED;
-}
-#endif
-
-#ifdef CONFIG_BT_HCIBCM4325
-int bcm4325_sleep(int bSleep)
-{
-//	printk("*************bt enter sleep***************\n");
-    if (bSleep)
-    gpio_set_value(BT_GPIO_WAKE_UP, GPIO_LOW);   //low represent bt device may enter sleep  
-    else
-    gpio_set_value(BT_GPIO_WAKE_UP, GPIO_HIGH);  //high represent bt device must be awake 
-
-	//printk("sleep=%d\n",bSleep);
-}
-#endif
-  
-static int bcm4329_set_block(void *data, bool blocked)
-{
-    	DBG("%s---blocked :%d\n", __FUNCTION__, blocked);
-
-        IOMUX_BT_GPIO_POWER;
-
-    	if (false == blocked) { 
-            gpio_set_value(BT_GPIO_POWER, GPIO_HIGH);  /* bt power on */
-            gpio_set_value(BT_GPIO_RESET, GPIO_LOW);
-            mdelay(200);
-            gpio_set_value(BT_GPIO_RESET, GPIO_HIGH);  /* bt reset deactive*/
-            mdelay(200);
-        
-#if BT_WAKE_HOST_SUPPORT     
-            btWakeupHostLock();
-#endif         
-        	pr_info("bt turn on power\n");
-    	}
-    	else {
-#if BT_WAKE_HOST_SUPPORT     
-            btWakeupHostUnlock();
-#endif
-// cwz 0: close for bt uart2 larkage.
-#if 0
-		if (!rk29sdk_wifi_power_state) {
-                    gpio_set_value(BT_GPIO_POWER, GPIO_LOW);  /* bt power off */
-                    mdelay(20);	
-                    pr_info("bt shut off power\n");
-		}else {
-                    pr_info("bt shouldn't shut off power, wifi is using it!\n");
-		}
-#endif
-		gpio_set_value(BT_GPIO_RESET, GPIO_LOW);  /* bt reset active*/
-		mdelay(20);
-    	}
-
-    	rk29sdk_bt_power_state = !blocked;
-    	return 0;
-}
-
-
-static const struct rfkill_ops bcm4329_rfk_ops = {
-	.set_block = bcm4329_set_block,
-};
-
-static int __devinit bcm4329_rfkill_probe(struct platform_device *pdev)
-{
-	int rc = 0;
-	bool default_state = true;
-	
-	DBG("Enter::%s,line=%d\n",__FUNCTION__,__LINE__);
-	
-	/* default to bluetooth off */
- 	bcm4329_set_block(NULL, default_state); /* blocked -> bt off */
-	 
-	gBtCtrl.bt_rfk = rfkill_alloc(bt_name, 
-                NULL, 
-                RFKILL_TYPE_BLUETOOTH, 
-                &bcm4329_rfk_ops, 
-                NULL);
-
-	if (!gBtCtrl.bt_rfk)
-	{
-		printk("fail to rfkill_allocate************\n");
-		return -ENOMEM;
-	}
-	
-	rfkill_set_states(gBtCtrl.bt_rfk, default_state, false);
-
-	rc = rfkill_register(gBtCtrl.bt_rfk);
-	if (rc)
-	{
-		printk("failed to rfkill_register,rc=0x%x\n",rc);
-		rfkill_destroy(gBtCtrl.bt_rfk);
-	}
-	
-	gpio_request(BT_GPIO_POWER, NULL);
-	gpio_request(BT_GPIO_RESET, NULL);
-	gpio_request(BT_GPIO_WAKE_UP, NULL);
-
-#if BT_WAKE_HOST_SUPPORT
-    init_timer(&(gBtCtrl.tl));
-    gBtCtrl.tl.expires = jiffies + BT_WAKE_LOCK_TIMEOUT*HZ;        
-    gBtCtrl.tl.function = timer_hostSleep;        
-    add_timer(&(gBtCtrl.tl));
-    gBtCtrl.b_HostWake = false;
-    
-	wake_lock_init(&(gBtCtrl.bt_wakelock), WAKE_LOCK_SUSPEND, "bt_wake");
-	
-	rc = gpio_request(BT_GPIO_WAKE_UP_HOST, "bt_wake");
-	if (rc) {
-		printk("%s:failed to request RAHO_BT_WAKE_UP_HOST\n",__FUNCTION__);
-	}
-	
-	IOMUX_BT_GPIO_WAKE_UP_HOST();
-	gpio_pull_updown(BT_GPIO_WAKE_UP_HOST,GPIOPullUp);
-	rc = request_irq(gpio_to_irq(BT_GPIO_WAKE_UP_HOST),bcm4329_wake_host_irq,IRQF_TRIGGER_FALLING,NULL,NULL);
-	if(rc)
-	{
-		printk("%s:failed to request RAHO_BT_WAKE_UP_HOST irq\n",__FUNCTION__);
-		gpio_free(BT_GPIO_WAKE_UP_HOST);
-	}
-	enable_irq_wake(gpio_to_irq(BT_GPIO_WAKE_UP_HOST)); // so RAHO_BT_WAKE_UP_HOST can wake up system
-
-	printk(KERN_INFO "bcm4329 module has been initialized,rc=0x%x\n",rc);
- #endif
- 
-	return rc;
-
-	
-}
-
-
-static int __devexit bcm4329_rfkill_remove(struct platform_device *pdev)
-{
-	if (gBtCtrl.bt_rfk)
-		rfkill_unregister(gBtCtrl.bt_rfk);
-	gBtCtrl.bt_rfk = NULL;
-#if BT_WAKE_HOST_SUPPORT	
-    del_timer(&(gBtCtrl.tl));//
-    btWakeupHostUnlock();
-    wake_lock_destroy(&(gBtCtrl.bt_wakelock));
-#endif    
-	platform_set_drvdata(pdev, NULL);
-
-	DBG("Enter::%s,line=%d\n",__FUNCTION__,__LINE__);
-	return 0;
-}
-
-static struct platform_driver bcm4329_rfkill_driver = {
-	.probe = bcm4329_rfkill_probe,
-	.remove = __devexit_p(bcm4329_rfkill_remove),
-	.driver = {
-		.name = "rk29sdk_rfkill", 
-		.owner = THIS_MODULE,
-	},	
-#if BT_WAKE_HOST_SUPPORT
-    .suspend = bcm4329_rfkill_suspend,
-    .resume = bcm4329_rfkill_resume,
-#endif
-};
-
-/*
- * Module initialization
- */
-static int __init bcm4329_mod_init(void)
-{
-	int ret;
-	DBG("Enter::%s,line=%d\n",__FUNCTION__,__LINE__);
-	ret = platform_driver_register(&bcm4329_rfkill_driver);
-    	printk("ret=0x%x\n", ret);
-	return ret;
-}
-
-static void __exit bcm4329_mod_exit(void)
-{
-	platform_driver_unregister(&bcm4329_rfkill_driver);
-}
-
-module_init(bcm4329_mod_init);
-module_exit(bcm4329_mod_exit);
-MODULE_DESCRIPTION("bcm4329 Bluetooth driver");
-MODULE_AUTHOR("roger_chen cz@rock-chips.com");
-MODULE_LICENSE("GPL");
-
diff --git a/arch/arm/mach-rk29/board-rk29-newton-key.c b/arch/arm/mach-rk29/board-rk29-newton-key.c
deleted file mode 100644
index 7470cb2bf330..000000000000
--- a/arch/arm/mach-rk29/board-rk29-newton-key.c
+++ /dev/null
@@ -1,60 +0,0 @@
-#include <mach/key.h>
-#include <mach/gpio.h>
-#include <mach/board.h>
-
-#define EV_ENCALL				KEY_F4
-#define EV_MENU					KEY_F1
-
-#define PRESS_LEV_LOW			1
-#define PRESS_LEV_HIGH			0
-
-static struct rk29_keys_button key_button[] = {
-	{
-		.desc	= "menu",
-		.code	= EV_MENU,
-		.gpio	= RK29_PIN6_PA3,  // PA0--> PA3: home -> menu
-		.active_low = PRESS_LEV_LOW,
-		.wakeup = 0,
-	},
-	{
-		.desc	= "vol+",
-		.code	= KEY_VOLUMEUP,
-		.gpio	= RK29_PIN6_PA2,
-		.active_low = PRESS_LEV_LOW,
-		.wakeup = 0,
-	},
-	{
-		.desc	= "vol-",
-		.code	= KEY_VOLUMEDOWN,
-		.gpio	= RK29_PIN6_PA1,
-		.active_low = PRESS_LEV_LOW,
-		.wakeup = 0,
-	},
-	{
-		.desc	= "home",
-		.code	= KEY_HOME,
-		.gpio	= RK29_PIN6_PA5,  //PA3 --> PA5
-		.active_low = PRESS_LEV_LOW,
-		.wakeup = 0,
-	},
-	{
-		.desc	= "esc",
-		.code	= KEY_BACK,
-		.gpio	= RK29_PIN6_PA0, //PA5-->PA0: menu-> esc
-		.active_low = PRESS_LEV_LOW,
-		.wakeup = 0,
-	},
-	{
-		.desc	= "play",
-		.code	= KEY_POWER,
-		.gpio	= RK29_PIN6_PA7,
-		.active_low = PRESS_LEV_LOW,
-		.wakeup	= 1,
-	},
-};
-struct rk29_keys_platform_data rk29_keys_pdata = {
-	.buttons	= key_button,
-	.nbuttons	= ARRAY_SIZE(key_button),
-	.chn	= -1,  //chn: 0-7, if do not use ADC,set 'chn' -1
-};
-
diff --git a/arch/arm/mach-rk29/board-rk29-newton.c b/arch/arm/mach-rk29/board-rk29-newton.c
deleted file mode 100755
index 0346c832cdc5..000000000000
--- a/arch/arm/mach-rk29/board-rk29-newton.c
+++ /dev/null
@@ -1,2373 +0,0 @@
-/* arch/arm/mach-rk29/board-rk29.c
- *
- * Copyright (C) 2010 ROCKCHIP, Inc.
- *
- * This software is licensed under the terms of the GNU General Public
- * License version 2, as published by the Free Software Foundation, and
- * may be copied, distributed, and modified under those terms.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- * GNU General Public License for more details.
- *
- */
-
-#include <linux/kernel.h>
-#include <linux/init.h>
-#include <linux/platform_device.h>
-#include <linux/input.h>
-#include <linux/io.h>
-#include <linux/delay.h>
-#include <linux/i2c.h>
-#include <linux/spi/spi.h>
-#include <linux/mmc/host.h>
-#include <linux/android_pmem.h>
-#include <linux/usb/android_composite.h>
-
-#include <mach/hardware.h>
-#include <asm/setup.h>
-#include <asm/mach-types.h>
-#include <asm/mach/arch.h>
-#include <asm/mach/map.h>
-#include <asm/mach/flash.h>
-#include <asm/hardware/gic.h>
-
-#include <mach/iomux.h>
-#include <mach/gpio.h>
-#include <mach/irqs.h>
-#include <mach/rk29_iomap.h>
-#include <mach/board.h>
-#include <mach/rk29_nand.h>
-#include <mach/rk29_camera.h>                          /* ddl@rock-chips.com : camera support */
-#include <media/soc_camera.h>                               /* ddl@rock-chips.com : camera support */
-#include <mach/vpu_mem.h>
-#include <mach/sram.h>
-#include <mach/ddr.h>
-#include <mach/cpufreq.h>
-#include <mach/rk29_smc.h>
-
-#include <linux/regulator/rk29-pwm-regulator.h>
-#include <linux/regulator/machine.h>
-
-#include <linux/mtd/nand.h>
-#include <linux/mtd/partitions.h>
-#include <linux/i2c-gpio.h>
-
-#include "devices.h"
-#include "../../../drivers/input/touchscreen/xpt2046_cbn_ts.h"
-
-#ifdef CONFIG_BU92747GUW_CIR
-#include "../../../drivers/cir/bu92747guw_cir.h"
-#endif
-
-// define for newton for hardware 1.5V
-#define RK29_NEWTON_NEWBOARD
-
-
-#ifdef CONFIG_VIDEO_RK29
-/*---------------- Camera Sensor Macro Define Begin  ------------------------*/
-/*---------------- Camera Sensor Configuration Macro Begin ------------------------*/
-#define CONFIG_SENSOR_0                   RK29_CAM_SENSOR_OV2655         /* back camera sensor */
-#define CONFIG_SENSOR_IIC_ADDR_0 	      0//0x60
-#define CONFIG_SENSOR_IIC_ADAPTER_ID_0    1
-#define CONFIG_SENSOR_POWER_PIN_0         INVALID_GPIO
-#define CONFIG_SENSOR_RESET_PIN_0         INVALID_GPIO
-#define CONFIG_SENSOR_POWERDN_PIN_0       INVALID_GPIO
-#define CONFIG_SENSOR_FALSH_PIN_0         INVALID_GPIO
-#define CONFIG_SENSOR_POWERACTIVE_LEVEL_0 RK29_CAM_POWERACTIVE_L
-#define CONFIG_SENSOR_RESETACTIVE_LEVEL_0 RK29_CAM_RESETACTIVE_L
-#define CONFIG_SENSOR_POWERDNACTIVE_LEVEL_0 RK29_CAM_POWERDNACTIVE_H
-#define CONFIG_SENSOR_FLASHACTIVE_LEVEL_0 RK29_CAM_FLASHACTIVE_L
-
-#define CONFIG_SENSOR_1                   RK29_CAM_SENSOR_OV3640                     /* front camera sensor */
-#define CONFIG_SENSOR_IIC_ADDR_1 	      0x78
-#define CONFIG_SENSOR_IIC_ADAPTER_ID_1    1
-#define CONFIG_SENSOR_POWER_PIN_1         INVALID_GPIO
-#define CONFIG_SENSOR_RESET_PIN_1         INVALID_GPIO
-#define CONFIG_SENSOR_POWERDN_PIN_1       RK29_PIN5_PD7
-#define CONFIG_SENSOR_FALSH_PIN_1         INVALID_GPIO
-#define CONFIG_SENSOR_POWERACTIVE_LEVEL_1 RK29_CAM_POWERACTIVE_L
-#define CONFIG_SENSOR_RESETACTIVE_LEVEL_1 RK29_CAM_RESETACTIVE_L
-#define CONFIG_SENSOR_POWERDNACTIVE_LEVEL_1 RK29_CAM_POWERDNACTIVE_H
-#define CONFIG_SENSOR_FLASHACTIVE_LEVEL_1 RK29_CAM_FLASHACTIVE_L
-#endif  //#ifdef CONFIG_VIDEO_RK29
-/*---------------- Camera Sensor Configuration Macro End------------------------*/
-#include "../../../drivers/media/video/rk29_camera.c"
-/*---------------- Camera Sensor Macro Define End  ------------------------*/
-
-/* Set memory size of pmem */
-#ifdef CONFIG_RK29_MEM_SIZE_M
-#define SDRAM_SIZE          (CONFIG_RK29_MEM_SIZE_M * SZ_1M)
-#else
-#define SDRAM_SIZE          SZ_512M
-#endif
-#define PMEM_GPU_SIZE       SZ_64M
-#define PMEM_UI_SIZE        SZ_32M
-#define PMEM_VPU_SIZE       SZ_64M
-#define PMEM_CAM_SIZE       PMEM_CAM_NECESSARY
-#ifdef CONFIG_VIDEO_RK29_WORK_IPP
-#define MEM_CAMIPP_SIZE     SZ_4M
-#else
-#define MEM_CAMIPP_SIZE     0
-#endif
-#define MEM_FB_SIZE         (3*SZ_2M)
-#ifdef CONFIG_FB_WORK_IPP
-#ifdef CONFIG_FB_SCALING_OSD_1080P
-#define MEM_FBIPP_SIZE      SZ_16M   //1920 x 1080 x 2 x 2  //RGB565 = x2;RGB888 = x4
-#else
-#define MEM_FBIPP_SIZE      SZ_8M   //1920 x 1080 x 2 x 2  //RGB565 = x2;RGB888 = x4
-#endif
-#else
-#define MEM_FBIPP_SIZE      0
-#endif
-#if SDRAM_SIZE > SZ_512M
-#define PMEM_GPU_BASE       (RK29_SDRAM_PHYS + SZ_512M - PMEM_GPU_SIZE)
-#else
-#define PMEM_GPU_BASE       (RK29_SDRAM_PHYS + SDRAM_SIZE - PMEM_GPU_SIZE)
-#endif
-#define PMEM_UI_BASE        (PMEM_GPU_BASE - PMEM_UI_SIZE)
-#define PMEM_VPU_BASE       (PMEM_UI_BASE - PMEM_VPU_SIZE)
-#define PMEM_CAM_BASE       (PMEM_VPU_BASE - PMEM_CAM_SIZE)
-#define MEM_CAMIPP_BASE     (PMEM_CAM_BASE - MEM_CAMIPP_SIZE)
-#define MEM_FB_BASE         (MEM_CAMIPP_BASE - MEM_FB_SIZE)
-#define MEM_FBIPP_BASE      (MEM_FB_BASE - MEM_FBIPP_SIZE)
-#define LINUX_SIZE          (MEM_FBIPP_BASE - RK29_SDRAM_PHYS)
-
-#define PREALLOC_WLAN_SEC_NUM           4
-#define PREALLOC_WLAN_BUF_NUM           160
-#define PREALLOC_WLAN_SECTION_HEADER    24
-
-#define WLAN_SECTION_SIZE_0     (PREALLOC_WLAN_BUF_NUM * 128)
-#define WLAN_SECTION_SIZE_1     (PREALLOC_WLAN_BUF_NUM * 128)
-#define WLAN_SECTION_SIZE_2     (PREALLOC_WLAN_BUF_NUM * 512)
-#define WLAN_SECTION_SIZE_3     (PREALLOC_WLAN_BUF_NUM * 1024)
-
-#define WLAN_SKB_BUF_NUM        16
-
-static struct sk_buff *wlan_static_skb[WLAN_SKB_BUF_NUM];
-
-struct wifi_mem_prealloc {
-        void *mem_ptr;
-        unsigned long size;
-};
-
-extern struct sys_timer rk29_timer;
-
-static int rk29_nand_io_init(void)
-{
-    return 0;
-}
-
-struct rk29_nand_platform_data rk29_nand_data = {
-    .width      = 1,     /* data bus width in bytes */
-    .hw_ecc     = 1,     /* hw ecc 0: soft ecc */
-    .num_flash    = 1,
-    .io_init   = rk29_nand_io_init,
-};
-
-#define TOUCH_SCREEN_STANDBY_PIN          RK29_PIN6_PD1
-#define TOUCH_SCREEN_STANDBY_VALUE        GPIO_HIGH
-#define TOUCH_SCREEN_DISPLAY_PIN          INVALID_GPIO
-#define TOUCH_SCREEN_DISPLAY_VALUE        GPIO_HIGH
-#ifdef CONFIG_FB_RK29
-/*****************************************************************************************
- * lcd  devices
- * author: zyw@rock-chips.com
- *****************************************************************************************/
-//#ifdef  CONFIG_LCD_TD043MGEA1
-#define LCD_TXD_PIN          INVALID_GPIO
-#define LCD_CLK_PIN          INVALID_GPIO
-#define LCD_CS_PIN           INVALID_GPIO
-/*****************************************************************************************
-* frame buffe  devices
-* author: zyw@rock-chips.com
-*****************************************************************************************/
-#define FB_ID                       0
-#define FB_DISPLAY_ON_PIN           RK29_PIN6_PD1
-#define FB_LCD_STANDBY_PIN          RK29_PIN1_PD6
-#define FB_LCD_CABC_EN_PIN          RK29_PIN6_PD2
-#define FB_MCU_FMK_PIN              INVALID_GPIO
-
-#define FB_DISPLAY_ON_VALUE         GPIO_HIGH
-#define FB_LCD_STANDBY_VALUE        GPIO_HIGH
-//#define FB_LCD_STANDBY_VALUE        GPIO_LOW
-
-
-#define NEWTON_LCD_DISP				RK29_PIN1_PD6
-#define NEWTON_LCD_EN				RK29_PIN6_PD1
-static int rk29_lcd_io_init(void)
-{
-    int ret = 0;
-    return ret;
-}
-
-static int rk29_lcd_io_deinit(void)
-{
-    int ret = 0;
-    return ret;
-}
-
-static struct rk29lcd_info rk29_lcd_info = {
-    .txd_pin  = LCD_TXD_PIN,
-    .clk_pin = LCD_CLK_PIN,
-    .cs_pin = LCD_CS_PIN,
-    .io_init   = rk29_lcd_io_init,
-    .io_deinit = rk29_lcd_io_deinit,
-};
-
-int rk29_fb_io_enable(void)
-{
-	gpio_direction_output(NEWTON_LCD_DISP, 0);
-	gpio_set_value(NEWTON_LCD_DISP,GPIO_HIGH);
-	gpio_direction_output(NEWTON_LCD_EN, 0);
-	gpio_set_value(NEWTON_LCD_EN,GPIO_LOW);
-    return 0;
-}
-
-int rk29_fb_io_disable(void)
-{
-	gpio_direction_output(NEWTON_LCD_DISP, 0);
-	gpio_set_value(NEWTON_LCD_DISP,GPIO_LOW);
-	gpio_direction_output(NEWTON_LCD_EN, 0);
-	gpio_set_value(NEWTON_LCD_EN,GPIO_HIGH);
-    return 0;
-}
-
-static int rk29_fb_io_init(struct rk29_fb_setting_info *fb_setting)
-{
-    if(gpio_request(NEWTON_LCD_DISP,NULL) != 0){
-      gpio_free(NEWTON_LCD_DISP);
-      printk("NEWTON_LCD_DISP gpio_request error\n");
-      return -EIO;
-    }
-    if(gpio_request(NEWTON_LCD_EN,NULL) != 0){
-      gpio_free(NEWTON_LCD_EN);
-      printk("NEWTON_LCD_EN gpio_request error\n");
-      return -EIO;
-    }
-    rk29_fb_io_enable();   //enable it
-    return 0;
-}
-
-
-static struct rk29fb_info rk29_fb_info = {
-    .fb_id   = FB_ID,
-    .mcu_fmk_pin = FB_MCU_FMK_PIN,
-    .lcd_info = &rk29_lcd_info,
-    .io_init   = rk29_fb_io_init,
-    .io_enable = rk29_fb_io_enable,
-    .io_disable = rk29_fb_io_disable,
-};
-
-/* rk29 fb resource */
-static struct resource rk29_fb_resource[] = {
-	[0] = {
-        .name  = "lcdc reg",
-		.start = RK29_LCDC_PHYS,
-		.end   = RK29_LCDC_PHYS + RK29_LCDC_SIZE - 1,
-		.flags = IORESOURCE_MEM,
-	},
-	[1] = {
-	    .name  = "lcdc irq",
-		.start = IRQ_LCDC,
-		.end   = IRQ_LCDC,
-		.flags = IORESOURCE_IRQ,
-	},
-	[2] = {
-	    .name   = "win1 buf",
-        .start  = MEM_FB_BASE,
-        .end    = MEM_FB_BASE + MEM_FB_SIZE - 1,
-        .flags  = IORESOURCE_MEM,
-    },
-    #ifdef CONFIG_FB_WORK_IPP
-    [3] = {
-	    .name   = "win1 ipp buf",
-        .start  = MEM_FBIPP_BASE,
-        .end    = MEM_FBIPP_BASE + MEM_FBIPP_SIZE - 1,
-        .flags  = IORESOURCE_MEM,
-    },
-    #endif
-};
-
-/*platform_device*/
-struct platform_device rk29_device_fb = {
-	.name		  = "rk29-fb",
-	.id		  = 4,
-	.num_resources	  = ARRAY_SIZE(rk29_fb_resource),
-	.resource	  = rk29_fb_resource,
-	.dev            = {
-		.platform_data  = &rk29_fb_info,
-	}
-};
-
-struct platform_device rk29_device_dma_cpy = {
-	.name		  = "dma_memcpy",
-	.id		  = 4,
-
-};
-
-#endif
-
-#if defined(CONFIG_RK_IRDA) || defined(CONFIG_BU92747GUW_CIR)
-#define BU92747GUW_RESET_PIN         RK29_PIN3_PD4// INVALID_GPIO //
-#define BU92747GUW_RESET_MUX_NAME    GPIO3D4_HOSTWRN_NAME//NULL //
-#define BU92747GUW_RESET_MUX_MODE    GPIO3H_GPIO3D4//NULL //
-
-#define BU92747GUW_PWDN_PIN          RK29_PIN3_PD3//RK29_PIN5_PA7 //
-#define BU92747GUW_PWDN_MUX_NAME     GPIO3D3_HOSTRDN_NAME//GPIO5A7_HSADCDATA2_NAME //
-#define BU92747GUW_PWDN_MUX_MODE     GPIO3H_GPIO3D3//GPIO5L_GPIO5A7  //
-
-static int bu92747guw_io_init(void)
-{
-	int ret;
-	
-	//reset pin
-    if(BU92747GUW_RESET_MUX_NAME != NULL)
-    {
-        rk29_mux_api_set(BU92747GUW_RESET_MUX_NAME, BU92747GUW_RESET_MUX_MODE);
-    }
-	ret = gpio_request(BU92747GUW_RESET_PIN, NULL);
-	if(ret != 0)
-	{
-		gpio_free(BU92747GUW_RESET_PIN);
-		printk(">>>>>> BU92747GUW_RESET_PIN gpio_request err \n ");
-	}
-	gpio_direction_output(BU92747GUW_RESET_PIN, GPIO_HIGH);
-
-	//power down pin
-    if(BU92747GUW_PWDN_MUX_NAME != NULL)
-    {
-        rk29_mux_api_set(BU92747GUW_PWDN_MUX_NAME, BU92747GUW_PWDN_MUX_MODE);
-    }
-	ret = gpio_request(BU92747GUW_PWDN_PIN, NULL);
-	if(ret != 0)
-	{
-		gpio_free(BU92747GUW_PWDN_PIN);
-		printk(">>>>>> BU92747GUW_PWDN_PIN gpio_request err \n ");
-	}
-
-	//power down as default
-	gpio_direction_output(BU92747GUW_PWDN_PIN, GPIO_LOW);
-	
-	return 0;
-}
-
-
-static int bu92747guw_io_deinit(void)
-{
-	gpio_free(BU92747GUW_PWDN_PIN);
-	gpio_free(BU92747GUW_RESET_PIN);
-	return 0;
-}
-
-//power ctl func is share with irda and remote
-static int nPowerOnCount = 0;
-static DEFINE_MUTEX(bu92747_power_mutex);
-
-//1---power on;  0---power off
-static int bu92747guw_power_ctl(int enable)
-{
-    printk("%s \n",__FUNCTION__);
-
-	mutex_lock(&bu92747_power_mutex);
-	if (enable) {
-		nPowerOnCount++;
-		if (nPowerOnCount == 1) {//power on first	
-			//smc0_init(NULL);
-   	 		gpio_set_value(BU92747GUW_PWDN_PIN, GPIO_HIGH);
-			gpio_set_value(BU92747GUW_RESET_PIN, GPIO_LOW);
-			mdelay(5);
-			gpio_set_value(BU92747GUW_RESET_PIN, GPIO_HIGH);
-			mdelay(5);
-		}
-	}
-	else {
-		nPowerOnCount--;
-		if (nPowerOnCount <= 0) {//power down final
-			nPowerOnCount = 0;
-			//smc0_exit();
-			gpio_set_value(BU92747GUW_PWDN_PIN, GPIO_LOW);
-		}
-	}
-	mutex_unlock(&bu92747_power_mutex);
-	return 0;
-}
-#endif
-
-#ifdef CONFIG_RK_IRDA
-#define IRDA_IRQ_PIN           RK29_PIN5_PB2
-#define IRDA_IRQ_MUX_NAME      GPIO5B2_HSADCDATA5_NAME
-#define IRDA_IRQ_MUX_MODE      GPIO5L_GPIO5B2
-
-int irda_iomux_init(void)
-{
-    int ret = 0;
-
-	//irda irq pin
-    if(IRDA_IRQ_MUX_NAME != NULL)
-    {
-        rk29_mux_api_set(IRDA_IRQ_MUX_NAME, IRDA_IRQ_MUX_MODE);
-    }
-	ret = gpio_request(IRDA_IRQ_PIN, NULL);
-	if(ret != 0)
-	{
-		gpio_free(IRDA_IRQ_PIN);
-		printk(">>>>>> IRDA_IRQ_PIN gpio_request err \n ");
-	}
-	gpio_pull_updown(IRDA_IRQ_PIN, GPIO_HIGH);
-	gpio_direction_input(IRDA_IRQ_PIN);
-
-    return 0;
-}
-
-int irda_iomux_deinit(void)
-{
-	gpio_free(IRDA_IRQ_PIN);
-	return 0;
-}
-
-static struct irda_info rk29_irda_info = {
-    .intr_pin = IRDA_IRQ_PIN,
-    .iomux_init = irda_iomux_init,
-    .iomux_deinit = irda_iomux_deinit,
-	.irda_pwr_ctl = bu92747guw_power_ctl,
-};
-
-static struct platform_device irda_device = {
-#ifdef CONFIG_RK_IRDA_NET
-			.name	= "rk_irda",
-#else
-			.name = "bu92747_irda",
-#endif
-    .id		  = -1,
-	.dev            = {
-		.platform_data  = &rk29_irda_info,
-	}
-};
-#endif
-
-#ifdef CONFIG_BU92747GUW_CIR
-#define BU92747_CIR_IRQ_PIN RK29_PIN5_PB0
-#define CIR_IRQ_PIN_IOMUX_NAME GPIO5B0_HSADCDATA3_NAME
-#define CIR_IRQ_PIN_IOMUX_VALUE GPIO5L_GPIO5B0
-static int cir_iomux_init(void)
-{
-	if (CIR_IRQ_PIN_IOMUX_NAME)
-		rk29_mux_api_set(CIR_IRQ_PIN_IOMUX_NAME, CIR_IRQ_PIN_IOMUX_VALUE);
-	rk29_mux_api_set(GPIO5A7_HSADCDATA2_NAME, GPIO5L_GPIO5A7);
-	return 0;
-}
-
-static struct  bu92747guw_platform_data bu92747guw_pdata = {
-	.intr_pin = BU92747_CIR_IRQ_PIN,
-	.iomux_init = cir_iomux_init,
-	.iomux_deinit = NULL,
-	.cir_pwr_ctl = bu92747guw_power_ctl,
-};  
-#endif
-#ifdef CONFIG_RK29_NEWTON
-struct rk29_newton_data rk29_newton_info = {	
-};
-struct platform_device rk29_device_newton = {
-	.name          = "rk29_newton",
-	.id            = -1,		
-	.dev		   = {
-	.platform_data = &rk29_newton_info,	
-		}    	    
-	};
-#endif
-#if defined (CONFIG_TOUCHSCREEN_FT5406)
-#define TOUCH_RESET_PIN RK29_PIN6_PC3
-#define TOUCH_INT_PIN   RK29_PIN0_PA2
-int ft5406_init_platform_hw(void)
-{
-	printk("ft5406_init_platform_hw\n");
-    if(gpio_request(TOUCH_RESET_PIN,NULL) != 0){
-      gpio_free(TOUCH_RESET_PIN);
-      printk("ft5406_init_platform_hw gpio_request error\n");
-      return -EIO;
-    }
-
-    if(gpio_request(TOUCH_INT_PIN,NULL) != 0){
-      gpio_free(TOUCH_INT_PIN);
-      printk("ift5406_init_platform_hw gpio_request error\n");
-      return -EIO;
-    }
-
-	gpio_direction_output(TOUCH_RESET_PIN, 0);
-	gpio_set_value(TOUCH_RESET_PIN,GPIO_LOW);
-	mdelay(10);
-	gpio_direction_input(TOUCH_INT_PIN);
-	mdelay(10);
-	gpio_set_value(TOUCH_RESET_PIN,GPIO_HIGH);
-	msleep(300);
-    return 0;
-}
-
-void ft5406_exit_platform_hw(void)
-{
-	printk("ft5406_exit_platform_hw\n");
-	gpio_free(TOUCH_RESET_PIN);
-	gpio_free(TOUCH_INT_PIN);
-}
-
-int ft5406_platform_sleep(void)
-{
-	printk("ft5406_platform_sleep\n");
-	gpio_set_value(TOUCH_RESET_PIN,GPIO_LOW);
-	return 0;
-}
-
-int ft5406_platform_wakeup(void)
-{
-	printk("ft5406_platform_wakeup\n");
-	gpio_set_value(TOUCH_RESET_PIN,GPIO_HIGH);
-	msleep(300);
-	return 0;
-}
-
-struct ft5406_platform_data ft5406_info = {
-
-  .init_platform_hw= ft5406_init_platform_hw,
-  .exit_platform_hw= ft5406_exit_platform_hw,
-  .platform_sleep  = ft5406_platform_sleep,
-  .platform_wakeup = ft5406_platform_wakeup,
-
-};
-#endif
-
-#if defined(CONFIG_TOUCHSCREEN_GT819)
-#define TOUCH_RESET_PIN RK29_PIN6_PC3
-#define TOUCH_INT_PIN   RK29_PIN0_PA2
-int gt819_init_platform_hw(void)
-{
-	printk("gt819_init_platform_hw\n");
-    if(gpio_request(TOUCH_RESET_PIN,NULL) != 0){
-      gpio_free(TOUCH_RESET_PIN);
-      printk("gt819_init_platform_hw gpio_request error\n");
-      return -EIO;
-    }
-
-    if(gpio_request(TOUCH_INT_PIN,NULL) != 0){
-      gpio_free(TOUCH_INT_PIN);
-      printk("gt819_init_platform_hw gpio_request error\n");
-      return -EIO;
-    }
-	gpio_direction_output(TOUCH_RESET_PIN, 0);
-	gpio_set_value(TOUCH_RESET_PIN,GPIO_LOW);
-	mdelay(10);
-//	gpio_set_value(TOUCH_RESET_PIN,GPIO_HIGH);
-//	mdelay(10);
-//	gpio_set_value(TOUCH_RESET_PIN,GPIO_LOW);
-	gpio_direction_input(TOUCH_INT_PIN);
-//	mdelay(10);
-	gpio_set_value(TOUCH_RESET_PIN,GPIO_HIGH);
-	msleep(300);
-    return 0;
-}
-
-
-void gt819_exit_platform_hw(void)
-{
-	printk("gt819_exit_platform_hw\n");
-	gpio_free(TOUCH_RESET_PIN);
-	gpio_free(TOUCH_INT_PIN);
-}
-
-int gt819_platform_sleep(void)
-{
-	printk("gt819_platform_sleep\n");
-	gpio_set_value(TOUCH_RESET_PIN,GPIO_LOW);
-	return 0;
-}
-
-int gt819_platform_wakeup(void)
-{
-	printk("gt819_platform_wakeup\n");
-	gpio_set_value(TOUCH_RESET_PIN,GPIO_HIGH);
-	//msleep(5);
-	//gpio_set_value(TOUCH_INT_PIN, GPIO_LOW); 
-	//msleep(20);
-	//gpio_set_value(TOUCH_INT_PIN, GPIO_HIGH);
-	return 0;
-}
-struct goodix_platform_data goodix_info = {
-
-  .init_platform_hw= gt819_init_platform_hw,
-  .exit_platform_hw= gt819_exit_platform_hw,
-  .platform_sleep  = gt819_platform_sleep,
-  .platform_wakeup = gt819_platform_wakeup,
-
-};
-#endif
-
-
-#if defined (CONFIG_SND_SOC_CS42L52)
-
-int cs42l52_init_platform_hw()
-{
-	printk("cs42l52_init_platform_hw\n");
-    if(gpio_request(RK29_PIN6_PB6,NULL) != 0){
-      gpio_free(RK29_PIN6_PB6);
-      printk("cs42l52_init_platform_hw gpio_request error\n");
-      return -EIO;
-    }
-    gpio_direction_output(RK29_PIN6_PB6, 0);
-	gpio_set_value(RK29_PIN6_PB6,GPIO_HIGH);
-	return 0;
-}
-struct cs42l52_platform_data cs42l52_info = {
-
-  .init_platform_hw= cs42l52_init_platform_hw,
-
-};
-#endif
-#if defined (CONFIG_BATTERY_BQ27541)
-#define	DC_CHECK_PIN	RK29_PIN4_PA1
-#define	LI_LION_BAT_NUM	1
-#define CHG_OK RK29_PIN4_PA3
-#define BAT_LOW	RK29_PIN4_PA2
-
-static int bq27541_init_dc_check_pin(void){	
-	if(gpio_request(DC_CHECK_PIN,"dc_check") != 0){      
-		gpio_free(DC_CHECK_PIN);      
-		printk("bq27541 init dc check pin request error\n");      
-		return -EIO;    
-	}	
-	gpio_direction_input(DC_CHECK_PIN);	
-	return 0;
-}
-
-struct bq27541_platform_data bq27541_info = {	
-	.init_dc_check_pin = bq27541_init_dc_check_pin,	
-	.dc_check_pin =  DC_CHECK_PIN,		
-	.bat_num = LI_LION_BAT_NUM,
-	.chgok_check_pin =  CHG_OK,
-	.bat_check_pin =  BAT_LOW,
-};
-#endif
-static struct android_pmem_platform_data android_pmem_pdata = {
-	.name		= "pmem",
-	.start		= PMEM_UI_BASE,
-	.size		= PMEM_UI_SIZE,
-	.no_allocator	= 0,
-	.cached		= 1,
-};
-
-static struct platform_device android_pmem_device = {
-	.name		= "android_pmem",
-	.id		= 0,
-	.dev		= {
-		.platform_data = &android_pmem_pdata,
-	},
-};
-
-
-static struct vpu_mem_platform_data vpu_mem_pdata = {
-	.name		= "vpu_mem",
-	.start		= PMEM_VPU_BASE,
-	.size		= PMEM_VPU_SIZE,
-	.cached		= 1,
-};
-
-static struct platform_device rk29_vpu_mem_device = {
-	.name		= "vpu_mem",
-	.id		    = 2,
-	.dev		= {
-	.platform_data = &vpu_mem_pdata,
-	},
-};
-#ifdef CONFIG_VIDEO_RK29XX_VOUT
-static struct platform_device rk29_v4l2_output_devce = {
-	.name		= "rk29_vout",
-};
-#endif
-/*HANNSTAR_P1003 touch*/
-#if defined (CONFIG_HANNSTAR_P1003)
-#define TOUCH_RESET_PIN RK29_PIN6_PC3
-#define TOUCH_INT_PIN   RK29_PIN0_PA2
-
-int p1003_init_platform_hw(void)
-{
-    if(gpio_request(TOUCH_RESET_PIN,NULL) != 0){
-      gpio_free(TOUCH_RESET_PIN);
-      printk("p1003_init_platform_hw gpio_request error\n");
-      return -EIO;
-    }
-
-    if(gpio_request(TOUCH_INT_PIN,NULL) != 0){
-      gpio_free(TOUCH_INT_PIN);
-      printk("p1003_init_platform_hw gpio_request error\n");
-      return -EIO;
-    }
-    gpio_pull_updown(TOUCH_INT_PIN, 1);
-    gpio_direction_output(TOUCH_RESET_PIN, 0);
-    msleep(500);
-    gpio_set_value(TOUCH_RESET_PIN,GPIO_LOW);
-    msleep(500);
-    gpio_set_value(TOUCH_RESET_PIN,GPIO_HIGH);
-
-    return 0;
-}
-
-
-struct p1003_platform_data p1003_info = {
-  .model= 1003,
-  .init_platform_hw= p1003_init_platform_hw,
-
-};
-#endif
-#if defined (CONFIG_EETI_EGALAX)
-#define TOUCH_RESET_PIN RK29_PIN6_PC3
-#define TOUCH_INT_PIN   RK29_PIN0_PA2
-
-static int EETI_EGALAX_init_platform_hw(void)
-{
-    if(gpio_request(TOUCH_RESET_PIN,NULL) != 0){
-      gpio_free(TOUCH_RESET_PIN);
-      printk("p1003_init_platform_hw gpio_request error\n");
-      return -EIO;
-    }
-
-    if(gpio_request(TOUCH_INT_PIN,NULL) != 0){
-      gpio_free(TOUCH_INT_PIN);
-      printk("p1003_init_platform_hw gpio_request error\n");
-      return -EIO;
-    }
-    gpio_pull_updown(TOUCH_INT_PIN, 1);
-    gpio_direction_output(TOUCH_RESET_PIN, 0);
-    msleep(500);
-    gpio_set_value(TOUCH_RESET_PIN,GPIO_LOW);
-    msleep(500);
-    gpio_set_value(TOUCH_RESET_PIN,GPIO_HIGH);
-
-    return 0;
-}
-
-
-static struct eeti_egalax_platform_data eeti_egalax_info = {
-  .model= 1003,
-  .init_platform_hw= EETI_EGALAX_init_platform_hw,
-  .standby_pin = TOUCH_SCREEN_STANDBY_PIN,
-  .standby_value = TOUCH_SCREEN_STANDBY_VALUE,
-  .disp_on_pin = TOUCH_SCREEN_DISPLAY_PIN,
-  .disp_on_value = TOUCH_SCREEN_DISPLAY_VALUE,
-};
-#endif
-
-#ifdef CONFIG_GS_KXTF9
-#include <linux/kxtf9.h>
-#define KXTF9_DEVICE_MAP 1
-#define KXTF9_MAP_X (KXTF9_DEVICE_MAP-1)%2
-#define KXTF9_MAP_Y KXTF9_DEVICE_MAP%2
-#define KXTF9_NEG_X (KXTF9_DEVICE_MAP/2)%2
-#define KXTF9_NEG_Y (KXTF9_DEVICE_MAP+1)/4
-#define KXTF9_NEG_Z (KXTF9_DEVICE_MAP-1)/4
-struct kxtf9_platform_data kxtf9_pdata = {
-	.min_interval = 1,
-	.poll_interval = 20,
-	.g_range = KXTF9_G_2G,
-	.axis_map_x = KXTF9_MAP_X,
-	.axis_map_y = KXTF9_MAP_Y,
-	.axis_map_z = 2,
-	.negate_x = KXTF9_NEG_X,
-	.negate_y = KXTF9_NEG_Y,
-	.negate_z = KXTF9_NEG_Z,
-	//.ctrl_regc_init = KXTF9_G_2G | ODR50F,
-	//.ctrl_regb_init = ENABLE,
-};
-#endif /* CONFIG_GS_KXTF9 */
-
-
-/*MMA8452 gsensor*/
-#if defined (CONFIG_GS_MMA8452)
-#define MMA8452_INT_PIN   RK29_PIN0_PA3
-
-static int mma8452_init_platform_hw(void)
-{
-
-    if(gpio_request(MMA8452_INT_PIN,NULL) != 0){
-      gpio_free(MMA8452_INT_PIN);
-      printk("mma8452_init_platform_hw gpio_request error\n");
-      return -EIO;
-    }
-    gpio_pull_updown(MMA8452_INT_PIN, 1);
-    return 0;
-}
-
-
-static struct gsensor_platform_data mma8452_info = {
-  .model= 8452,
-  .swap_xy = 0,
-  .init_platform_hw= mma8452_init_platform_hw,
-
-};
-#endif
-#if defined (CONFIG_MPU_SENSORS_MPU3050)
-/*mpu3050*/
-static struct mpu3050_platform_data mpu3050_data = {
-		.int_config = 0x10,
-		//.orientation = { 1, 0, 0,0, -1, 0,0, 0, 1 },
-		//.orientation = { 0, 1, 0,-1, 0, 0,0, 0, -1 },
-		//.orientation = { -1, 0, 0,0, -1, 0,0, 0, -1 },
-		.orientation = { 0, 1, 0, -1, 0, 0, 0, 0, 1 },
-		.level_shifter = 0,
-#if defined (CONFIG_MPU_SENSORS_KXTF9)
-		.accel = {
-#ifdef CONFIG_MPU_SENSORS_MPU3050_MODULE
-				.get_slave_descr = NULL ,
-#else
-				.get_slave_descr = get_accel_slave_descr ,			
-#endif
-				.adapt_num = 0, // The i2c bus to which the mpu device is
-				// connected
-				//.irq = RK29_PIN0_PA3,
-				.bus = EXT_SLAVE_BUS_SECONDARY,  //The secondary I2C of MPU
-				.address = 0x0f,
-				//.orientation = { 1, 0, 0,0, 1, 0,0, 0, 1 },
-				//.orientation = { 0, -1, 0,-1, 0, 0,0, 0, -1 },
-				//.orientation = { 0, 1, 0,1, 0, 0,0, 0, -1 },
-				.orientation = { 0, 1 ,0, -1 ,0, 0, 0, 0, 1 },
-		},
-#endif
-#if defined (CONFIG_MPU_SENSORS_AK8975)
-		.compass = {
-#ifdef CONFIG_MPU_SENSORS_MPU3050_MODULE
-				.get_slave_descr = NULL,/*ak5883_get_slave_descr,*/
-#else
-				.get_slave_descr = get_compass_slave_descr,
-#endif						
-				.adapt_num = 0, // The i2c bus to which the compass device is. 
-				// It can be difference with mpu
-				// connected
-				//.irq = RK29_PIN0_PA4,
-				.bus = EXT_SLAVE_BUS_PRIMARY,
-				.address = 0x0d,
-				//.orientation = { -1, 0, 0,0, -1, 0,0, 0, 1 },
-				//.orientation = { 0, -1, 0,-1, 0, 0,0, 0, -1 },
-				//.orientation = { 0, 1, 0,1, 0, 0,0, 0, -1 },
-				//.orientation = { 0, -1, 0, 1, 0, 0, 0, 0, 1 },
-				.orientation = { 0, 1, 0, -1, 0, 0, 0, 0, 1 },
-		},
-};
-#endif
-#endif
-#if defined (CONFIG_BATTERY_BQ27510)
-#define	DC_CHECK_PIN	RK29_PIN4_PA1
-#define	LI_LION_BAT_NUM	2
-static int bq27510_init_dc_check_pin(void){	
-	if(gpio_request(DC_CHECK_PIN,"dc_check") != 0){      
-		gpio_free(DC_CHECK_PIN);      
-		printk("bq27510 init dc check pin request error\n");      
-		return -EIO;    
-	}	
-	gpio_direction_input(DC_CHECK_PIN);	
-	return 0;
-}
-
-struct bq27510_platform_data bq27510_info = {	
-	.init_dc_check_pin = bq27510_init_dc_check_pin,	
-	.dc_check_pin =  DC_CHECK_PIN,		
-	.bat_num = LI_LION_BAT_NUM,
-};
-#endif
-
-
-/*****************************************************************************************
- * i2c devices
- * author: kfx@rock-chips.com
-*****************************************************************************************/
-static int rk29_i2c0_io_init(void)
-{
-#ifdef CONFIG_RK29_I2C0_CONTROLLER
-	rk29_mux_api_set(GPIO2B7_I2C0SCL_NAME, GPIO2L_I2C0_SCL);
-	rk29_mux_api_set(GPIO2B6_I2C0SDA_NAME, GPIO2L_I2C0_SDA);
-#else
-	rk29_mux_api_set(GPIO2B7_I2C0SCL_NAME, GPIO2L_GPIO2B7);
-	rk29_mux_api_set(GPIO2B6_I2C0SDA_NAME, GPIO2L_GPIO2B6);
-#endif
-	return 0;
-}
-
-static int rk29_i2c1_io_init(void)
-{
-#ifdef CONFIG_RK29_I2C1_CONTROLLER
-	rk29_mux_api_set(GPIO1A7_I2C1SCL_NAME, GPIO1L_I2C1_SCL);
-	rk29_mux_api_set(GPIO1A6_I2C1SDA_NAME, GPIO1L_I2C1_SDA);
-#else
-	rk29_mux_api_set(GPIO1A7_I2C1SCL_NAME, GPIO1L_GPIO1A7);
-	rk29_mux_api_set(GPIO1A6_I2C1SDA_NAME, GPIO1L_GPIO1A6);
-#endif
-	return 0;
-}
-static int rk29_i2c2_io_init(void)
-{
-#ifdef CONFIG_RK29_I2C2_CONTROLLER
-	rk29_mux_api_set(GPIO5D4_I2C2SCL_NAME, GPIO5H_I2C2_SCL);
-	rk29_mux_api_set(GPIO5D3_I2C2SDA_NAME, GPIO5H_I2C2_SDA);
-#else
-	rk29_mux_api_set(GPIO5D4_I2C2SCL_NAME, GPIO5H_GPIO5D4);
-	rk29_mux_api_set(GPIO5D3_I2C2SDA_NAME, GPIO5H_GPIO5D3);
-#endif
-	return 0;
-}
-
-static int rk29_i2c3_io_init(void)
-{
-#ifdef CONFIG_RK29_I2C3_CONTROLLER
-	rk29_mux_api_set(GPIO2B5_UART3RTSN_I2C3SCL_NAME, GPIO2L_I2C3_SCL);
-	rk29_mux_api_set(GPIO2B4_UART3CTSN_I2C3SDA_NAME, GPIO2L_I2C3_SDA);
-#else
-	rk29_mux_api_set(GPIO2B5_UART3RTSN_I2C3SCL_NAME, GPIO2L_GPIO2B5);
-	rk29_mux_api_set(GPIO2B4_UART3CTSN_I2C3SDA_NAME, GPIO2L_GPIO2B4);
-#endif
-	return 0;
-}
-#ifdef CONFIG_RK29_I2C0_CONTROLLER
-struct rk29_i2c_platform_data default_i2c0_data = {
-	.bus_num    = 0,
-	.flags      = 0,
-	.slave_addr = 0xff,
-	.scl_rate  = 400*1000,
-	.mode 		= I2C_MODE_IRQ,
-	.io_init = rk29_i2c0_io_init,
-};
-#else
-struct i2c_gpio_platform_data default_i2c0_data = {
-       .sda_pin = RK29_PIN2_PB6,
-       .scl_pin = RK29_PIN2_PB7,
-       .udelay = 5, // clk = 500/udelay = 100Khz
-       .timeout = 100,//msecs_to_jiffies(200),
-       .bus_num    = 0,
-       .io_init = rk29_i2c0_io_init,
-};
-#endif
-#ifdef CONFIG_RK29_I2C1_CONTROLLER
-struct rk29_i2c_platform_data default_i2c1_data = {
-	.bus_num    = 1,
-	.flags      = 0,
-	.slave_addr = 0xff,
-	.scl_rate  = 400*1000,
-	.mode 		= I2C_MODE_IRQ,
-	.io_init = rk29_i2c1_io_init,
-};
-#else
-struct i2c_gpio_platform_data default_i2c1_data = {
-       .sda_pin = RK29_PIN1_PA6,
-       .scl_pin = RK29_PIN1_PA7,
-       .udelay = 5, // clk = 500/udelay = 100Khz
-       .timeout = 100,//msecs_to_jiffies(200),
-       .bus_num    = 1,
-       .io_init = rk29_i2c1_io_init,
-};
-#endif
-#ifdef CONFIG_RK29_I2C2_CONTROLLER
-struct rk29_i2c_platform_data default_i2c2_data = {
-	.bus_num    = 2,
-	.flags      = 0,
-	.slave_addr = 0xff,
-	.scl_rate  = 400*1000,
-	.mode 		= I2C_MODE_IRQ,
-	.io_init = rk29_i2c2_io_init,
-};
-#else
-struct i2c_gpio_platform_data default_i2c2_data = {
-       .sda_pin = RK29_PIN5_PD3,
-       .scl_pin = RK29_PIN5_PD4,
-       .udelay = 5, // clk = 500/udelay = 100Khz
-       .timeout = 100,//msecs_to_jiffies(200),
-       .bus_num    = 2,
-       .io_init = rk29_i2c2_io_init,
-};
-#endif
-#ifdef CONFIG_RK29_I2C3_CONTROLLER
-struct rk29_i2c_platform_data default_i2c3_data = {
-	.bus_num    = 3,
-	.flags      = 0,
-	.slave_addr = 0xff,
-	.scl_rate  = 400*1000,
-	.mode 		= I2C_MODE_IRQ,
-	.io_init = rk29_i2c3_io_init,
-};
-#else
-struct i2c_gpio_platform_data default_i2c3_data = {
-       .sda_pin = RK29_PIN5_PB5,
-       .scl_pin = RK29_PIN5_PB4,
-       .udelay = 5, // clk = 500/udelay = 100Khz
-       .timeout = 100,//msecs_to_jiffies(200),
-       .bus_num    = 3,
-       .io_init = rk29_i2c3_io_init,
-};
-#endif
-#ifdef CONFIG_I2C0_RK29
-static struct i2c_board_info __initdata board_i2c0_devices[] = {
-#if defined (CONFIG_RK1000_CONTROL)
-	{
-		.type    		= "rk1000_control",
-		.addr           = 0x40,
-		.flags			= 0,
-	},
-#endif
-#if defined (CONFIG_SND_SOC_alc5621)
-        {
-                .type                   = "ALC5621",
-                .addr                   = 0x1a,
-                .flags                  = 0,
-        },
-#endif
-#if defined (CONFIG_SND_SOC_alc5631)
-        {
-                .type                   = "rt5631",
-                .addr                   = 0x1a,
-                .flags                  = 0,
-        },
-#endif
-#if defined (CONFIG_SND_SOC_RK1000)
-	{
-		.type    		= "rk1000_i2c_codec",
-		.addr           = 0x60,
-		.flags			= 0,
-	},
-#endif
-#if defined (CONFIG_SND_SOC_WM8900)
-	{
-		.type    		= "wm8900",
-		.addr           = 0x1A,
-		.flags			= 0,
-	},
-#endif
-#if defined (CONFIG_BATTERY_STC3100)
-	{
-		.type    		= "stc3100",
-		.addr           = 0x70,
-		.flags			= 0,
-	},
-#endif
-#if defined (CONFIG_BATTERY_BQ27510)
-	{
-		.type    		= "bq27510",
-		.addr           = 0x55,
-		.flags			= 0,
-		.platform_data  = &bq27510_info,
-	},
-#endif
-#if defined (CONFIG_RTC_HYM8563)
-	{
-		.type    		= "rtc_hym8563",
-		.addr           = 0x51,
-		.flags			= 0,
-		.irq            = RK29_PIN0_PA1,
-	},
-#endif
-#if defined (CONFIG_GS_MMA8452)
-    {
-      .type           = "gs_mma8452",
-      .addr           = 0x1c,
-      .flags          = 0,
-      .irq            = MMA8452_INT_PIN,
-      .platform_data  = &mma8452_info,
-    },
-#endif
-#if defined (CONFIG_COMPASS_AK8973)
-	{
-		.type    		= "ak8973",
-		.addr           = 0x1d,
-		.flags			= 0,
-		.irq			= RK29_PIN0_PA4,
-	},
-#endif
-#if defined (CONFIG_COMPASS_AK8975)
-	{
-		.type    		= "ak8975",
-		.addr           = 0x0d,
-		.flags			= 0,
-		.irq			= RK29_PIN0_PA4,
-	},
-#endif
-/*mpu3050*/
-#if defined (CONFIG_MPU_SENSORS_MPU3050) 
-	{
-		.type 			= "mpu3050",
-		.addr			= 0x68,
-		.flags			= 0,
-		.irq			= RK29_PIN5_PA3,
-		.platform_data  = &mpu3050_data,
-	},
-#endif
-
-#if defined (CONFIG_SND_SOC_CS42L52)
-	{
-		.type    		= "cs42l52",
-		.addr           = 0x4A,
-		.flags			= 0,
-		.platform_data	= &cs42l52_info,
-	},
-#endif
-#if defined (CONFIG_RTC_M41T66)
-	{
-		.type           = "rtc-M41T66",
-		.addr           = 0x68,
-		.flags          = 0,
-		.irq            = RK29_PIN0_PA1,
-	},
-#endif
-};
-#endif
-
-#ifdef CONFIG_I2C1_RK29
-static struct i2c_board_info __initdata board_i2c1_devices[] = {
-#if defined (CONFIG_RK1000_CONTROL1)
-	{
-		.type			= "rk1000_control",
-		.addr			= 0x40,
-		.flags			= 0,
-	},
-#endif
-#if defined (CONFIG_ANX7150) || defined (CONFIG_ANX7150_NEW)
-    {
-		.type           = "anx7150",
-        .addr           = 0x39,             //0x39, 0x3d
-        .flags          = 0,
-        .irq            = RK29_PIN1_PD7,
-    },
-#endif
-#ifdef CONFIG_BU92747GUW_CIR
-    {
-    	.type	="bu92747_cir",
-    	.addr 	= 0x77,    
-    	.flags      =0,
-    	.irq		= BU92747_CIR_IRQ_PIN,
-    	.platform_data = &bu92747guw_pdata,
-    },
-#endif
-
-};
-#endif
-
-#ifdef CONFIG_I2C2_RK29
-static struct i2c_board_info __initdata board_i2c2_devices[] = {
-#if defined (CONFIG_HANNSTAR_P1003)
-    {
-      .type           = "p1003_touch",
-      .addr           = 0x04,
-      .flags          = 0, //I2C_M_NEED_DELAY
-      .irq            = RK29_PIN0_PA2,
-      .platform_data  = &p1003_info,
-      //.udelay		  = 100
-    },
-#endif
-#if defined (CONFIG_EETI_EGALAX)
-    {
-      .type           = "egalax_i2c",
-      .addr           = 0x04,
-      .flags          = 0,
-      .irq            = RK29_PIN0_PA2,
-      .platform_data  = &eeti_egalax_info,
-    },
-#endif
-#if defined (CONFIG_TOUCHSCREEN_GT819)
-    {
-		.type	= "Goodix-TS",
-		.addr 	= 0x55,
-		.flags      =0,
-		.irq		=RK29_PIN0_PA2,
-		.platform_data = &goodix_info,
-    },
-#endif
-#if defined (CONFIG_TOUCHSCREEN_FT5406)
-    {
-		.type	="ft5x0x_ts",
-		.addr 	= 0x38,    //0x70,
-		.flags      =0,
-		.irq		=RK29_PIN0_PA2, // support goodix tp detect, 20110706
-		.platform_data = &ft5406_info,
-    },
-#endif
-};
-#endif
-
-#ifdef CONFIG_I2C3_RK29
-static struct i2c_board_info __initdata board_i2c3_devices[] = {
-#if defined (CONFIG_BATTERY_BQ27541)
-	{
-		.type    		= "bq27541",
-		.addr           = 0x55,
-		.flags			= 0,
-		.platform_data  = &bq27541_info,
-	},
-#endif
-};
-#endif
-
-/*****************************************************************************************
- * camera  devices
- * author: ddl@rock-chips.com
- *****************************************************************************************/
-#ifdef CONFIG_VIDEO_RK29
-#define CONFIG_SENSOR_POWER_IOCTL_USR      0
-#define CONFIG_SENSOR_RESET_IOCTL_USR      0
-#define CONFIG_SENSOR_POWERDOWN_IOCTL_USR      0
-#define CONFIG_SENSOR_FLASH_IOCTL_USR      0
-
-#if CONFIG_SENSOR_POWER_IOCTL_USR
-static int sensor_power_usr_cb (struct rk29camera_gpio_res *res,int on)
-{
-    #error "CONFIG_SENSOR_POWER_IOCTL_USR is 1, sensor_power_usr_cb function must be writed!!";
-}
-#endif
-
-#if CONFIG_SENSOR_RESET_IOCTL_USR
-static int sensor_reset_usr_cb (struct rk29camera_gpio_res *res,int on)
-{
-    #error "CONFIG_SENSOR_RESET_IOCTL_USR is 1, sensor_reset_usr_cb function must be writed!!";
-}
-#endif
-
-#if CONFIG_SENSOR_POWERDOWN_IOCTL_USR
-static int sensor_powerdown_usr_cb (struct rk29camera_gpio_res *res,int on)
-{
-    #error "CONFIG_SENSOR_POWERDOWN_IOCTL_USR is 1, sensor_powerdown_usr_cb function must be writed!!";
-}
-#endif
-
-#if CONFIG_SENSOR_FLASH_IOCTL_USR
-static int sensor_flash_usr_cb (struct rk29camera_gpio_res *res,int on)
-{
-    #error "CONFIG_SENSOR_FLASH_IOCTL_USR is 1, sensor_flash_usr_cb function must be writed!!";
-}
-#endif
-
-static struct rk29camera_platform_ioctl_cb  sensor_ioctl_cb = {
-    #if CONFIG_SENSOR_POWER_IOCTL_USR
-    .sensor_power_cb = sensor_power_usr_cb,
-    #else
-    .sensor_power_cb = NULL,
-    #endif
-
-    #if CONFIG_SENSOR_RESET_IOCTL_USR
-    .sensor_reset_cb = sensor_reset_usr_cb,
-    #else
-    .sensor_reset_cb = NULL,
-    #endif
-
-    #if CONFIG_SENSOR_POWERDOWN_IOCTL_USR
-    .sensor_powerdown_cb = sensor_powerdown_usr_cb,
-    #else
-    .sensor_powerdown_cb = NULL,
-    #endif
-
-    #if CONFIG_SENSOR_FLASH_IOCTL_USR
-    .sensor_flash_cb = sensor_flash_usr_cb,
-    #else
-    .sensor_flash_cb = NULL,
-    #endif
-};
-#include "../../../drivers/media/video/rk29_camera.c"
-#endif
-/*****************************************************************************************
- * backlight  devices
- * author: nzy@rock-chips.com
- *****************************************************************************************/
-#ifdef CONFIG_BACKLIGHT_RK29_NEWTON_BL
- /*
- GPIO1B5_PWM0_NAME,       GPIO1L_PWM0
- GPIO5D2_PWM1_UART1SIRIN_NAME,  GPIO5H_PWM1
- GPIO2A3_SDMMC0WRITEPRT_PWM2_NAME,   GPIO2L_PWM2
- GPIO1A5_EMMCPWREN_PWM3_NAME,     GPIO1L_PWM3
- */
-
-#define PWM_ID            0
-#define PWM_MUX_NAME      GPIO1B5_PWM0_NAME
-#define PWM_MUX_MODE      GPIO1L_PWM0
-#define PWM_MUX_MODE_GPIO GPIO1L_GPIO1B5
-#define PWM_GPIO RK29_PIN1_PB5
-#define PWM_EFFECT_VALUE  0
-#define BACKLIGHT_MINVALUE 52
-#define LCD_DISP_ON_PIN
-
-#ifdef  LCD_DISP_ON_PIN
-//#define BL_EN_MUX_NAME    GPIOF34_UART3_SEL_NAME
-//#define BL_EN_MUX_MODE    IOMUXB_GPIO1_B34
-
-#define BL_EN_PIN         RK29_PIN6_PD0
-#define BL_EN_VALUE       GPIO_HIGH
-#endif
-static int rk29_backlight_io_init(void)
-{
-    int ret = 0;
-
-    rk29_mux_api_set(PWM_MUX_NAME, PWM_MUX_MODE);
-	#ifdef  LCD_DISP_ON_PIN
-   // rk29_mux_api_set(BL_EN_MUX_NAME, BL_EN_MUX_MODE);
-
-    ret = gpio_request(BL_EN_PIN, NULL);
-    if(ret != 0)
-    {
-        gpio_free(BL_EN_PIN);
-    }
-
-    gpio_direction_output(BL_EN_PIN, 0);
-    gpio_set_value(BL_EN_PIN, !BL_EN_VALUE);
-	#endif
-    return ret;
-}
-
-static int rk29_backlight_io_deinit(void)
-{
-    int ret = 0;
-    #ifdef  LCD_DISP_ON_PIN
-    gpio_free(BL_EN_PIN);
-    #endif
-    rk29_mux_api_set(PWM_MUX_NAME, PWM_MUX_MODE_GPIO);
-    
-    return ret;
-}
-
-static int rk29_backlight_pwm_suspend(void)
-{
-	int ret = 0;
-	rk29_mux_api_set(PWM_MUX_NAME, PWM_MUX_MODE_GPIO);
-	if (gpio_request(PWM_GPIO, NULL)) {
-		printk("func %s, line %d: request gpio fail\n", __FUNCTION__, __LINE__);
-		return -1;
-	}
-	gpio_direction_output(PWM_GPIO, GPIO_HIGH);
-	//gpio_direction_output(PWM_GPIO, GPIO_LOW);
-   #ifdef  LCD_DISP_ON_PIN
-    gpio_direction_output(BL_EN_PIN, 0);
-    gpio_set_value(BL_EN_PIN, !BL_EN_VALUE);
-   #endif
-	return ret;
-}
-
-static int rk29_backlight_pwm_resume(void)
-{
-	gpio_free(PWM_GPIO);
-	rk29_mux_api_set(PWM_MUX_NAME, PWM_MUX_MODE);
-
-    #ifdef  LCD_DISP_ON_PIN
-    msleep(30);
-    gpio_direction_output(BL_EN_PIN, 1);
-    gpio_set_value(BL_EN_PIN, BL_EN_VALUE);
-    #endif
-	return 0;
-}
-
-struct rk29_bl_info rk29_bl_info = {
-    .pwm_id   = PWM_ID,
-    .bl_ref   = PWM_EFFECT_VALUE,
-    .io_init   = rk29_backlight_io_init,
-    .io_deinit = rk29_backlight_io_deinit,
-    .pwm_suspend = rk29_backlight_pwm_suspend,
-    .pwm_resume = rk29_backlight_pwm_resume,
-    .min_brightness = BACKLIGHT_MINVALUE,
-};
-struct platform_device rk29_device_backlight = {
-		.name	= "rk29_backlight",
-		.id 	= -1,
-        .dev    = {
-           .platform_data  = &rk29_bl_info,
-        }
-};
-#endif
-/*****************************************************************************************
-* pwm voltage regulator devices
-******************************************************************************************/
-#if defined (CONFIG_RK29_PWM_REGULATOR)
-
-#define REGULATOR_PWM_ID					2
-#define REGULATOR_PWM_MUX_NAME      		GPIO2A3_SDMMC0WRITEPRT_PWM2_NAME
-#define REGULATOR_PWM_MUX_MODE      					GPIO2L_PWM2
-#define REGULATOR_PWM_MUX_MODE_GPIO 				GPIO2L_GPIO2A3
-#define REGULATOR_PWM_GPIO				RK29_PIN2_PA3
-
-static struct regulator_consumer_supply pwm_consumers[] = {
-	{
-		.supply = "vcore",
-	}
-};
-
-static struct regulator_init_data rk29_pwm_regulator_data = {
-	.constraints = {
-		.name = "PWM2",
-		.min_uV =  950000,
-#ifdef CONFIG_RK29_NEWTON_CLOCK
-		.max_uV = 1500000,
-#else
-		.max_uV = 1400000,
-#endif
-		.apply_uV = 1,
-		.valid_ops_mask = REGULATOR_CHANGE_STATUS | REGULATOR_CHANGE_VOLTAGE,
-	},
-	.num_consumer_supplies = ARRAY_SIZE(pwm_consumers),
-	.consumer_supplies = pwm_consumers,
-};
-
-static struct pwm_platform_data rk29_regulator_pwm_platform_data = {
-	.pwm_id = REGULATOR_PWM_ID,
-	.pwm_gpio = REGULATOR_PWM_GPIO,
-	//.pwm_iomux_name[] = REGULATOR_PWM_MUX_NAME;
-	.pwm_iomux_name = REGULATOR_PWM_MUX_NAME,
-	.pwm_iomux_pwm = REGULATOR_PWM_MUX_MODE,
-	.pwm_iomux_gpio = REGULATOR_PWM_MUX_MODE_GPIO,
-	.init_data  = &rk29_pwm_regulator_data,
-};
-
-static struct platform_device rk29_device_pwm_regulator = {
-	.name = "pwm-voltage-regulator",
-	.id   = -1,
-	.dev  = {
-		.platform_data = &rk29_regulator_pwm_platform_data,
-	},
-};
-
-#endif
-
-/*****************************************************************************************
- * SDMMC devices
-*****************************************************************************************/
-#ifdef CONFIG_SDMMC0_RK29
-static int rk29_sdmmc0_cfg_gpio(void)
-{
-	rk29_mux_api_set(GPIO1D1_SDMMC0CMD_NAME, GPIO1H_SDMMC0_CMD);
-	rk29_mux_api_set(GPIO1D0_SDMMC0CLKOUT_NAME, GPIO1H_SDMMC0_CLKOUT);
-	rk29_mux_api_set(GPIO1D2_SDMMC0DATA0_NAME, GPIO1H_SDMMC0_DATA0);
-	rk29_mux_api_set(GPIO1D3_SDMMC0DATA1_NAME, GPIO1H_SDMMC0_DATA1);
-	rk29_mux_api_set(GPIO1D4_SDMMC0DATA2_NAME, GPIO1H_SDMMC0_DATA2);
-	rk29_mux_api_set(GPIO1D5_SDMMC0DATA3_NAME, GPIO1H_SDMMC0_DATA3);
-
-#ifdef CONFIG_SDMMC_RK29_OLD	
-	rk29_mux_api_set(GPIO2A2_SDMMC0DETECTN_NAME, GPIO2L_GPIO2A2);
-#else
-	rk29_mux_api_set(GPIO2A2_SDMMC0DETECTN_NAME, GPIO2L_SDMMC0_DETECT_N);//Modifyed by xbw.
-#endif
-
-	rk29_mux_api_set(GPIO5D5_SDMMC0PWREN_NAME, GPIO5H_GPIO5D5);   ///GPIO5H_SDMMC0_PWR_EN);  ///GPIO5H_GPIO5D5);
-	gpio_request(RK29_PIN5_PD5,"sdmmc");
-#if 0
-	gpio_set_value(RK29_PIN5_PD5,GPIO_HIGH);
-	mdelay(100);
-	gpio_set_value(RK29_PIN5_PD5,GPIO_LOW);
-#else
-	gpio_direction_output(RK29_PIN5_PD5,GPIO_LOW);
-#endif
-	return 0;
-}
-
-#define CONFIG_SDMMC0_USE_DMA
-struct rk29_sdmmc_platform_data default_sdmmc0_data = {
-	.host_ocr_avail = (MMC_VDD_25_26|MMC_VDD_26_27|MMC_VDD_27_28|MMC_VDD_28_29|MMC_VDD_29_30|
-					   MMC_VDD_30_31|MMC_VDD_31_32|MMC_VDD_32_33|
-					   MMC_VDD_33_34|MMC_VDD_34_35| MMC_VDD_35_36),
-	.host_caps 	= (MMC_CAP_4_BIT_DATA|MMC_CAP_MMC_HIGHSPEED|MMC_CAP_SD_HIGHSPEED),
-	.io_init = rk29_sdmmc0_cfg_gpio,
-	.dma_name = "sd_mmc",
-#ifdef CONFIG_SDMMC0_USE_DMA
-	.use_dma  = 1,
-#else
-	.use_dma = 0,
-#endif
-	.detect_irq = RK29_PIN2_PA2, // INVALID_GPIO
-	.enable_sd_wakeup = 0,
-};
-#endif
-#ifdef CONFIG_SDMMC1_RK29
-#define CONFIG_SDMMC1_USE_DMA
-static int rk29_sdmmc1_cfg_gpio(void)
-{
-	rk29_mux_api_set(GPIO1C2_SDMMC1CMD_NAME, GPIO1H_SDMMC1_CMD);
-	rk29_mux_api_set(GPIO1C7_SDMMC1CLKOUT_NAME, GPIO1H_SDMMC1_CLKOUT);
-	rk29_mux_api_set(GPIO1C3_SDMMC1DATA0_NAME, GPIO1H_SDMMC1_DATA0);
-	rk29_mux_api_set(GPIO1C4_SDMMC1DATA1_NAME, GPIO1H_SDMMC1_DATA1);
-	rk29_mux_api_set(GPIO1C5_SDMMC1DATA2_NAME, GPIO1H_SDMMC1_DATA2);
-	rk29_mux_api_set(GPIO1C6_SDMMC1DATA3_NAME, GPIO1H_SDMMC1_DATA3);
-	//rk29_mux_api_set(GPIO1C0_UART0CTSN_SDMMC1DETECTN_NAME, GPIO1H_SDMMC1_DETECT_N);
-	return 0;
-}
-
-#ifdef CONFIG_WIFI_CONTROL_FUNC
-static int rk29sdk_wifi_status(struct device *dev);
-static int rk29sdk_wifi_status_register(void (*callback)(int card_presend, void *dev_id), void *dev_id);
-#endif
-
-#define RK29SDK_WIFI_SDIO_CARD_DETECT_N    RK29_PIN1_PD6
-
-struct rk29_sdmmc_platform_data default_sdmmc1_data = {
-	.host_ocr_avail = (MMC_VDD_25_26|MMC_VDD_26_27|MMC_VDD_27_28|MMC_VDD_28_29|
-					   MMC_VDD_29_30|MMC_VDD_30_31|MMC_VDD_31_32|
-					   MMC_VDD_32_33|MMC_VDD_33_34),
-	.host_caps 	= (MMC_CAP_4_BIT_DATA|MMC_CAP_SDIO_IRQ|
-				   MMC_CAP_MMC_HIGHSPEED|MMC_CAP_SD_HIGHSPEED),
-	.io_init = rk29_sdmmc1_cfg_gpio,
-	.dma_name = "sdio",
-#ifdef CONFIG_SDMMC1_USE_DMA
-	.use_dma  = 1,
-#else
-	.use_dma = 0,
-#endif
-#ifdef CONFIG_WIFI_CONTROL_FUNC
-        .status = rk29sdk_wifi_status,
-        .register_status_notify = rk29sdk_wifi_status_register,
-#endif
-#if 0
-        .detect_irq = RK29SDK_WIFI_SDIO_CARD_DETECT_N,
-#endif
-};
-#endif
-
-#ifdef CONFIG_WIFI_CONTROL_FUNC
-#define RK29SDK_WIFI_BT_GPIO_POWER_N       RK29_PIN5_PD6
-#define RK29SDK_WIFI_GPIO_RESET_N          RK29_PIN6_PC0
-#define RK29SDK_BT_GPIO_RESET_N            RK29_PIN6_PC4
-
-static int rk29sdk_wifi_cd = 0;   /* wifi virtual 'card detect' status */
-static void (*wifi_status_cb)(int card_present, void *dev_id);
-static void *wifi_status_cb_devid;
-int rk29sdk_wifi_power_state = 0;
-int rk29sdk_bt_power_state = 0;
-
-static int rk29sdk_wifi_status(struct device *dev)
-{
-        return rk29sdk_wifi_cd;
-}
-
-static int rk29sdk_wifi_status_register(void (*callback)(int card_present, void *dev_id), void *dev_id)
-{
-        if(wifi_status_cb)
-                return -EAGAIN;
-        wifi_status_cb = callback;
-        wifi_status_cb_devid = dev_id;
-        return 0;
-}
-
-static int rk29sdk_wifi_bt_gpio_control_init(void)
-{
-    if (gpio_request(RK29SDK_WIFI_BT_GPIO_POWER_N, "wifi_bt_power")) {
-           pr_info("%s: request wifi_bt power gpio failed\n", __func__);
-           return -1;
-    }
-
-    if (gpio_request(RK29SDK_WIFI_GPIO_RESET_N, "wifi reset")) {
-           pr_info("%s: request wifi reset gpio failed\n", __func__);
-           gpio_free(RK29SDK_WIFI_BT_GPIO_POWER_N);
-           return -1;
-    }
-
-    if (gpio_request(RK29SDK_BT_GPIO_RESET_N, "bt reset")) {
-          pr_info("%s: request bt reset gpio failed\n", __func__);
-          gpio_free(RK29SDK_WIFI_GPIO_RESET_N);
-          return -1;
-    }
-
-// cwz 0: close for bt uart2 larkage.
-#if 0
-    gpio_direction_output(RK29SDK_WIFI_BT_GPIO_POWER_N, GPIO_LOW);
-#else
-    gpio_direction_output(RK29SDK_WIFI_BT_GPIO_POWER_N, GPIO_HIGH);
-#endif
-    gpio_direction_output(RK29SDK_WIFI_GPIO_RESET_N,    GPIO_LOW);
-    gpio_direction_output(RK29SDK_BT_GPIO_RESET_N,      GPIO_LOW);
-
-    pr_info("%s: init finished\n",__func__);
-
-    return 0;
-}
-
-static int rk29sdk_wifi_power(int on)
-{
-        pr_info("%s: %d\n", __func__, on);
-        if (on){
-                gpio_set_value(RK29SDK_WIFI_BT_GPIO_POWER_N, GPIO_HIGH);
-                gpio_set_value(RK29SDK_WIFI_GPIO_RESET_N, GPIO_HIGH);
-                mdelay(100);
-                pr_info("wifi turn on power\n");
-        }else{
-// cwz 0: close for bt uart2 larkage.
-#if 0
-                if (!rk29sdk_bt_power_state){
-                        gpio_set_value(RK29SDK_WIFI_BT_GPIO_POWER_N, GPIO_LOW);
-                        mdelay(100);
-                        pr_info("wifi shut off power\n");
-                }else
-                {
-                        pr_info("wifi shouldn't shut off power, bt is using it!\n");
-                }
-#endif
-                gpio_set_value(RK29SDK_WIFI_GPIO_RESET_N, GPIO_LOW);
-        }
-
-        rk29sdk_wifi_power_state = on;
-        return 0;
-}
-
-static int rk29sdk_wifi_reset_state;
-static int rk29sdk_wifi_reset(int on)
-{
-        pr_info("%s: %d\n", __func__, on);
-        gpio_set_value(RK29SDK_WIFI_GPIO_RESET_N, on);
-        mdelay(100);
-        rk29sdk_wifi_reset_state = on;
-        return 0;
-}
-
-int rk29sdk_wifi_set_carddetect(int val)
-{
-        pr_info("%s:%d\n", __func__, val);
-        rk29sdk_wifi_cd = val;
-        if (wifi_status_cb){
-                wifi_status_cb(val, wifi_status_cb_devid);
-        }else {
-                pr_warning("%s, nobody to notify\n", __func__);
-        }
-        return 0;
-}
-EXPORT_SYMBOL(rk29sdk_wifi_set_carddetect);
-
-static struct wifi_mem_prealloc wifi_mem_array[PREALLOC_WLAN_SEC_NUM] = {
-        {NULL, (WLAN_SECTION_SIZE_0 + PREALLOC_WLAN_SECTION_HEADER)},
-        {NULL, (WLAN_SECTION_SIZE_1 + PREALLOC_WLAN_SECTION_HEADER)},
-        {NULL, (WLAN_SECTION_SIZE_2 + PREALLOC_WLAN_SECTION_HEADER)},
-        {NULL, (WLAN_SECTION_SIZE_3 + PREALLOC_WLAN_SECTION_HEADER)}
-};
-
-static void *rk29sdk_mem_prealloc(int section, unsigned long size)
-{
-        if (section == PREALLOC_WLAN_SEC_NUM)
-                return wlan_static_skb;
-
-        if ((section < 0) || (section > PREALLOC_WLAN_SEC_NUM))
-                return NULL;
-
-        if (wifi_mem_array[section].size < size)
-                return NULL;
-
-        return wifi_mem_array[section].mem_ptr;
-}
-
-int __init rk29sdk_init_wifi_mem(void)
-{
-        int i;
-        int j;
-
-        for (i = 0 ; i < WLAN_SKB_BUF_NUM ; i++) {
-                wlan_static_skb[i] = dev_alloc_skb(
-                                ((i < (WLAN_SKB_BUF_NUM / 2)) ? 4096 : 8192));
-
-                if (!wlan_static_skb[i])
-                        goto err_skb_alloc;
-        }
-
-        for (i = 0 ; i < PREALLOC_WLAN_SEC_NUM ; i++) {
-                wifi_mem_array[i].mem_ptr =
-                                kmalloc(wifi_mem_array[i].size, GFP_KERNEL);
-
-                if (!wifi_mem_array[i].mem_ptr)
-                        goto err_mem_alloc;
-        }
-        return 0;
-
-err_mem_alloc:
-        pr_err("Failed to mem_alloc for WLAN\n");
-        for (j = 0 ; j < i ; j++)
-               kfree(wifi_mem_array[j].mem_ptr);
-
-        i = WLAN_SKB_BUF_NUM;
-
-err_skb_alloc:
-        pr_err("Failed to skb_alloc for WLAN\n");
-        for (j = 0 ; j < i ; j++)
-                dev_kfree_skb(wlan_static_skb[j]);
-
-        return -ENOMEM;
-}
-
-static struct wifi_platform_data rk29sdk_wifi_control = {
-        .set_power = rk29sdk_wifi_power,
-        .set_reset = rk29sdk_wifi_reset,
-        .set_carddetect = rk29sdk_wifi_set_carddetect,
-        .mem_prealloc   = rk29sdk_mem_prealloc,
-};
-static struct platform_device rk29sdk_wifi_device = {
-        .name = "bcm4329_wlan",
-        .id = 1,
-        .dev = {
-                .platform_data = &rk29sdk_wifi_control,
-         },
-};
-#endif
-
-
-/* bluetooth rfkill device */
-static struct platform_device rk29sdk_rfkill = {
-        .name = "rk29sdk_rfkill",
-        .id = -1,
-};
-
-
-#ifdef CONFIG_VIVANTE
-#ifdef CONFIG_RK29_NEWTON_CLOCK
-#define GPU_HIGH_CLOCK        504 // 504 456
-#define GPU_LOW_CLOCK         300
-#else
-#define GPU_HIGH_CLOCK        552
-#define GPU_LOW_CLOCK         (periph_pll_default / 1000000) /* same as general pll clock rate below */
-#endif
-static struct resource resources_gpu[] = {
-    [0] = {
-		.name 	= "gpu_irq",
-        .start 	= IRQ_GPU,
-        .end    = IRQ_GPU,
-        .flags  = IORESOURCE_IRQ,
-    },
-    [1] = {
-		.name   = "gpu_base",
-        .start  = RK29_GPU_PHYS,
-        .end    = RK29_GPU_PHYS + RK29_GPU_SIZE - 1,
-        .flags  = IORESOURCE_MEM,
-    },
-    [2] = {
-		.name   = "gpu_mem",
-        .start  = PMEM_GPU_BASE,
-        .end    = PMEM_GPU_BASE + PMEM_GPU_SIZE - 1,
-        .flags  = IORESOURCE_MEM,
-    },
-    [3] = {
-		.name 	= "gpu_clk",
-        .start 	= GPU_LOW_CLOCK,
-        .end    = GPU_HIGH_CLOCK,
-        .flags  = IORESOURCE_IO,
-    },
-};
-static struct platform_device rk29_device_gpu = {
-    .name             = "galcore",
-    .id               = 0,
-    .num_resources    = ARRAY_SIZE(resources_gpu),
-    .resource         = resources_gpu,
-};
-#endif
-
-#ifdef CONFIG_KEYS_RK29_NEWTON
-extern struct rk29_keys_platform_data rk29_keys_pdata;
-static struct platform_device rk29_device_keys = {
-	.name		= "rk29-keypad",
-	.id		= -1,
-	.dev		= {
-		.platform_data	= &rk29_keys_pdata,
-	},
-};
-#endif
-
-#ifdef CONFIG_LEDS_GPIO_PLATFORM
-struct gpio_led rk29_leds[] = {
-		{
-			.name = "rk29_red_led",
-			.gpio = RK29_PIN4_PB2,
-			.default_trigger = "timer",
-			.active_low = 0,
-			.retain_state_suspended = 1,
-			.default_state = LEDS_GPIO_DEFSTATE_OFF,
-		},
-		{
-			.name = "rk29_green_led",
-			.gpio = RK29_PIN4_PB1,
-			.default_trigger = "timer",
-			.active_low = 0,
-			.retain_state_suspended = 1,
-			.default_state = LEDS_GPIO_DEFSTATE_OFF,
-		},
-		{
-			.name = "rk29_blue_led",
-			.gpio = RK29_PIN4_PB0,
-			.default_trigger = "timer",
-			.active_low = 0,
-			.retain_state_suspended = 1,
-			.default_state = LEDS_GPIO_DEFSTATE_OFF,
-		},
-};
-
-struct gpio_led_platform_data rk29_leds_pdata = {
-	.leds = &rk29_leds,
-	.num_leds	= ARRAY_SIZE(rk29_leds),
-};
-
-struct platform_device rk29_device_gpio_leds = {
-	.name	= "leds-gpio",
-	.id 	= -1,
-	.dev	= {
-	   .platform_data  = &rk29_leds_pdata,
-	},
-};
-#endif
-
-#ifdef CONFIG_LEDS_NEWTON_PWM
-static struct led_newton_pwm rk29_pwm_leds[] = {
-		{
-			.name = "power_led",
-			.pwm_id = 1,
-			.pwm_gpio = RK29_PIN5_PD2,
-			.pwm_iomux_name = GPIO5D2_PWM1_UART1SIRIN_NAME,
-			.pwm_iomux_pwm = GPIO5H_PWM1,
-			.pwm_iomux_gpio = GPIO5H_GPIO5D2,
-			.freq = 1000,
-			.period = 255,
-		},
-};
-
-static struct led_newton_pwm_platform_data rk29_pwm_leds_pdata = {
-	.leds = &rk29_pwm_leds,
-	.num_leds	= ARRAY_SIZE(rk29_pwm_leds),
-};
-
-static struct platform_device rk29_device_pwm_leds = {
-	.name	= "leds_newton_pwm",
-	.id 	= -1,
-	.dev	= {
-	   .platform_data  = &rk29_pwm_leds_pdata,
-	},
-};
-#endif
-	
-#ifdef CONFIG_USB_ANDROID
-struct usb_mass_storage_platform_data newton_mass_storage_pdata = {
-	.nluns		= 1,
-	.vendor		= "RockChip",
-	.product	= "rk29 sdk",
-	.release	= 0x0100,
-};
-
-//static 
-struct platform_device newton_usb_mass_storage_device = {
-	.name	= "usb_mass_storage",
-	.id	= -1,
-	.dev	= {
-		.platform_data = &newton_mass_storage_pdata,
-	},
-};
-#endif
-static struct platform_device  rk29_cs42l52_device = {
-	.name		= "rk29_cs42l52",
-	.id		    = -1,
-};
-
-static void __init rk29_board_iomux_init(void)
-{
-	#ifdef CONFIG_RK29_PWM_REGULATOR
-	rk29_mux_api_set(REGULATOR_PWM_MUX_NAME,REGULATOR_PWM_MUX_MODE);
-	#endif
-	#ifdef CONFIG_LEDS_GPIO_PLATFORM
-	rk29_mux_api_set(GPIO4B0_FLASHDATA8_NAME,GPIO4L_GPIO4B0);
-	rk29_mux_api_set(GPIO4B1_FLASHDATA9_NAME,GPIO4L_GPIO4B1);
-	rk29_mux_api_set(GPIO4B2_FLASHDATA10_NAME,GPIO4L_GPIO4B2);
-	#endif
-	#ifdef CONFIG_LEDS_NEWTON_PWM
-	rk29_mux_api_set(GPIO5D2_PWM1_UART1SIRIN_NAME, GPIO5H_GPIO5D2);
-	#endif
-}
-
-static struct platform_device *devices[] __initdata = {
-
-#ifdef CONFIG_RK29_WATCHDOG
-	&rk29_device_wdt,
-#endif
-
-#ifdef CONFIG_UART1_RK29
-	&rk29_device_uart1,
-#endif
-#ifdef CONFIG_UART0_RK29
-	&rk29_device_uart0,
-#endif
-#ifdef CONFIG_UART2_RK29
-	&rk29_device_uart2,
-#endif
-#ifdef CONFIG_UART3_RK29
-	&rk29_device_uart3,
-#endif
-
-#ifdef CONFIG_RK29_PWM_REGULATOR
-	&rk29_device_pwm_regulator,
-#endif
-#ifdef CONFIG_SPIM0_RK29
-    &rk29xx_device_spi0m,
-#endif
-#ifdef CONFIG_SPIM1_RK29
-    &rk29xx_device_spi1m,
-#endif
-#ifdef CONFIG_ADC_RK29
-	&rk29_device_adc,
-#endif
-#ifdef CONFIG_I2C0_RK29
-	&rk29_device_i2c0,
-#endif
-#ifdef CONFIG_I2C1_RK29
-	&rk29_device_i2c1,
-#endif
-#ifdef CONFIG_I2C2_RK29
-	&rk29_device_i2c2,
-#endif
-#ifdef CONFIG_I2C3_RK29
-	&rk29_device_i2c3,
-#endif
-
-#ifdef CONFIG_SND_RK29_SOC_I2S_2CH
-        &rk29_device_iis_2ch,
-#endif
-#ifdef CONFIG_SND_RK29_SOC_I2S_8CH
-        &rk29_device_iis_8ch,
-#endif
-
-#ifdef CONFIG_KEYS_RK29
-	&rk29_device_keys,
-#endif
-#ifdef CONFIG_KEYS_RK29_NEWTON
-	&rk29_device_keys,
-#endif
-#ifdef CONFIG_SDMMC0_RK29
-	&rk29_device_sdmmc0,
-#endif
-#ifdef CONFIG_SDMMC1_RK29
-	&rk29_device_sdmmc1,
-#endif
-
-#ifdef CONFIG_MTD_NAND_RK29XX
-	&rk29xx_device_nand,
-#endif
-
-#ifdef CONFIG_WIFI_CONTROL_FUNC
-        &rk29sdk_wifi_device,
-#endif
-
-#ifdef CONFIG_BT
-        &rk29sdk_rfkill,
-#endif
-
-#ifdef CONFIG_MTD_NAND_RK29
-	&rk29_device_nand,
-#endif
-
-#ifdef CONFIG_FB_RK29
-	&rk29_device_fb,
-	&rk29_device_dma_cpy,
-#endif
-#ifdef CONFIG_BACKLIGHT_RK29_BL
-	&rk29_device_backlight,
-#endif
-#ifdef CONFIG_BACKLIGHT_RK29_NEWTON_BL
-	&rk29_device_backlight,
-#endif
-#ifdef CONFIG_RK29_VMAC
-	&rk29_device_vmac,
-#endif
-#ifdef CONFIG_VIVANTE
-	&rk29_device_gpu,
-#endif
-#ifdef CONFIG_VIDEO_RK29
- 	&rk29_device_camera,      /* ddl@rock-chips.com : camera support  */
- 	#if (CONFIG_SENSOR_IIC_ADDR_0 != 0x00)
- 	&rk29_soc_camera_pdrv_0,
- 	#endif
- 	&rk29_soc_camera_pdrv_1,
- 	&android_pmem_cam_device,
-#endif
-	&android_pmem_device,
-	&rk29_vpu_mem_device,
-#ifdef CONFIG_USB20_OTG
-	&rk29_device_usb20_otg,
-#endif
-#ifdef CONFIG_USB20_HOST
-	&rk29_device_usb20_host,
-#endif
-#ifdef CONFIG_USB11_HOST
-	&rk29_device_usb11_host,
-#endif
-#ifdef CONFIG_USB_ANDROID
-	&android_usb_device,
-	&newton_usb_mass_storage_device,
-#endif
-#ifdef CONFIG_USB_ANDROID_RNDIS
-    &rk29_device_rndis,
-#endif
-#ifdef CONFIG_RK29_IPP
-	&rk29_device_ipp,
-#endif
-#ifdef CONFIG_VIDEO_RK29XX_VOUT
-	&rk29_v4l2_output_devce,
-#endif
-#ifdef CONFIG_RK29_NEWTON
-	&rk29_device_newton,
-#endif
-#ifdef CONFIG_RK_IRDA
-    &irda_device,
-#endif
-#ifdef CONFIG_LEDS_GPIO_PLATFORM
-	&rk29_device_gpio_leds,
-#endif
-#ifdef CONFIG_LEDS_NEWTON_PWM
-	&rk29_device_pwm_leds,
-#endif
-#ifdef CONFIG_SND_RK29_SOC_CS42L52
-	&rk29_cs42l52_device,
-#endif
-};
-
-/*****************************************************************************************
- * spi devices
- * author: cmc@rock-chips.com
- *****************************************************************************************/
-static int rk29_vmac_register_set(void)
-{
-	//config rk29 vmac as rmii, 100MHz
-	u32 value= readl(RK29_GRF_BASE + 0xbc);
-	value = (value & 0xfff7ff) | (0x400);
-	writel(value, RK29_GRF_BASE + 0xbc);
-	return 0;
-}
-
-static int rk29_rmii_io_init(void)
-{
-	int err;
-
-	//phy power gpio
-	err = gpio_request(RK29_PIN6_PB0, "phy_power_en");
-	if (err) {
-		gpio_free(RK29_PIN6_PB0);
-		printk("-------request RK29_PIN6_PB0 fail--------\n");
-		return -1;
-	}
-	//phy power down
-	gpio_direction_output(RK29_PIN6_PB0, GPIO_LOW);
-	gpio_set_value(RK29_PIN6_PB0, GPIO_LOW);
-
-	return 0;
-}
-
-static int rk29_rmii_io_deinit(void)
-{
-	//phy power down
-	gpio_direction_output(RK29_PIN6_PB0, GPIO_LOW);
-	gpio_set_value(RK29_PIN6_PB0, GPIO_LOW);
-	//free
-	gpio_free(RK29_PIN6_PB0);
-	return 0;
-}
-
-static int rk29_rmii_power_control(int enable)
-{
-	if (enable) {
-		//enable phy power
-		gpio_direction_output(RK29_PIN6_PB0, GPIO_HIGH);
-		gpio_set_value(RK29_PIN6_PB0, GPIO_HIGH);
-	}
-	else {
-		gpio_direction_output(RK29_PIN6_PB0, GPIO_LOW);
-		gpio_set_value(RK29_PIN6_PB0, GPIO_LOW);
-	}
-	return 0;
-}
-
-struct rk29_vmac_platform_data rk29_vmac_pdata = {
-	.vmac_register_set = rk29_vmac_register_set,
-	.rmii_io_init = rk29_rmii_io_init,
-	.rmii_io_deinit = rk29_rmii_io_deinit,
-	.rmii_power_control = rk29_rmii_power_control,
-};
-
-/*****************************************************************************************
- * spi devices
- * author: cmc@rock-chips.com
- *****************************************************************************************/
-#define SPI_CHIPSELECT_NUM 2
-static struct spi_cs_gpio rk29xx_spi0_cs_gpios[SPI_CHIPSELECT_NUM] = {
-    {
-		.name = "spi0 cs0",
-		.cs_gpio = RK29_PIN2_PC1,
-		.cs_iomux_name = GPIO2C1_SPI0CSN0_NAME,
-		.cs_iomux_mode = GPIO2H_SPI0_CSN0,
-	},
-	{
-		.name = "spi0 cs1",
-		.cs_gpio = RK29_PIN1_PA4,
-		.cs_iomux_name = GPIO1A4_EMMCWRITEPRT_SPI0CS1_NAME,//if no iomux,set it NULL
-		.cs_iomux_mode = GPIO1L_SPI0_CSN1,
-	}
-};
-
-static struct spi_cs_gpio rk29xx_spi1_cs_gpios[SPI_CHIPSELECT_NUM] = {
-    {
-		.name = "spi1 cs0",
-		.cs_gpio = RK29_PIN2_PC5,
-		.cs_iomux_name = GPIO2C5_SPI1CSN0_NAME,
-		.cs_iomux_mode = GPIO2H_SPI1_CSN0,
-	},
-	{
-		.name = "spi1 cs1",
-		.cs_gpio = RK29_PIN1_PA3,
-		.cs_iomux_name = GPIO1A3_EMMCDETECTN_SPI1CS1_NAME,//if no iomux,set it NULL
-		.cs_iomux_mode = GPIO1L_SPI1_CSN1,
-	}
-};
-
-static int spi_io_init(struct spi_cs_gpio *cs_gpios, int cs_num)
-{
-#if 1
-	int i;
-	if (cs_gpios) {
-		for (i=0; i<cs_num; i++) {
-			rk29_mux_api_set(cs_gpios[i].cs_iomux_name, cs_gpios[i].cs_iomux_mode);
-		}
-	}
-#endif
-	return 0;
-}
-
-static int spi_io_deinit(struct spi_cs_gpio *cs_gpios, int cs_num)
-{
-	return 0;
-}
-
-static int spi_io_fix_leakage_bug(void)
-{
-#if 0
-	gpio_direction_output(RK29_PIN2_PC1, GPIO_LOW);
-#endif
-	return 0;
-}
-
-static int spi_io_resume_leakage_bug(void)
-{
-#if 0
-	gpio_direction_output(RK29_PIN2_PC1, GPIO_HIGH);
-#endif
-	return 0;
-}
-
-struct rk29xx_spi_platform_data rk29xx_spi0_platdata = {
-	.num_chipselect = SPI_CHIPSELECT_NUM,
-	.chipselect_gpios = rk29xx_spi0_cs_gpios,
-	.io_init = spi_io_init,
-	.io_deinit = spi_io_deinit,
-	.io_fix_leakage_bug = spi_io_fix_leakage_bug,
-	.io_resume_leakage_bug = spi_io_resume_leakage_bug,
-};
-
-struct rk29xx_spi_platform_data rk29xx_spi1_platdata = {
-	.num_chipselect = SPI_CHIPSELECT_NUM,
-	.chipselect_gpios = rk29xx_spi1_cs_gpios,
-	.io_init = spi_io_init,
-	.io_deinit = spi_io_deinit,
-	.io_fix_leakage_bug = spi_io_fix_leakage_bug,
-	.io_resume_leakage_bug = spi_io_resume_leakage_bug,
-};
-
-/*****************************************************************************************
- * xpt2046 touch panel
- * author: cmc@rock-chips.com
- *****************************************************************************************/
-#define XPT2046_GPIO_INT           RK29_PIN0_PA3
-#define DEBOUNCE_REPTIME  3
-
-#if defined(CONFIG_TOUCHSCREEN_XPT2046_320X480_SPI)
-static struct xpt2046_platform_data xpt2046_info = {
-	.model			= 2046,
-	.keep_vref_on 	= 1,
-	.swap_xy		= 0,
-	.x_min			= 0,
-	.x_max			= 320,
-	.y_min			= 0,
-	.y_max			= 480,
-	.debounce_max		= 7,
-	.debounce_rep		= DEBOUNCE_REPTIME,
-	.debounce_tol		= 20,
-	.gpio_pendown		= XPT2046_GPIO_INT,
-	.penirq_recheck_delay_usecs = 1,
-};
-#elif defined(CONFIG_TOUCHSCREEN_XPT2046_320X480_CBN_SPI)
-static struct xpt2046_platform_data xpt2046_info = {
-	.model			= 2046,
-	.keep_vref_on 	= 1,
-	.swap_xy		= 0,
-	.x_min			= 0,
-	.x_max			= 320,
-	.y_min			= 0,
-	.y_max			= 480,
-	.debounce_max		= 7,
-	.debounce_rep		= DEBOUNCE_REPTIME,
-	.debounce_tol		= 20,
-	.gpio_pendown		= XPT2046_GPIO_INT,
-	.penirq_recheck_delay_usecs = 1,
-};
-#elif defined(CONFIG_TOUCHSCREEN_XPT2046_SPI)
-static struct xpt2046_platform_data xpt2046_info = {
-	.model			= 2046,
-	.keep_vref_on 	= 1,
-	.swap_xy		= 1,
-	.x_min			= 0,
-	.x_max			= 800,
-	.y_min			= 0,
-	.y_max			= 480,
-	.debounce_max		= 7,
-	.debounce_rep		= DEBOUNCE_REPTIME,
-	.debounce_tol		= 20,
-	.gpio_pendown		= XPT2046_GPIO_INT,
-
-	.penirq_recheck_delay_usecs = 1,
-};
-#elif defined(CONFIG_TOUCHSCREEN_XPT2046_CBN_SPI)
-static struct xpt2046_platform_data xpt2046_info = {
-	.model			= 2046,
-	.keep_vref_on 	= 1,
-	.swap_xy		= 1,
-	.x_min			= 0,
-	.x_max			= 800,
-	.y_min			= 0,
-	.y_max			= 480,
-	.debounce_max		= 7,
-	.debounce_rep		= DEBOUNCE_REPTIME,
-	.debounce_tol		= 20,
-	.gpio_pendown		= XPT2046_GPIO_INT,
-
-	.penirq_recheck_delay_usecs = 1,
-};
-#endif
-
-static struct spi_board_info board_spi_devices[] = {
-#if defined(CONFIG_TOUCHSCREEN_XPT2046_320X480_SPI) || defined(CONFIG_TOUCHSCREEN_XPT2046_320X480_CBN_SPI)\
-    ||defined(CONFIG_TOUCHSCREEN_XPT2046_SPI) || defined(CONFIG_TOUCHSCREEN_XPT2046_CBN_SPI)
-	{
-		.modalias	= "xpt2046_ts",
-		.chip_select	= 0,
-		.max_speed_hz	= 125 * 1000 * 26,/* (max sample rate @ 3V) * (cmd + data + overhead) */
-		.bus_num	= 0,
-		.irq = XPT2046_GPIO_INT,
-		.platform_data = &xpt2046_info,
-	},
-#endif
-};
-
-
-static void __init rk29_gic_init_irq(void)
-{
-	gic_dist_init(0, (void __iomem *)RK29_GICPERI_BASE, 32);
-	gic_cpu_init(0, (void __iomem *)RK29_GICCPU_BASE);
-}
-
-static void __init machine_rk29_init_irq(void)
-{
-	rk29_gic_init_irq();
-	rk29_gpio_init();
-}
-
-static struct cpufreq_frequency_table freq_table[] = {
-#ifdef CONFIG_RK29_NEWTON_CLOCK
-	{ .index = 1200000, .frequency =  408000 },
-	{ .index = 1250000, .frequency =  816000 },
-	{ .index = 1300000, .frequency = 1008000 },
-	{ .index = 1460000, .frequency = 1200000 },
-#else
-#ifdef RK29_NEWTON_NEWBOARD
-/*
- * hardware change the max vdd from 1.4 to 1.5, so new table is:
- *           1.075 -> 1.133
- *           1.1   -> 1.16
- *           1.125 -> 1.20
- *           1.15  -> 1.225
- *           1.225 -> 1.313
- *           1.30  -> 1.404
- *           1.325 -> 1.436
- *           1.35  -> 1.46
- *           1.40  -> 1.5
- * 
-*/
-	{ .index = 1125000, .frequency =  408000 },
-	{ .index = 1150000, .frequency =  816000 },
-	{ .index = 1225000, .frequency = 1008000 },
-#else
-	{ .index = 1200000, .frequency =  408000 },
-	{ .index = 1200000, .frequency =  816000 },
-	{ .index = 1300000, .frequency = 1008000 },
-#endif // RK29_NEWTON_NEWBOARD
-#endif // CONFIG_RK29_NEWTON_CLOCK
-	{ .frequency = CPUFREQ_TABLE_END },
-};
-
-
-static void __init machine_rk29_board_init(void)
-{
-	rk29_board_iomux_init();
-
-	board_power_init();
-	board_update_cpufreq_table(freq_table);
-
-		platform_add_devices(devices, ARRAY_SIZE(devices));
-#ifdef CONFIG_I2C0_RK29
-	i2c_register_board_info(default_i2c0_data.bus_num, board_i2c0_devices,
-			ARRAY_SIZE(board_i2c0_devices));
-#endif
-#ifdef CONFIG_I2C1_RK29
-	i2c_register_board_info(default_i2c1_data.bus_num, board_i2c1_devices,
-			ARRAY_SIZE(board_i2c1_devices));
-#endif
-#ifdef CONFIG_I2C2_RK29
-	i2c_register_board_info(default_i2c2_data.bus_num, board_i2c2_devices,
-			ARRAY_SIZE(board_i2c2_devices));
-#endif
-#ifdef CONFIG_I2C3_RK29
-	i2c_register_board_info(default_i2c3_data.bus_num, board_i2c3_devices,
-			ARRAY_SIZE(board_i2c3_devices));
-#endif
-
-	spi_register_board_info(board_spi_devices, ARRAY_SIZE(board_spi_devices));
-        
-#ifdef CONFIG_WIFI_CONTROL_FUNC
-	rk29sdk_wifi_bt_gpio_control_init();
-	rk29sdk_init_wifi_mem();
-#endif
-
-	board_usb_detect_init(RK29_PIN0_PA0);
-
-#if defined(CONFIG_RK_IRDA) || defined(CONFIG_BU92747GUW_CIR)
-	smc0_init(NULL);
-	bu92747guw_io_init();
-#endif
-
-}
-
-static void __init machine_rk29_fixup(struct machine_desc *desc, struct tag *tags,
-					char **cmdline, struct meminfo *mi)
-{
-	mi->nr_banks = 1;
-	mi->bank[0].start = RK29_SDRAM_PHYS;
-	mi->bank[0].node = PHYS_TO_NID(RK29_SDRAM_PHYS);
-	mi->bank[0].size = LINUX_SIZE;
-#if SDRAM_SIZE > SZ_512M
-	mi->nr_banks = 2;
-	mi->bank[1].start = RK29_SDRAM_PHYS + SZ_512M;
-	mi->bank[1].size = SDRAM_SIZE - SZ_512M;
-#endif
-}
-
-static void __init machine_rk29_mapio(void)
-{
-	rk29_map_common_io();
-	rk29_setup_early_printk();
-	rk29_sram_init();
-#ifdef CONFIG_RK29_NEWTON_CLOCK
-	rk29_clock_init(periph_pll_144mhz);
-#else
-	rk29_clock_init(periph_pll_default);
-#endif
-	rk29_iomux_init();
-    ddr_init(DDR_TYPE,DDR_FREQ);  // DDR3_1333H, 400
-}
-
-MACHINE_START(RK29, "RK29board")
-	/* UART for LL DEBUG */
-	.phys_io	= RK29_UART1_PHYS & 0xfff00000,
-	.io_pg_offst	= ((RK29_UART1_BASE) >> 18) & 0xfffc,
-	.boot_params	= RK29_SDRAM_PHYS + 0x88000,
-	.fixup		= machine_rk29_fixup,
-	.map_io		= machine_rk29_mapio,
-	.init_irq	= machine_rk29_init_irq,
-	.init_machine	= machine_rk29_board_init,
-	.timer		= &rk29_timer,
-MACHINE_END
diff --git a/drivers/input/keyboard/Kconfig b/drivers/input/keyboard/Kconfig
index a4d97463fb62..f356187b1d1e 100644
--- a/drivers/input/keyboard/Kconfig
+++ b/drivers/input/keyboard/Kconfig
@@ -19,12 +19,6 @@ config KEYS_RK29
 	help
 	  rk29 keyboard drivers(gpio and adc)
 
-config KEYS_RK29_NEWTON
-	tristate "rk29 newton keyboard"
-	depends on ARCH_RK29
-	help
-		rk29 newton keyboard drivers(gpio and adc)
-
 config SYNAPTICS_SO340010
 	tristate "Synaptics So340010 TouchPad KEY"
 	depends on I2C
diff --git a/drivers/input/keyboard/Makefile b/drivers/input/keyboard/Makefile
index b90ddded626d..8cdebfbcd812 100644
--- a/drivers/input/keyboard/Makefile
+++ b/drivers/input/keyboard/Makefile
@@ -5,7 +5,6 @@
 # Each configuration option enables a list of files.
 
 obj-$(CONFIG_KEYS_RK29)			+= rk29_keys.o
-obj-$(CONFIG_KEYS_RK29_NEWTON)		+= rk29_newton_keys.o
 obj-$(CONFIG_KEYBOARD_ADP5520)		+= adp5520-keys.o
 obj-$(CONFIG_KEYBOARD_ADP5588)		+= adp5588-keys.o
 obj-$(CONFIG_KEYBOARD_ADP5589)		+= adp5589-keys.o
diff --git a/drivers/input/keyboard/rk29_newton_keys.c b/drivers/input/keyboard/rk29_newton_keys.c
deleted file mode 100644
index 7a662f1685a2..000000000000
--- a/drivers/input/keyboard/rk29_newton_keys.c
+++ /dev/null
@@ -1,411 +0,0 @@
-/*
- * Driver for keys on GPIO lines capable of generating interrupts.
- *
- * Copyright 2005 Phil Blundell
- *
- * This program is free software; you can redistribute it and/or modify
- * it under the terms of the GNU General Public License version 2 as
- * published by the Free Software Foundation.
- */
-
-#include <linux/module.h>
-
-#include <linux/init.h>
-#include <linux/fs.h>
-#include <linux/interrupt.h>
-#include <linux/irq.h>
-#include <linux/sched.h>
-#include <linux/pm.h>
-#include <linux/sysctl.h>
-#include <linux/proc_fs.h>
-#include <linux/delay.h>
-#include <linux/platform_device.h>
-#include <linux/input.h>
-#include <linux/adc.h>
-#include <linux/earlysuspend.h>
-#include <asm/gpio.h>
-#include <mach/key.h>
-#include <mach/board.h>
-
-
-#define EMPTY_ADVALUE					950
-#define DRIFT_ADVALUE					70
-#define INVALID_ADVALUE 				10
-
-
-#if 0
-#define key_dbg(bdata, format, arg...)		\
-	dev_printk(KERN_INFO , &bdata->input->dev , format , ## arg)
-#else
-#define key_dbg(bdata, format, arg...)	
-#endif
-
-struct rk29_button_data {
-	int state;
-	int long_press_count;
-	struct rk29_keys_button *button;
-	struct input_dev *input;
-	struct timer_list timer;
-};
-
-struct rk29_keys_drvdata {
-	int nbuttons;
-	int result;
-	struct input_dev *input;
-	struct adc_client *client;
-	struct timer_list timer;
-	struct rk29_button_data data[0];
-};
-
-static struct input_dev *input_dev;
-static struct early_suspend newton_key_power;
-static int suspend = 0;
-void rk29_send_power_key(int state)
-{
-	if (!input_dev)
-		return;
-	if(state)
-	{
-		input_report_key(input_dev, KEY_POWER, 1);
-		input_sync(input_dev);
-	}
-	else
-	{
-		input_report_key(input_dev, KEY_POWER, 0);
-		input_sync(input_dev);
-	}
-}
-
-void rk28_send_wakeup_key(void)
-{
-	if (!input_dev)
-		return;
-
-	input_report_key(input_dev, KEY_WAKEUP, 1);
-	input_sync(input_dev);
-	input_report_key(input_dev, KEY_WAKEUP, 0);
-	input_sync(input_dev);
-}
-
-static void keys_long_press_timer(unsigned long _data)
-{
-	int state;
-	struct rk29_button_data *bdata = (struct rk29_button_data *)_data;
-	struct rk29_keys_button *button = bdata->button;
-	struct input_dev *input = bdata->input;
-	unsigned int type = EV_KEY;
-	if(button->gpio != INVALID_GPIO )
-		state = !!((gpio_get_value(button->gpio) ? 1 : 0) ^ button->active_low);
-	else
-		state = !!button->adc_state;
-	if(state) {
-		if(bdata->long_press_count != 0) {
-			if(bdata->long_press_count % (LONG_PRESS_COUNT+ONE_SEC_COUNT) == 0){
-				key_dbg(bdata, "%skey[%s]: report ev[%d] state[0]\n", 
-					(button->gpio == INVALID_GPIO)?"ad":"io", button->desc, button->code_long_press);
-				input_event(input, type, button->code_long_press, 0);
-				input_sync(input);
-			}
-			else if(bdata->long_press_count%LONG_PRESS_COUNT == 0) {
-				key_dbg(bdata, "%skey[%s]: report ev[%d] state[1]\n", 
-					(button->gpio == INVALID_GPIO)?"ad":"io", button->desc, button->code_long_press);
-				input_event(input, type, button->code_long_press, 1);
-				input_sync(input);
-			}
-		}
-		bdata->long_press_count++;
-		mod_timer(&bdata->timer,
-				jiffies + msecs_to_jiffies(DEFAULT_DEBOUNCE_INTERVAL));
-	}
-	else {
-		if(bdata->long_press_count <= LONG_PRESS_COUNT) {
-			bdata->long_press_count = 0;
-			key_dbg(bdata, "%skey[%s]: report ev[%d] state[1], report ev[%d] state[0]\n", 
-					(button->gpio == INVALID_GPIO)?"ad":"io", button->desc, button->code, button->code);
-			input_event(input, type, button->code, 1);
-			input_sync(input);
-			input_event(input, type, button->code, 0);
-			input_sync(input);
-		}
-		else if(bdata->state != state) {
-			key_dbg(bdata, "%skey[%s]: report ev[%d] state[0]\n", 
-			(button->gpio == INVALID_GPIO)?"ad":"io", button->desc, button->code_long_press);
-			input_event(input, type, button->code_long_press, 0);
-			input_sync(input);
-		}
-	}
-	bdata->state = state;
-}
-static void keys_timer(unsigned long _data)
-{
-	int state;
-	struct rk29_button_data *bdata = (struct rk29_button_data *)_data;
-	struct rk29_keys_button *button = bdata->button;
-	struct input_dev *input = bdata->input;
-	unsigned int type = EV_KEY;
-	if((suspend)&&(!button->wakeup))
-		return;
-	if(button->gpio != INVALID_GPIO)
-		state = !!((gpio_get_value(button->gpio) ? 1 : 0) ^ button->active_low);
-	else
-		state = !!button->adc_state;
-	if(bdata->state != state) {
-		bdata->state = state;
-		key_dbg(bdata, "%skey[%s]: report ev[%d] state[%d]\n", 
-			(button->gpio == INVALID_GPIO)?"ad":"io", button->desc, button->code, bdata->state);
-		input_event(input, type, button->code, bdata->state);
-		input_sync(input);
-	}
-	if(state)
-		mod_timer(&bdata->timer,
-			jiffies + msecs_to_jiffies(DEFAULT_DEBOUNCE_INTERVAL));
-}
-
-static irqreturn_t keys_isr(int irq, void *dev_id)
-{
-	struct rk29_button_data *bdata = dev_id;
-	struct rk29_keys_button *button = bdata->button;
-	BUG_ON(irq != gpio_to_irq(button->gpio));
-	bdata->long_press_count = 0;
-	mod_timer(&bdata->timer,
-				jiffies + msecs_to_jiffies(DEFAULT_DEBOUNCE_INTERVAL));
-	return IRQ_HANDLED;
-}
-static void newton_key_early_suspend(struct early_suspend *h);
-static void newton_key_last_resume(struct early_suspend *h);
-
-
-static int __devinit keys_probe(struct platform_device *pdev)
-{
-	struct rk29_keys_platform_data *pdata = pdev->dev.platform_data;
-	struct rk29_keys_drvdata *ddata;
-	struct input_dev *input;
-	int i, error = 0;
-	int wakeup = 0;
-
-	if(!pdata) 
-		return -EINVAL;
-	
-	ddata = kzalloc(sizeof(struct rk29_keys_drvdata) +
-			pdata->nbuttons * sizeof(struct rk29_button_data),
-			GFP_KERNEL);
-	input = input_allocate_device();
-	if (!ddata || !input) {
-		error = -ENOMEM;
-		goto fail0;
-	}
-
-	platform_set_drvdata(pdev, ddata);
-
-	input->name = pdev->name;
-	input->phys = "gpio-keys/input0";
-	input->dev.parent = &pdev->dev;
-
-	input->id.bustype = BUS_HOST;
-	input->id.vendor = 0x0001;
-	input->id.product = 0x0001;
-	input->id.version = 0x0100;
-
-	/* Enable auto repeat feature of Linux input subsystem */
-	if (pdata->rep)
-		__set_bit(EV_REP, input->evbit);
-	ddata->nbuttons = pdata->nbuttons;
-	ddata->input = input;
-	for (i = 0; i < pdata->nbuttons; i++) {
-		struct rk29_keys_button *button = &pdata->buttons[i];
-		struct rk29_button_data *bdata = &ddata->data[i];
-		int irq;
-		unsigned int type = EV_KEY;
-
-		bdata->input = input;
-		bdata->button = button;
-		if(button->code_long_press)
-			setup_timer(&bdata->timer,
-			    	keys_long_press_timer, (unsigned long)bdata);
-		else if(button->code)
-			setup_timer(&bdata->timer,
-			    	keys_timer, (unsigned long)bdata);
-		if(button->gpio != INVALID_GPIO) {
-			error = gpio_request(button->gpio, button->desc ?: "keys");
-			if (error < 0) {
-				pr_err("gpio-keys: failed to request GPIO %d,"
-					" error %d\n", button->gpio, error);
-				goto fail2;
-			}
-
-			error = gpio_direction_input(button->gpio);
-			if (error < 0) {
-				pr_err("gpio-keys: failed to configure input"
-					" direction for GPIO %d, error %d\n",
-					button->gpio, error);
-				gpio_free(button->gpio);
-				goto fail2;
-			}
-
-			irq = gpio_to_irq(button->gpio);
-			if (irq < 0) {
-				error = irq;
-				pr_err("gpio-keys: Unable to get irq number"
-					" for GPIO %d, error %d\n",
-					button->gpio, error);
-				gpio_free(button->gpio);
-				goto fail2;
-			}
-
-			error = request_irq(irq, keys_isr,
-					    (button->active_low)?IRQF_TRIGGER_FALLING : IRQF_TRIGGER_RISING,
-					    button->desc ? button->desc : "keys",
-					    bdata);
-			if (error) {
-				pr_err("gpio-keys: Unable to claim irq %d; error %d\n",
-					irq, error);
-				gpio_free(button->gpio);
-				goto fail2;
-			}
-		}
-		if (button->wakeup)
-			wakeup = 1;
-
-		input_set_capability(input, type, button->code);
-	}
-
-	input_set_capability(input, EV_KEY, KEY_WAKEUP);
-
-	error = input_register_device(input);
-	if (error) {
-		pr_err("gpio-keys: Unable to register input device, "
-			"error: %d\n", error);
-		goto fail2;
-	}
-
-	device_init_wakeup(&pdev->dev, wakeup);
-
-	input_dev = input;
-	
-	newton_key_power.suspend = newton_key_early_suspend;
-	newton_key_power.resume = newton_key_last_resume;
-	newton_key_power.level = 0x2;
-	register_early_suspend(&newton_key_power);
-	return error;
-
- fail2:
-	while (--i >= 0) {
-		free_irq(gpio_to_irq(pdata->buttons[i].gpio), &ddata->data[i]);
-		del_timer_sync(&ddata->data[i].timer);
-		gpio_free(pdata->buttons[i].gpio);
-	}
- 	platform_set_drvdata(pdev, NULL);
- fail0:
-	input_free_device(input);
-	kfree(ddata);
-
-	return error;
-}
-
-static int __devexit keys_remove(struct platform_device *pdev)
-{
-	struct rk29_keys_platform_data *pdata = pdev->dev.platform_data;
-	struct rk29_keys_drvdata *ddata = platform_get_drvdata(pdev);
-	struct input_dev *input = ddata->input;
-	int i;
-
-	input_dev = NULL;
-	device_init_wakeup(&pdev->dev, 0);
-
-	for (i = 0; i < pdata->nbuttons; i++) {
-		int irq = gpio_to_irq(pdata->buttons[i].gpio);
-		free_irq(irq, &ddata->data[i]);
-		del_timer_sync(&ddata->data[i].timer);
-		gpio_free(pdata->buttons[i].gpio);
-	}
-	if(pdata->chn >= 0 && ddata->client);
-		adc_unregister(ddata->client);
-	input_unregister_device(input);
-
-	return 0;
-}
-
-
-#ifdef CONFIG_PM
-static int keys_suspend(struct device *dev)
-{
-	struct platform_device *pdev = to_platform_device(dev);
-	struct rk29_keys_platform_data *pdata = pdev->dev.platform_data;
-	int i;
-
-	if (device_may_wakeup(&pdev->dev)) {
-		for (i = 0; i < pdata->nbuttons; i++) {
-			struct rk29_keys_button *button = &pdata->buttons[i];
-			if (button->wakeup) {
-				int irq = gpio_to_irq(button->gpio);
-				enable_irq_wake(irq);
-			}
-		}
-	}
-
-	return 0;
-}
-
-static int keys_resume(struct device *dev)
-{
-	struct platform_device *pdev = to_platform_device(dev);
-	struct rk29_keys_platform_data *pdata = pdev->dev.platform_data;
-	int i;
-
-	if (device_may_wakeup(&pdev->dev)) {
-		for (i = 0; i < pdata->nbuttons; i++) {
-			struct rk29_keys_button *button = &pdata->buttons[i];
-			if (button->wakeup) {
-				int irq = gpio_to_irq(button->gpio);
-				disable_irq_wake(irq);
-			}
-		}
-	}
-
-	return 0;
-}
-
-static void newton_key_early_suspend(struct early_suspend *h)
-{
-	suspend = 1;
-}
-
-static void newton_key_last_resume(struct early_suspend *h)
-{
-	suspend = 0;
-}
-static const struct dev_pm_ops keys_pm_ops = {
-	.suspend	= keys_suspend,
-	.resume		= keys_resume,
-};
-#endif
-
-static struct platform_driver keys_device_driver = {
-	.probe		= keys_probe,
-	.remove		= __devexit_p(keys_remove),
-	.driver		= {
-		.name	= "rk29-keypad",
-		.owner	= THIS_MODULE,
-#ifdef CONFIG_PM
-		.pm	= &keys_pm_ops,
-#endif
-	}
-};
-
-static int __init keys_init(void)
-{
-	return platform_driver_register(&keys_device_driver);
-}
-
-static void __exit keys_exit(void)
-{
-	platform_driver_unregister(&keys_device_driver);
-}
-
-module_init(keys_init);
-module_exit(keys_exit);
-
-MODULE_LICENSE("GPL");
-MODULE_AUTHOR("Phil Blundell <pb@handhelds.org>");
-MODULE_DESCRIPTION("Keyboard driver for CPU GPIOs");
-MODULE_ALIAS("platform:gpio-keys");
diff --git a/drivers/leds/Kconfig b/drivers/leds/Kconfig
index 99809849fc10..1b305b4c5847 100755
--- a/drivers/leds/Kconfig
+++ b/drivers/leds/Kconfig
@@ -199,14 +199,6 @@ config LEDS_GPIO_OF
 	  of_platform devices.  For instance, LEDs which are listed in a "dts"
 	  file.
 
-config LEDS_NEWTON_PWM
-	bool "LED Support for newton pwm"
-	depends on LEDS_CLASS&&ARCH_RK29
-	default n
-	help
-	  Let the leds-gpio driver drive LEDs which have been defined as
-	  platform devices.  If you don't know what this means, say yes.
-	  
 config LEDS_LP3944
 	tristate "LED Support for N.S. LP3944 (Fun Light) I2C chip"
 	depends on LEDS_CLASS
diff --git a/drivers/leds/Makefile b/drivers/leds/Makefile
index cac0fc0708db..7d82ccccf4ed 100755
--- a/drivers/leds/Makefile
+++ b/drivers/leds/Makefile
@@ -35,7 +35,6 @@ obj-$(CONFIG_LEDS_WM831X_STATUS)	+= leds-wm831x-status.o
 obj-$(CONFIG_LEDS_WM8350)		+= leds-wm8350.o
 obj-$(CONFIG_LEDS_PWM)			+= leds-pwm.o
 obj-$(CONFIG_LEDS_ATT1272)		+= leds-att1272.o
-obj-$(CONFIG_LEDS_NEWTON_PWM)		+= leds-newton-pwm.o
 obj-$(CONFIG_LEDS_REGULATOR)		+= leds-regulator.o
 obj-$(CONFIG_LEDS_INTEL_SS4200)		+= leds-ss4200.o
 obj-$(CONFIG_LEDS_LT3593)		+= leds-lt3593.o
diff --git a/drivers/leds/leds-newton-pwm.c b/drivers/leds/leds-newton-pwm.c
deleted file mode 100755
index 00e3a7d53612..000000000000
--- a/drivers/leds/leds-newton-pwm.c
+++ /dev/null
@@ -1,304 +0,0 @@
-/*
- * linux/drivers/leds-newton-pwm.c
- *
- * simple PWM based LED control
- *
- * Copyright 2009 LMC @ rock-chips (lmc@rock-chips.com)
- *
- * based on leds-gpio.c by Raphael Assenat <raph@8d.com>
- *
- * This program is free software; you can redistribute it and/or modify
- * it under the terms of the GNU General Public License version 2 as
- * published by the Free Software Foundation.
- */
-
-#include <linux/module.h>
-#include <linux/kernel.h>
-#include <linux/init.h>
-#include <linux/platform_device.h>
-#include <linux/fb.h>
-#include <linux/leds.h>
-#include <linux/err.h>
-#include <mach/iomux.h>
-#include <linux/gpio.h>
-#include <linux/clk.h>
-#include <linux/regulator/rk29-pwm-regulator.h>
-#include <linux/ctype.h>
-#include <mach/board.h>
-
-#if 0
-#define DBG(x...)	printk(KERN_INFO x)
-#else
-#define DBG(x...)
-#endif
-
-#define pwm_write_reg(id, addr, val)        		__raw_writel(val, addr+(RK29_PWM_BASE+id*0x10)) 
-#define pwm_read_reg(id, addr)              		__raw_readl(addr+(RK29_PWM_BASE+id*0x10))
-#define LED_PWM_DIV	PWM_DIV1024 /*for led the pwm per div 1024 on the register*/
-#define LED_PER_DIV	 		1000	
-#define LED_PWM_FULL	255
-
-static struct clk *pwm_clk;
-
-struct led_newton_pwm_data {
-	struct led_classdev	cdev;
-	unsigned int	pwm_id;
-	unsigned 		pwm_gpio;
-	char*			pwm_iomux_name;
-	unsigned int 	pwm_iomux_pwm;
-	unsigned int 	pwm_iomux_gpio;
-	unsigned int	freq;/**/
-	unsigned int	period;/*1-100*/
-};
-
-static void led_newton_pwm_set(struct led_classdev *led_cdev,
-	enum led_brightness brightness)
-{
-	struct led_newton_pwm_data *led_dat =
-		container_of(led_cdev, struct led_newton_pwm_data, cdev);
-	unsigned int period =  led_dat->period;
-	
-	DBG("Enter %s, brightness = %d,period =%d,freq =%d\n",__FUNCTION__,brightness,period, led_dat->freq);
-
-	if (brightness == 0||period == 0) {
-		 // iomux pwm to gpio
-		 rk29_mux_api_set(led_dat->pwm_iomux_name, led_dat->pwm_iomux_gpio);
-		 // set gpio to low level	 
-		 gpio_set_value(led_dat->pwm_gpio,GPIO_LOW);
-	}else if(period == LED_PWM_FULL){
-		// iomux pwm to gpio
-		 rk29_mux_api_set(led_dat->pwm_iomux_name, led_dat->pwm_iomux_gpio);
-		 // set gpio to high level	 
-		 gpio_set_value(led_dat->pwm_gpio,GPIO_HIGH);
-	} else {
-		u32 divh,divTotal;
-		int id = led_dat->pwm_id;
-    	unsigned long clkrate;
-
-    	clkrate = clk_get_rate(pwm_clk);
-		  // iomux pwm
-		rk29_mux_api_set(led_dat->pwm_iomux_name, led_dat->pwm_iomux_pwm); 
-		pwm_write_reg(id,PWM_REG_CTRL, LED_PWM_DIV|PWM_RESET);
-		divh = clkrate >> (1+(LED_PWM_DIV>>9));/*the register pre div*/
-		divh =  divh* led_dat->freq/LED_PER_DIV;
-		pwm_write_reg(id,PWM_REG_LRC,(divh == 0)?1:divh);
-
-		divTotal =pwm_read_reg(id,PWM_REG_LRC);
-		divh = divTotal*period/LED_PWM_FULL;
-		pwm_write_reg(id, PWM_REG_HRC, divh?divh:1);
-		pwm_write_reg(id,PWM_REG_CNTR,0);
-		pwm_write_reg(id, PWM_REG_CTRL,pwm_read_reg(id,PWM_REG_CTRL)|LED_PWM_DIV|PWM_ENABLE|PWM_TimeEN);
-	}
-}
-
-static ssize_t led_newton_freq_show(struct device *dev, 
-		struct device_attribute *attr, char *buf)
-{
-	struct led_classdev *led_cdev = dev_get_drvdata(dev);
-	struct led_newton_pwm_data *led_dat =
-		container_of(led_cdev, struct led_newton_pwm_data, cdev);
-
-	return sprintf(buf, "%u\n", led_dat->freq);
-}
-
-static ssize_t led_newton_freq_store(struct device *dev,
-		struct device_attribute *attr, const char *buf, size_t size)
-{
-	struct led_classdev *led_cdev = dev_get_drvdata(dev);
-	struct led_newton_pwm_data *led_dat =
-		container_of(led_cdev, struct led_newton_pwm_data, cdev);
-	
-	ssize_t ret = -EINVAL;
-	char *after;
-	unsigned long state = simple_strtoul(buf, &after, 10);
-	size_t count = after - buf;
-
-	if (*after && isspace(*after))
-		count++;
-
-	if (count == size) {
-		ret = count;
-		if(state)
-			led_dat->freq = state;
-		led_newton_pwm_set( led_cdev, led_cdev->brightness);
-	}
-
-	return ret;
-}
-
-static ssize_t led_newton_period_show(struct device *dev, 
-		struct device_attribute *attr, char *buf)
-{
-	struct led_classdev *led_cdev = dev_get_drvdata(dev);
-	struct led_newton_pwm_data *led_dat =
-		container_of(led_cdev, struct led_newton_pwm_data, cdev);
-
-	return sprintf(buf, "%u\n", led_dat->period);
-}
-
-static ssize_t led_newton_period_store(struct device *dev,
-		struct device_attribute *attr, const char *buf, size_t size)
-{
-	struct led_classdev *led_cdev = dev_get_drvdata(dev);
-	struct led_newton_pwm_data *led_dat =
-		container_of(led_cdev, struct led_newton_pwm_data, cdev);
-	
-	ssize_t ret = -EINVAL;
-	char *after;
-	unsigned long state = simple_strtoul(buf, &after, 10);
-	size_t count = after - buf;
-
-	if (*after && isspace(*after))
-		count++;
-
-	if (count == size) {
-		ret = count;
-		led_dat->period = state;
-		led_newton_pwm_set( led_cdev, led_cdev->brightness);
-	}
-
-	return ret;
-}
-
-static DEVICE_ATTR(freq, 0644, led_newton_freq_show, led_newton_freq_store);
-static DEVICE_ATTR(period, 0644, led_newton_period_show, led_newton_period_store);
-
-
-static int led_newton_pwm_probe(struct platform_device *pdev)
-{
-	struct led_newton_pwm_platform_data *pdata = pdev->dev.platform_data;
-	struct led_newton_pwm *cur_led;
-	struct led_newton_pwm_data *leds_data, *led_dat;
-	int i, ret = 0;
-
-	if (!pdata)
-		return -EBUSY;
-
-	leds_data = kzalloc(sizeof(struct led_newton_pwm_data) * pdata->num_leds,
-				GFP_KERNEL);
-	if (!leds_data)
-		return -ENOMEM;
-
-	for (i = 0; i < pdata->num_leds; i++) {
-		cur_led = &pdata->leds[i];
-		led_dat = &leds_data[i];
-		
-		 ret = gpio_request(cur_led->pwm_gpio,"pwm");
-		
-		if (ret) {
-			dev_err(&pdev->dev,"failed to request pwm gpio\n");
-			goto err;
-		}
-
-
-		if (cur_led->pwm_id >2) {
-			dev_err(&pdev->dev, "unable to request PWM %d\n",
-					cur_led->pwm_id);
-			goto err;
-		}
-
-		led_dat->cdev.name = cur_led->name;
-		led_dat->pwm_id = cur_led->pwm_id;
-		led_dat->pwm_gpio = cur_led->pwm_gpio;
-		led_dat->pwm_iomux_name = cur_led->pwm_iomux_name;
-		led_dat->pwm_iomux_pwm = cur_led->pwm_iomux_pwm;
-		led_dat->pwm_iomux_gpio = cur_led->pwm_iomux_gpio;
-		if(cur_led->freq)
-			led_dat->freq = cur_led->freq;
-		else
-			led_dat->freq = 1;
-		led_dat->period = cur_led->period;
-		led_dat->cdev.brightness_set = led_newton_pwm_set;
-		led_dat->cdev.brightness = LED_FULL;
-		led_dat->cdev.flags	= 0;
-
-		ret = led_classdev_register(&pdev->dev, &led_dat->cdev);
-		if (ret < 0) {
-			goto err;
-		}
-
-		ret = device_create_file(led_dat->cdev.dev, &dev_attr_freq);
-		if (ret)
-			goto err;
-		
-		ret = device_create_file(led_dat->cdev.dev, &dev_attr_period);
-		if(ret)
-		{
-			device_remove_file(led_dat->cdev.dev, &dev_attr_freq);
-			goto err;
-		}
-	}
-	
-	pwm_clk = clk_get(NULL, "pwm");
-	clk_enable(pwm_clk);
-	platform_set_drvdata(pdev, leds_data);
-
-	return 0;
-
-err:
-	if (i > 0) {
-		for (i = i - 1; i >= 0; i--) {
-			led_classdev_unregister(&leds_data[i].cdev);
-			gpio_free(leds_data[i].pwm_gpio);
-		}
-	}
-
-	kfree(leds_data);
-
-	return ret;
-}
-
-static int __devexit led_newton_pwm_remove(struct platform_device *pdev)
-{
-	int i;
-	struct led_newton_pwm_platform_data *pdata = pdev->dev.platform_data;
-	struct led_newton_pwm_data *leds_data;
-
-	leds_data = platform_get_drvdata(pdev);
-
-	for (i = 0; i < pdata->num_leds; i++) {
-		led_classdev_unregister(&leds_data[i].cdev);
-		gpio_free(leds_data[i].pwm_gpio);
-	}
-
-	kfree(leds_data);
-
-	return 0;
-}
-int led_newton_pwm_suspend(struct platform_device *pdev, pm_message_t state)
-{
-	return 1;
-}
-
-int led_newton_pwm_resume(struct platform_device *pdev)
-{
-	return 1;
-}
-
-static struct platform_driver led_newton_pwm_driver = {
-	.probe		= led_newton_pwm_probe,
-	.remove		= __devexit_p(led_newton_pwm_remove),
-	.driver		= {
-		.name	= "leds_newton_pwm",
-		.owner	= THIS_MODULE,
-	},
-};
-
-static int __init led_newton_pwm_init(void)
-{
-	return platform_driver_register(&led_newton_pwm_driver);
-}
-
-static void __exit led_newton_pwm_exit(void)
-{
-	platform_driver_unregister(&led_newton_pwm_driver);
-}
-
-module_init(led_newton_pwm_init);
-module_exit(led_newton_pwm_exit);
-
-MODULE_AUTHOR("Luotao Fu <l.fu@pengutronix.de>");
-MODULE_DESCRIPTION("PWM LED driver for PXA");
-MODULE_LICENSE("GPL");
-MODULE_ALIAS("platform:leds-pwm");
-
diff --git a/drivers/misc/Kconfig b/drivers/misc/Kconfig
index ab288e3a6bba..0642367c33bd 100644
--- a/drivers/misc/Kconfig
+++ b/drivers/misc/Kconfig
@@ -532,10 +532,6 @@ config MTK23D
 config FM580X
 	bool "FM rda580x driver"
 
-
-config RK29_NEWTON
-	bool "RK29_NEWTON misc driver"
-
 config RK29_SC8800
 	bool "SC8800 misc driver"
 	default n
diff --git a/drivers/misc/Makefile b/drivers/misc/Makefile
index 282485528a73..1117e9237945 100644
--- a/drivers/misc/Makefile
+++ b/drivers/misc/Makefile
@@ -56,6 +56,5 @@ obj-$(CONFIG_RK29_SUPPORT_MODEM)	+= rk29_modem/
 obj-$(CONFIG_3G_MODULE)		+= 3g_module/
 obj-$(CONFIG_GPS_GNS7560)	+= gps/
 obj-y += inv_mpu/
-obj-$(CONFIG_RK29_NEWTON)	+= newton.o
 obj-$(CONFIG_TDSC8800) += tdsc8800.o
 obj-$(CONFIG_RK29_SC8800)	+=	sc8800.o
diff --git a/drivers/misc/newton.c b/drivers/misc/newton.c
deleted file mode 100755
index 2074231e1b6f..000000000000
--- a/drivers/misc/newton.c
+++ /dev/null
@@ -1,283 +0,0 @@
-#include <linux/input.h>
-#include <linux/module.h>
-#include <linux/init.h>
-#include <linux/interrupt.h>
-#include <linux/kernel.h>
-#include <linux/fcntl.h>
-#include <linux/delay.h>
-#include <linux/device.h>
-#include <linux/miscdevice.h>
-#include <asm/types.h>
-#include <mach/gpio.h>
-#include <mach/iomux.h>
-#include <linux/platform_device.h>
-#include <asm/uaccess.h>
-#include <linux/wait.h>
-#include <mach/board.h>
-
-
-
-#define NEWTON_DEV              "newton:"
-#if 1
-#define DBG(x...)	printk(KERN_INFO NEWTON_DEV x)
-#else
-#define DBG(x...)
-#endif
-
-
-#define NEWTON_GPIO_R            RK29_PIN4_PB0
-#define NEWTON_GPIO_G            RK29_PIN4_PB1
-#define NEWTON_GPIO_B            RK29_PIN4_PB2
-#define NEWTON_GPIO_AC_DETEC     RK29_PIN4_PA1
-#define NEWTON_GPIO_GPS_PWR      RK29_PIN6_PB2
-#define NEWTON_IDBDATA_SIZE      512
-#define NEWTON_GET_IDBDATA       0x600F
-#define NEWTON_GET_UID           0x6001
-#define NEWTON_AC_DETEC          0x6002
-#define NEWTON_GPS_CTRL          0x6003
-typedef struct{
-uint16_t SN_Size;		//0-1
-char SN[30];			//2-31
-char Reserved[419];		//32-450
-char IMEI_Size;			//451
-char IMEI_Data[15];		//452-466
-char UID_Size;			//467
-char UID_Data[30];		//468-497
-char BT_Size;			//498
-char BlueTooth[6];		//499-504
-char Mac_Size;			//505
-char Mac_Data[6];		//506-511
-}IdbSector3;
-int gps_power = 0;
-char GetSNSectorInfo(char * pbuf);
-
-int newton_print_buf(char *buf,int size)
-{
-	int i,j,mo=size%16,line = size/16;
-	char *pbuf = buf;
-
-	if(line>0)
-	{
-		for(i=0;i<line;i++)
-		{
-			for(j=0;j<16;j++)
-			{
-				printk("0x%02x ",*pbuf);
-				pbuf++;
-			}
-			printk("\n");
-		}
-	}
-	
-	for(j=0;j<mo;j++)
-	{
-		printk("0x%02x ",*pbuf);
-		pbuf++;
-	}
-	return 0;
-}
-
-
-int rk29_newton_get_ac_status()
-{
-	int ac_status = 0;	
-
-	gpio_direction_input(NEWTON_GPIO_AC_DETEC);
-	ac_status = gpio_get_value(NEWTON_GPIO_AC_DETEC);
-	DBG("%s:NEWTON_GPIO_AC_DETEC = %d\n",__FUNCTION__,ac_status);
-	return ac_status;
-}
-
-
-int rk29_newton_set_gps_power(int value)
-{
-    DBG("%s:value = %d\n",__FUNCTION__,value);
-    gpio_direction_output(NEWTON_GPIO_GPS_PWR, 0);
-	gpio_set_value(NEWTON_GPIO_GPS_PWR,value);
-	return 0;
-}
-
-
-int rk29_newton_open(struct inode *inode, struct file *filp)
-{
-    DBG("%s\n",__FUNCTION__);
-    return 0;
-}
-
-ssize_t rk29_newton_read(struct file *filp, char __user *ptr, size_t size, loff_t *pos)
-{
-    DBG("%s\n",__FUNCTION__);
-	return sizeof(int);
-}
-
-ssize_t rk29_newton_write(struct file *filp, char __user *ptr, size_t size, loff_t *pos)
-{
-    DBG("%s\n",__FUNCTION__);
-    return sizeof(int);
-}
-
-int rk29_newton_ioctl(struct inode *inode, struct file *filp, unsigned int cmd, unsigned long arg)
-{
-    void __user *argp = (void __user *)arg;
-    //DBG("%s\n",__FUNCTION__);
-	
-    switch(cmd)
-    {
-        case NEWTON_GET_UID:
-        {
-            IdbSector3 sn;
-
-            DBG("%s:NEWTON_GET_UID\n",__FUNCTION__);
-            memset(&sn,0,sizeof(IdbSector3));
-            GetSNSectorInfo((char*)&sn);
-	    //newton_print_buf(&sn.UID_Data, sizeof(sn.UID_Data));
-            if(copy_to_user(argp, &sn.UID_Data, sizeof(sn.UID_Data)))  return -EFAULT;
-        }
-        break;
-
-        case NEWTON_GET_IDBDATA:
-        {
-            char data[NEWTON_IDBDATA_SIZE];
-
-            memset(data, 0, NEWTON_IDBDATA_SIZE);
-            GetSNSectorInfo(data);
-            if(copy_to_user(argp, data, NEWTON_IDBDATA_SIZE))
-                return -EFAULT;
-        }
-        break;
-
-/*		
-	case NEWTON_AC_DETEC:
-		{
-			int ac_status = rk29_newton_get_ac_status();
-			if(copy_to_user(argp, &ac_status, 4))  return -EFAULT;
-		}
-		break;
-*/
-
-	case NEWTON_GPS_CTRL:
-		{
-			int value = 0;
-			if(copy_from_user(&value, (void*)arg, 4)){
-				DBG("%s:NEWTON_GPS_CTRL,copy_from_user error\n",__FUNCTION__);
-			    return -EFAULT;
-			}
-			if((value != 0) && (value != 1)){
-				DBG("%s:NEWTON_GPS_CTRL,parameter error,value = %d\n",__FUNCTION__,value);
-			    return -EFAULT;
-			}
-			gps_power = value;
-			rk29_newton_set_gps_power(value);
-		}
-		break;
-	default:
-		break;
-	}
-	return 0;
-}
-
-
-int rk29_newton_release(struct inode *inode, struct file *filp)
-{
-    DBG("%s\n",__FUNCTION__);
-    
-	return 0;
-}
-
-
-static struct file_operations rk29_newton_fops = {
-	.owner   = THIS_MODULE,
-	.open    = rk29_newton_open,
-	//.read    = rk29_newton_read,
-	//.write	 = rk29_newton_write,
-	.ioctl   = rk29_newton_ioctl,
-	//.release = rk29_newton_release,
-};
-
-
-static struct miscdevice rk29_newton_dev = 
-{
-    .minor = MISC_DYNAMIC_MINOR,
-    .name = "newton",
-    .fops = &rk29_newton_fops,
-};
-
-
-static int rk29_newton_probe(struct platform_device *pdev)
-{
-	int ret = 0;
-	struct rk29_newton_data *pdata = pdev->dev.platform_data;
-	if(!pdata)
-		return -1;
-	DBG("%s",__FUNCTION__);
-	ret = misc_register(&rk29_newton_dev);
-	if (ret < 0){
-		printk("rk29 newton register err!\n");
-		return ret;
-	}
-	if(gpio_request(NEWTON_GPIO_GPS_PWR,NULL) != 0){
-	  gpio_free(NEWTON_GPIO_GPS_PWR);
-	  printk("gpio_request NEWTON_GPIO_GPS_PWR error\n");
-	  return -EIO;
-	}
-	
-/*
-	if(gpio_request(NEWTON_GPIO_AC_DETEC,NULL) != 0){
-	  gpio_free(NEWTON_GPIO_AC_DETEC);
-	  printk("gpio_request NEWTON_GPIO_AC_DETEC error\n");
-	  return -EIO;
-	}
-*/
-	rk29_newton_set_gps_power(GPIO_LOW);
-	DBG("%s:rk29 newton initialized\n",__FUNCTION__);
-	return ret;
-}
-
-static int rk29_newton_remove(struct platform_device *pdev)
-{
-	misc_deregister(&rk29_newton_dev);
-	return 0;
-}
-
-
-int rk29_newton_suspend(struct platform_device *pdev,  pm_message_t state)
-{
-	if(gps_power==GPIO_HIGH)
-		rk29_newton_set_gps_power(GPIO_LOW);
-	return 0;	
-}
-
-int rk29_newton_resume(struct platform_device *pdev)
-{
-	if(gps_power==GPIO_HIGH)
-		rk29_newton_set_gps_power(gps_power);
-	return 0;
-}
-
-
-static struct platform_driver rk29_newton_driver = {
-	.probe	    = rk29_newton_probe,
-	.remove     = rk29_newton_remove,
-	.suspend  	= rk29_newton_suspend,
-	.resume		= rk29_newton_resume,
-	.driver	    = {
-		.name	= "rk29_newton",
-		.owner	= THIS_MODULE,
-	},
-};
-
-static int __init rk29_newton_init(void)
-{
-	return platform_driver_register(&rk29_newton_driver);
-}
-
-static void __exit rk29_newton_exit(void)
-{
-	platform_driver_unregister(&rk29_newton_driver);
-}
-
-module_init(rk29_newton_init);
-module_exit(rk29_newton_exit);
-MODULE_DESCRIPTION ("rk29 newton misc driver");
-MODULE_LICENSE("GPL");
-
diff --git a/drivers/video/backlight/Kconfig b/drivers/video/backlight/Kconfig
index 3b8d99cc9fb9..bf0ee0776aaa 100755
--- a/drivers/video/backlight/Kconfig
+++ b/drivers/video/backlight/Kconfig
@@ -304,12 +304,6 @@ config BACKLIGHT_RK29_BL
 	help
 	  rk29 backlight support.	  
 
-config BACKLIGHT_RK29_NEWTON_BL
-        bool "rk29 newton backlight driver"
-	depends on BACKLIGHT_CLASS_DEVICE && ARCH_RK29
-	help
-	  rk29 newton backlight support.	
-
 config FIH_TOUCHKEY_LED
         bool "fih touch key led driver"
 	depends on BACKLIGHT_CLASS_DEVICE && ARCH_RK29
diff --git a/drivers/video/backlight/Makefile b/drivers/video/backlight/Makefile
index d1a7f6e8ed38..f0595828eddd 100644
--- a/drivers/video/backlight/Makefile
+++ b/drivers/video/backlight/Makefile
@@ -34,7 +34,6 @@ obj-$(CONFIG_BACKLIGHT_WM831X)	+= wm831x_bl.o
 obj-$(CONFIG_BACKLIGHT_ADX)    += adx_bl.o
 obj-$(CONFIG_BACKLIGHT_ADP5520)	+= adp5520_bl.o
 obj-$(CONFIG_BACKLIGHT_RK29_BL)	+= rk29_backlight.o
-obj-$(CONFIG_BACKLIGHT_RK29_NEWTON_BL) += rk29_newton_backlight.o
 obj-$(CONFIG_BACKLIGHT_AW9364)	+= aw9364_bl.o
 obj-$(CONFIG_FIH_TOUCHKEY_LED)	+= fih_touchkey_led.o
 obj-$(CONFIG_BUTTON_LIGHT)	+= rk29_buttonlight.o
diff --git a/drivers/video/backlight/rk29_newton_backlight.c b/drivers/video/backlight/rk29_newton_backlight.c
deleted file mode 100644
index 39dd024abfa8..000000000000
--- a/drivers/video/backlight/rk29_newton_backlight.c
+++ /dev/null
@@ -1,276 +0,0 @@
-/* drivers/video/backlight/rk29_backlight.c
- *
- * Copyright (C) 2009-2011 Rockchip Corporation.
- *
- * This software is licensed under the terms of the GNU General Public
- * License version 2, as published by the Free Software Foundation, and
- * may be copied, distributed, and modified under those terms.
- *
- * This program is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- * GNU General Public License for more details.
- *
- */
-
-#include <linux/init.h>
-#include <linux/module.h>
-#include <linux/kernel.h>
-#include <linux/err.h>
-#include <linux/delay.h>
-#include <linux/platform_device.h>
-#include <linux/backlight.h>
-#include <linux/fb.h>
-#include <linux/clk.h>
-
-#include <linux/earlysuspend.h>
-#include <asm/io.h>
-#include <mach/rk29_iomap.h>
-#include <mach/board.h>
-
-#include "rk2818_backlight.h"
-
-/*
- * Debug
- */
-#if 0
-#define DBG(x...)	printk(KERN_INFO x)
-#else
-#define DBG(x...)
-#endif
-
-
-#define write_pwm_reg(id, addr, val)        __raw_writel(val, addr+(RK29_PWM_BASE+id*0x10))
-#define read_pwm_reg(id, addr)              __raw_readl(addr+(RK29_PWM_BASE+id*0x10))    
-
-static struct clk *pwm_clk;
-static struct backlight_device *rk29_bl;
-static int suspend_flag = 0;
-
-static int rk29_bl_update_status(struct backlight_device *bl)
-{
-	u32 divh,div_total;
-	struct rk29_bl_info *rk29_bl_info = bl_get_data(bl);
-	u32 id = rk29_bl_info->pwm_id;
-	u32 ref = rk29_bl_info->bl_ref;
-
-	if (suspend_flag)
-		return 0;
-
-	if (bl->props.brightness < rk29_bl_info->min_brightness)	/*avoid can't view screen when close backlight*/
-		bl->props.brightness = rk29_bl_info->min_brightness;
-
-	div_total = read_pwm_reg(id, PWM_REG_LRC);
-	if (ref) {
-		divh = div_total*(bl->props.brightness)/BL_STEP;
-	} else {
-		divh = div_total*(BL_STEP-bl->props.brightness)/BL_STEP;
-	}
-	write_pwm_reg(id, PWM_REG_HRC, divh);
-
-	DBG(">>>%s-->%d brightness = %d, div_total = %d, divh = %d\n",__FUNCTION__,__LINE__,bl->props.brightness, div_total, divh);
-	return 0;
-}
-
-static int rk29_bl_get_brightness(struct backlight_device *bl)
-{
-	u32 divh,div_total;
-	struct rk29_bl_info *rk29_bl_info = bl_get_data(bl);
-	u32 id = rk29_bl_info->pwm_id;
-	u32 ref = rk29_bl_info->bl_ref;
-
-	div_total = read_pwm_reg(id, PWM_REG_LRC);
-	divh = read_pwm_reg(id, PWM_REG_HRC);
-
-	if (!div_total)
-		return 0;
-
-	if (ref) {
-		return BL_STEP*divh/div_total;
-	} else {
-		return BL_STEP-(BL_STEP*divh/div_total);
-	}
-}
-
-static struct backlight_ops rk29_bl_ops = {
-	.update_status	= rk29_bl_update_status,
-	.get_brightness	= rk29_bl_get_brightness,
-};
-
-static void rk29_backlight_work_func(struct work_struct *work)
-{
-	suspend_flag = 0;
-	rk29_bl_update_status(rk29_bl);
-}
-static DECLARE_DELAYED_WORK(rk29_backlight_work, rk29_backlight_work_func);
-
-#ifdef CONFIG_HAS_EARLYSUSPEND
-static void rk29_bl_suspend(struct early_suspend *h)
-{
-	struct rk29_bl_info *rk29_bl_info = bl_get_data(rk29_bl);
-	int brightness = rk29_bl->props.brightness;
-
-	cancel_delayed_work_sync(&rk29_backlight_work);
-
-	if (rk29_bl->props.brightness) {
-		rk29_bl->props.brightness = 0;
-		rk29_bl_update_status(rk29_bl);
-		rk29_bl->props.brightness = brightness;
-	}
-
-	if (!suspend_flag) {
-		clk_disable(pwm_clk);
-		if (rk29_bl_info->pwm_suspend)
-			rk29_bl_info->pwm_suspend();
-	}
-
-	suspend_flag = 1;
-}
-
-static void rk29_bl_resume(struct early_suspend *h)
-{
-	struct rk29_bl_info *rk29_bl_info = bl_get_data(rk29_bl);
-	DBG("%s : %s\n", __FILE__, __FUNCTION__);
-
-	if (rk29_bl_info->pwm_resume)
-		rk29_bl_info->pwm_resume();
-
-	clk_enable(pwm_clk);
-
-	schedule_delayed_work(&rk29_backlight_work, msecs_to_jiffies(rk29_bl_info->delay_ms));
-}
-
-static struct early_suspend bl_early_suspend = {
-	.suspend = rk29_bl_suspend,
-	.resume = rk29_bl_resume,
-	.level = EARLY_SUSPEND_LEVEL_BLANK_SCREEN - 1,
-};
-#endif
-
-static int rk29_backlight_probe(struct platform_device *pdev)
-{		
-	int ret = 0;
-	struct rk29_bl_info *rk29_bl_info = pdev->dev.platform_data;
-	u32 id  =  rk29_bl_info->pwm_id;
-	u32 divh, div_total;
-	unsigned long pwm_clk_rate;
-
-	if (rk29_bl) {
-		DBG(KERN_CRIT "%s: backlight device register has existed \n",
-				__func__);
-		return -EEXIST;		
-	}
-
-	if (!rk29_bl_info->delay_ms)
-		rk29_bl_info->delay_ms = 100;
-
-	if (rk29_bl_info->min_brightness < 0 || rk29_bl_info->min_brightness > BL_STEP)
-		rk29_bl_info->min_brightness = 52;
-
-	if (rk29_bl_info && rk29_bl_info->io_init) {
-		rk29_bl_info->io_init();
-	}
-
-	rk29_bl = backlight_device_register("rk28_bl", &pdev->dev, rk29_bl_info, &rk29_bl_ops);
-	if (!rk29_bl) {
-		DBG(KERN_CRIT "%s: backlight device register error\n",
-				__func__);
-		return -ENODEV;		
-	}
-
-	pwm_clk = clk_get(NULL, "pwm");
-	if (IS_ERR(pwm_clk)) {
-		printk(KERN_ERR "failed to get pwm clock source\n");
-		return -ENODEV;	
-	}
-	pwm_clk_rate = clk_get_rate(pwm_clk);
-	div_total = pwm_clk_rate / PWM_APB_PRE_DIV;
-
-	div_total >>= (1 + (PWM_DIV >> 9));
-	div_total = (div_total) ? div_total : 1;
-
-	if(rk29_bl_info->bl_ref) {
-		divh = 0;
-	} else {
-		divh = div_total;
-	}
-
-	clk_enable(pwm_clk);
-	write_pwm_reg(id, PWM_REG_CTRL, PWM_DIV|PWM_RESET);
-	write_pwm_reg(id, PWM_REG_LRC, div_total);
-	write_pwm_reg(id, PWM_REG_HRC, divh);
-	write_pwm_reg(id, PWM_REG_CNTR, 0x0);
-	write_pwm_reg(id, PWM_REG_CTRL, PWM_DIV|PWM_ENABLE|PWM_TIME_EN);
-
-	rk29_bl->props.power = FB_BLANK_UNBLANK;
-	rk29_bl->props.fb_blank = FB_BLANK_UNBLANK;
-	rk29_bl->props.max_brightness = BL_STEP;
-	rk29_bl->props.brightness = BL_STEP / 2;
-	
-	if (rk29_bl_info && rk29_bl_info->pwm_resume) {
-		rk29_bl_info->pwm_resume();
-	}
-	
-	schedule_delayed_work(&rk29_backlight_work, msecs_to_jiffies(rk29_bl_info->delay_ms));
-
-	register_early_suspend(&bl_early_suspend);
-
-	printk("RK29 Backlight Driver Initialized.\n");
-	return ret;
-}
-
-static int rk29_backlight_remove(struct platform_device *pdev)
-{		
-	struct rk29_bl_info *rk29_bl_info = pdev->dev.platform_data;
-
-	if (rk29_bl) {
-		backlight_device_unregister(rk29_bl);
-		unregister_early_suspend(&bl_early_suspend);
-		clk_disable(pwm_clk);
-		clk_put(pwm_clk);
-		if (rk29_bl_info && rk29_bl_info->io_deinit) {
-			rk29_bl_info->io_deinit();
-		}
-		return 0;
-	} else {
-		DBG(KERN_CRIT "%s: no backlight device has registered\n",
-				__func__);
-		return -ENODEV;
-	}
-}
-
-static void rk29_backlight_shutdown(struct platform_device *pdev)
-{
-	struct rk29_bl_info *rk29_bl_info = pdev->dev.platform_data;
-
-	rk29_bl->props.brightness >>= 1;
-	rk29_bl_update_status(rk29_bl);
-	mdelay(100);
-
-	rk29_bl->props.brightness >>= 1;
-	rk29_bl_update_status(rk29_bl);
-	mdelay(100);
-
-	rk29_bl->props.brightness = 0;
-	rk29_bl_update_status(rk29_bl);
-
-	if (rk29_bl_info && rk29_bl_info->io_deinit)
-		rk29_bl_info->io_deinit();
-}
-
-static struct platform_driver rk29_backlight_driver = {
-	.probe	= rk29_backlight_probe,
-	.remove = rk29_backlight_remove,
-	.driver	= {
-		.name	= "rk29_backlight",
-		.owner	= THIS_MODULE,
-	},
-	.shutdown	= rk29_backlight_shutdown,
-};
-
-static int __init rk29_backlight_init(void)
-{
-	platform_driver_register(&rk29_backlight_driver);
-	return 0;
-}
-fs_initcall_sync(rk29_backlight_init);
-- 
2.35.3

