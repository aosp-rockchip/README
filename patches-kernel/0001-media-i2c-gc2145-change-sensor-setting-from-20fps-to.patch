From d961e44af2cf137d53c9008c26c7417375e4ba17 Mon Sep 17 00:00:00 2001
From: Hu Kejun <william.hu@rock-chips.com>
Date: Thu, 23 Aug 2018 16:10:58 +0800
Subject: [PATCH] media: i2c: gc2145: change sensor setting from 20fps to 30fps
 in svga size

Change-Id: I3af9061d2a4d90c0ec3bc9ec193af51edb2aa2cf
Signed-off-by: Hu Kejun <william.hu@rock-chips.com>
---
 drivers/media/i2c/gc2145.c | 57 ++++++++++++++++++++++++++------------
 1 file changed, 40 insertions(+), 17 deletions(-)

diff --git a/drivers/media/i2c/gc2145.c b/drivers/media/i2c/gc2145.c
index 6d8f2dd3b90d..fedc5a5c1b09 100644
--- a/drivers/media/i2c/gc2145.c
+++ b/drivers/media/i2c/gc2145.c
@@ -889,11 +889,40 @@ static const struct sensor_register gc2145_full_regs[] = {
 /* Preview resolution setting*/
 static const struct sensor_register gc2145_svga_regs[] = {
 	{0xfe, 0x00},
-	{0xb6, 0x01},
-	{0xfd, 0x01},
+	{0x05, 0x02},
+	{0x06, 0x20},
+	{0x07, 0x00},
+	{0x08, 0xb8},
+	{0xfe, 0x01},
+	{0x25, 0x01},
+	{0x26, 0xac},
+	{0x27, 0x05},
+	{0x28, 0x04},
+	{0x29, 0x05},
+	{0x2a, 0x04},
+	{0x2b, 0x05},
+	{0x2c, 0x04},
+	{0x2d, 0x05},
+	{0x2e, 0x04},
+	{0x3c, 0x00},
+	{0xfe, 0x00},
+	{0xfe, 0x00},
 	{0xfa, 0x00},
-	/*crop window*/
+	{0x18, 0x42},
+	{0xfd, 0x03},
+	{0xb6, 0x01},
+	/* crop window */
 	{0xfe, 0x00},
+	{0x99, 0x11},
+	{0x9a, 0x06},
+	{0x9b, 0x00},
+	{0x9c, 0x00},
+	{0x9d, 0x00},
+	{0x9e, 0x00},
+	{0x9f, 0x00},
+	{0xa0, 0x00},
+	{0xa1, 0x00},
+	{0xa2, 0x00},
 	{0x90, 0x01},
 	{0x91, 0x00},
 	{0x92, 0x00},
@@ -903,32 +932,26 @@ static const struct sensor_register gc2145_svga_regs[] = {
 	{0x96, 0x58},
 	{0x97, 0x03},
 	{0x98, 0x20},
-	{0x99, 0x11},
-	{0x9a, 0x06},
-	/*AWB*/
+	/* AWB */
 	{0xfe, 0x00},
-	{0xec, 0x02},
+	{0xec, 0x01},
 	{0xed, 0x02},
 	{0xee, 0x30},
 	{0xef, 0x48},
-	{0xfe, 0x02},
-	{0x9d, 0x08},
 	{0xfe, 0x01},
 	{0x74, 0x00},
-	/*AEC*/
+	/* AEC */
 	{0xfe, 0x01},
 	{0x01, 0x04},
 	{0x02, 0x60},
 	{0x03, 0x02},
 	{0x04, 0x48},
 	{0x05, 0x18},
-	{0x06, 0x50},
-	{0x07, 0x10},
-	{0x08, 0x38},
-	{0x0a, 0x80},
-	{0x21, 0x04},
-	{0xfe, 0x00},
-	{0x20, 0x03},
+	{0x06, 0x4c},
+	{0x07, 0x14},
+	{0x08, 0x36},
+	{0x0a, 0xc0},
+	{0x21, 0x14},
 	{0xfe, 0x00},
 	{REG_NULL, 0x00},
 };
-- 
2.35.3

