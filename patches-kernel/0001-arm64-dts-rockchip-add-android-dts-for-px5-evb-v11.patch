From ea5b7fb14145423fe473414c6b2c55d64afa52ac Mon Sep 17 00:00:00 2001
From: Jason Song <sxj@rock-chips.com>
Date: Thu, 14 Sep 2017 11:53:33 +0800
Subject: [PATCH] arm64: dts: rockchip: add android dts for px5 evb v11.

Change-Id: I76ade321e2b17c9c46629bb4e83a55f3f650d194
Signed-off-by: Jason Song <sxj@rock-chips.com>
---
 arch/arm64/boot/dts/rockchip/Makefile         |    1 +
 .../dts/rockchip/rk3368-px5-evb-android.dts   | 1055 +++++++++++++++++
 2 files changed, 1056 insertions(+)
 create mode 100644 arch/arm64/boot/dts/rockchip/rk3368-px5-evb-android.dts

diff --git a/arch/arm64/boot/dts/rockchip/Makefile b/arch/arm64/boot/dts/rockchip/Makefile
index f8aa85ea6c39..ceb44188c44e 100644
--- a/arch/arm64/boot/dts/rockchip/Makefile
+++ b/arch/arm64/boot/dts/rockchip/Makefile
@@ -5,6 +5,7 @@ dtb-$(CONFIG_ARCH_ROCKCHIP) += rk3368-evb-act8846.dtb
 dtb-$(CONFIG_ARCH_ROCKCHIP) += rk3368-geekbox.dtb
 dtb-$(CONFIG_ARCH_ROCKCHIP) += rk3368-p9.dtb
 dtb-$(CONFIG_ARCH_ROCKCHIP) += rk3368-px5-evb.dtb
+dtb-$(CONFIG_ARCH_ROCKCHIP) += rk3368-px5-evb-android.dtb
 dtb-$(CONFIG_ARCH_ROCKCHIP) += rk3368-r88.dtb
 dtb-$(CONFIG_ARCH_ROCKCHIP) += rk3368-sheep.dtb
 dtb-$(CONFIG_ARCH_ROCKCHIP) += rk3368-sheep-lvds.dtb
diff --git a/arch/arm64/boot/dts/rockchip/rk3368-px5-evb-android.dts b/arch/arm64/boot/dts/rockchip/rk3368-px5-evb-android.dts
new file mode 100644
index 000000000000..4d51b075d443
--- /dev/null
+++ b/arch/arm64/boot/dts/rockchip/rk3368-px5-evb-android.dts
@@ -0,0 +1,1055 @@
+/*
+ * Copyright (c) 2017 Fuzhou Rockchip Electronics Co., Ltd
+ *
+ * This file is dual-licensed: you can use it either under the terms
+ * of the GPL or the X11 license, at your option. Note that this dual
+ * licensing only applies to this file, and not this project as a
+ * whole.
+ *
+ *  a) This file is free software; you can redistribute it and/or
+ *     modify it under the terms of the GNU General Public License as
+ *     published by the Free Software Foundation; either version 2 of the
+ *     License, or (at your option) any later version.
+ *
+ *     This file is distributed in the hope that it will be useful,
+ *     but WITHOUT ANY WARRANTY; without even the implied warranty of
+ *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ *     GNU General Public License for more details.
+ *
+ * Or, alternatively,
+ *
+ *  b) Permission is hereby granted, free of charge, to any person
+ *     obtaining a copy of this software and associated documentation
+ *     files (the "Software"), to deal in the Software without
+ *     restriction, including without limitation the rights to use,
+ *     copy, modify, merge, publish, distribute, sublicense, and/or
+ *     sell copies of the Software, and to permit persons to whom the
+ *     Software is furnished to do so, subject to the following
+ *     conditions:
+ *
+ *     The above copyright notice and this permission notice shall be
+ *     included in all copies or substantial portions of the Software.
+ *
+ *     THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
+ *     EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
+ *     OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
+ *     NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
+ *     HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
+ *     WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
+ *     FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
+ *     OTHER DEALINGS IN THE SOFTWARE.
+ */
+
+/dts-v1/;
+#include "rk3368.dtsi"
+#include "rk3368-android.dtsi"
+#include <dt-bindings/pwm/pwm.h>
+
+/ {
+	model = "Rockchip PX5 EVB V11";
+	compatible = "rockchip,px5-evb", "rockchip,px5", "rockchip,rk3368";
+
+	chosen {
+		bootargs = "earlycon=uart8250,mmio32,0xff1c0000";
+	};
+
+	fiq_debugger: fiq-debugger {
+		compatible = "rockchip,fiq-debugger";
+			rockchip,serial-id = <4>;
+			rockchip,wake-irq = <0>;
+			/* If enable uart uses irq instead of fiq */
+			rockchip,irq-mode-enable = <0>;
+			/* Only 115200 and 1500000 */
+			rockchip,baudrate = <115200>;
+			pinctrl-names = "default";
+			pinctrl-0 = <&uart4_xfer>;
+			interrupts = <GIC_SPI 154 IRQ_TYPE_LEVEL_HIGH 0>;
+	};
+
+	xin32k: xin32k {
+		status = "okay";
+		compatible = "pwm-clock";
+		#clock-cells = <0>;
+		clock-frequency = <32768>;
+		clock-output-names = "xin32k";
+		pwms = <&pwm1 0 30518 0>; /* 1 / 30518 ns = 32.7675 KHz */
+	};
+
+	sdio_pwrseq: sdio-pwrseq {
+		compatible = "mmc-pwrseq-simple";
+		clocks = <&rk808 1>;
+		clock-names = "ext_clock";
+		pinctrl-names = "default";
+		pinctrl-0 = <&wifi_enable_h>;
+
+		/*
+		 * On the module itself this is one of these (depending
+		 * on the actual card populated):
+		 * - SDIO_RESET_L_WL_REG_ON
+		 * - PDN (power down when low)
+		 */
+		reset-gpios = <&gpio3 5 GPIO_ACTIVE_LOW>; /* GPIO3_A5 */
+	};
+
+	es8396-sound {
+		compatible = "simple-audio-card";
+		simple-audio-card,format = "i2s";
+		simple-audio-card,name = "rockchip,es8396-codec";
+		simple-audio-card,mclk-fs = <256>;
+		simple-audio-card,widgets =
+			"Microphone", "Microphone Jack",
+			"Line", "Microphone Headset",
+			"Headphone", "Headphone Jack";
+		simple-audio-card,routing =
+			"MIC", "Microphone Jack",
+			"DMIC", "Microphone Headset",
+			"Headphone Jack", "LOUTP",
+			"Headphone Jack", "ROUTN";
+		simple-audio-card,cpu {
+			sound-dai = <&i2s_8ch>;
+		};
+		simple-audio-card,codec {
+			sound-dai = <&es8396>;
+		};
+	};
+
+	backlight: backlight {
+		compatible = "pwm-backlight";
+		pwms = <&pwm0 0 25000 0>;
+		brightness-levels = <
+			  0   1   2   3   4   5   6   7
+			  8   9  10  11  12  13  14  15
+			 16  17  18  19  20  21  22  23
+			 24  25  26  27  28  29  30  31
+			 32  33  34  35  36  37  38  39
+			 40  41  42  43  44  45  46  47
+			 48  49  50  51  52  53  54  55
+			 56  57  58  59  60  61  62  63
+			 64  65  66  67  68  69  70  71
+			 72  73  74  75  76  77  78  79
+			 80  81  82  83  84  85  86  87
+			 88  89  90  91  92  93  94  95
+			 96  97  98  99 100 101 102 103
+			104 105 106 107 108 109 110 111
+			112 113 114 115 116 117 118 119
+			120 121 122 123 124 125 126 127
+			128 129 130 131 132 133 134 135
+			136 137 138 139 140 141 142 143
+			144 145 146 147 148 149 150 151
+			152 153 154 155 156 157 158 159
+			160 161 162 163 164 165 166 167
+			168 169 170 171 172 173 174 175
+			176 177 178 179 180 181 182 183
+			184 185 186 187 188 189 190 191
+			192 193 194 195 196 197 198 199
+			200 201 202 203 204 205 206 207
+			208 209 210 211 212 213 214 215
+			216 217 218 219 220 221 222 223
+			224 225 226 227 228 229 230 231
+			232 233 234 235 236 237 238 239
+			240 241 242 243 244 245 246 247
+			248 249 250 251 252 253 254 255>;
+		default-brightness-level = <200>;
+		enable-gpios = <&gpio0 14 GPIO_ACTIVE_HIGH>;
+	};
+
+	rk_key: rockchip-key {
+		compatible = "rockchip,key";
+		status = "okay";
+
+		io-channels = <&saradc 1>;
+
+		vol-up-key {
+			linux,code = <115>;
+			label = "volume up";
+			rockchip,adc_value = <1>;
+		};
+
+		vol-down-key {
+			linux,code = <114>;
+			label = "volume down";
+			rockchip,adc_value = <170>;
+		};
+
+		power-key {
+			gpios = <&gpio0 2 GPIO_ACTIVE_LOW>;
+			linux,code = <116>;
+			label = "power";
+			gpio-key,wakeup;
+		};
+
+		menu-key {
+			linux,code = <59>;
+			label = "menu";
+			rockchip,adc_value = <355>;
+		};
+
+		home-key {
+			linux,code = <102>;
+			label = "home";
+			rockchip,adc_value = <746>;
+		};
+
+		back-key {
+			linux,code = <158>;
+			label = "back";
+			rockchip,adc_value = <560>;
+		};
+
+		camera-key {
+			linux,code = <212>;
+			label = "camera";
+			rockchip,adc_value = <450>;
+		};
+	};
+
+	wireless-wlan {
+		compatible = "wlan-platdata";
+
+		wifi_chip_type = "rtl8723ds";
+		sdio_vref = <1800>; /*1800mv or 3300mv*/
+		WIFI,host_wake_irq = <&gpio3 6 GPIO_ACTIVE_HIGH>;
+		WIFI,vbat_gpio  = <&gpio3 4 GPIO_ACTIVE_HIGH>;
+		status = "okay";
+	};
+
+	vcc_sys: vcc-sys-regulator {
+		compatible = "regulator-fixed";
+		regulator-name = "vcc_sys";
+		regulator-always-on;
+		regulator-boot-on;
+		regulator-min-microvolt = <3800000>;
+		regulator-max-microvolt = <3800000>;
+	};
+
+	vcc_host: vcc-host {
+		compatible = "regulator-fixed";
+		enable-active-low;
+		gpio = <&gpio0 3 GPIO_ACTIVE_LOW>;
+		pinctrl-names = "default";
+		pinctrl-0 = <&host_vbus_drv>;
+		regulator-name = "vcc_host";
+		regulator-always-on;
+	};
+
+	vcc18_lcd_n: vcc18-lcd-n {
+		compatible = "regulator-fixed";
+		regulator-name = "vcc18_lcd_n";
+		regulator-always-on;
+		regulator-boot-on;
+		regulator-min-microvolt = <1800000>;
+		regulator-max-microvolt = <1800000>;
+		gpio = <&gpio2 27 GPIO_ACTIVE_HIGH>;
+		enable-active-high;
+		startup-delay-us = <70000>;
+		vin-supply = <&vcc_18>;
+
+		regulator-state-mem {
+			regulator-off-in-suspend;
+		};
+	};
+
+	panel {
+		compatible = "samsung,lsl070nl01", "simple-panel";
+		power-supply = <&vcc33_lcd>;
+		backlight = <&backlight>;
+
+		rockchip,data-mapping = "vesa";
+		rockchip,data-width = <24>;
+		rockchip,output = "lvds";
+		status = "okay";
+
+		display-timings {
+			timing {
+				clock-frequency = <48000000>;
+				hactive = <1024>;
+				vactive = <600>;
+				hback-porch = <90>;
+				hfront-porch = <90>;
+				vback-porch = <10>;
+				vfront-porch = <10>;
+				hsync-len = <90>;
+				vsync-len = <10>;
+				hsync-active = <0>;
+				vsync-active = <0>;
+				de-active = <0>;
+				pixelclk-active = <0>;
+			};
+		};
+
+		port {
+			panel_in_lvds: endpoint {
+				remote-endpoint = <&lvds_out_panel>;
+			};
+		};
+	};
+};
+
+&cpu_l0 {
+	cpu-supply = <&vdd_cpu>;
+};
+
+&cpu_l1 {
+	cpu-supply = <&vdd_cpu>;
+};
+
+&cpu_l2 {
+	cpu-supply = <&vdd_cpu>;
+};
+
+&cpu_l3 {
+	cpu-supply = <&vdd_cpu>;
+};
+
+&cpu_b0 {
+	cpu-supply = <&vdd_cpu>;
+};
+
+&cpu_b1 {
+	cpu-supply = <&vdd_cpu>;
+};
+
+&cpu_b2 {
+	cpu-supply = <&vdd_cpu>;
+};
+
+&cpu_b3 {
+	cpu-supply = <&vdd_cpu>;
+};
+
+&gpu {
+	logic-supply = <&vdd_log>;
+};
+
+&rockchip_suspend {
+	status = "okay";
+	rockchip,sleep-mode-config = <
+		(0
+		| RKPM_SLP_ARMOFF
+		| RKPM_SLP_PMU_PLLS_PWRDN
+		| RKPM_SLP_PMU_PMUALIVE_32K
+		| RKPM_SLP_SFT_PLLS_DEEP
+		| RKPM_SLP_PMU_DIS_OSC
+		| RKPM_SLP_SFT_PD_NBSCUS
+		)
+	>;
+	rockchip,wakeup-config = <
+		(0
+		| RKPM_GPIO_WKUP_EN
+		| RKPM_USB_WKUP_EN
+		| RKPM_CLUSTER_L_WKUP_EN
+		)
+	>;
+};
+
+&emmc {
+	status = "okay";
+	bus-width = <8>;
+	clock-frequency = <150000000>;
+	keep-power-in-suspend;
+	cap-mmc-highspeed;
+	mmc-hs200-1_8v;
+	supports-emmc;
+	disable-wp;
+	non-removable;
+	num-slots = <1>;
+	pinctrl-names = "default";
+	pinctrl-0 = <&emmc_clk &emmc_cmd &emmc_bus8>;
+	vmmc-supply = <&vcc_io>;
+	vqmmc-supply = <&vcc18_flash>;
+};
+
+&sdmmc {
+	status = "okay";
+	clock-frequency = <37500000>;
+	clock-freq-min-max = <400000 37500000>;
+	supports-sd;
+	cap-mmc-highspeed;
+	cap-sd-highspeed;
+	card-detect-delay = <200>;
+	disable-wp;
+	num-slots = <1>;
+	pinctrl-names = "default";
+	pinctrl-0 = <&sdmmc_clk &sdmmc_cmd &sdmmc_cd &sdmmc_bus4>;
+	vmmc-supply = <&vcc_sd>;
+	vqmmc-supply = <&vccio_sd>;
+};
+
+&sdio0 {
+	status = "okay";
+	clock-frequency = <50000000>;
+	clock-freq-min-max = <200000 50000000>;
+	supports-sdio;
+	bus-width = <4>;
+	disable-wp;
+	cap-sd-highspeed;
+	cap-sdio-irq;
+	keep-power-in-suspend;
+	mmc-pwrseq = <&sdio_pwrseq>;
+	non-removable;
+	num-slots = <1>;
+	pinctrl-names = "default";
+	pinctrl-0 = <&sdio0_bus4 &sdio0_cmd &sdio0_clk>;
+	sd-uhs-sdr104;
+};
+
+&i2c0 {
+	status = "okay";
+
+	rk808: pmic@1b {
+		compatible = "rockchip,rk808";
+		reg = <0x1b>;
+		interrupt-parent = <&gpio0>;
+		interrupts = <5 IRQ_TYPE_LEVEL_LOW>;
+		pinctrl-names = "default";
+		pinctrl-0 = <&pmic_int>;
+		rockchip,system-power-controller;
+		wakeup-source;
+		#clock-cells = <1>;
+		clock-output-names = "rk808-clkout1", "rk808-clkout2";
+
+		vcc1-supply = <&vcc_sys>;
+		vcc2-supply = <&vcc_sys>;
+		vcc3-supply = <&vcc_sys>;
+		vcc4-supply = <&vcc_sys>;
+		vcc6-supply = <&vcc_sys>;
+		vcc7-supply = <&vcc_sys>;
+		vcc8-supply = <&vcc_io>;
+		vcc9-supply = <&vcc_sys>;
+		vcc10-supply = <&vcc_sys>;
+		vcc11-supply = <&vcc_sys>;
+		vcc12-supply = <&vcc_io>;
+
+		regulators {
+			vdd_cpu: DCDC_REG1 {
+				regulator-always-on;
+				regulator-boot-on;
+				regulator-min-microvolt = <700000>;
+				regulator-max-microvolt = <1500000>;
+				regulator-name = "vdd_cpu";
+				regulator-ramp-delay = <6000>;
+				regulator-state-mem {
+					regulator-off-in-suspend;
+				};
+			};
+
+			vdd_log: DCDC_REG2 {
+				regulator-always-on;
+				regulator-boot-on;
+				regulator-min-microvolt = <700000>;
+				regulator-max-microvolt = <1500000>;
+				regulator-name = "vdd_log";
+				regulator-ramp-delay = <6000>;
+				regulator-state-mem {
+					regulator-on-in-suspend;
+					regulator-suspend-microvolt = <1000000>;
+				};
+			};
+
+			vcc_ddr: DCDC_REG3 {
+				regulator-always-on;
+				regulator-boot-on;
+				regulator-name = "vcc_ddr";
+				regulator-state-mem {
+					regulator-on-in-suspend;
+				};
+			};
+
+			vcc_io: DCDC_REG4 {
+				regulator-always-on;
+				regulator-boot-on;
+				regulator-min-microvolt = <3300000>;
+				regulator-max-microvolt = <3300000>;
+				regulator-name = "vcc_io";
+				regulator-state-mem {
+					regulator-on-in-suspend;
+					regulator-suspend-microvolt = <3300000>;
+				};
+			};
+
+			vcc18_flash: LDO_REG1 {
+				regulator-always-on;
+				regulator-boot-on;
+				regulator-min-microvolt = <1800000>;
+				regulator-max-microvolt = <1800000>;
+				regulator-name = "vcc18_flash";
+				regulator-state-mem {
+					regulator-on-in-suspend;
+					regulator-suspend-microvolt = <1800000>;
+				};
+			};
+
+			vcca_33: LDO_REG2 {
+				regulator-always-on;
+				regulator-boot-on;
+				regulator-min-microvolt = <3300000>;
+				regulator-max-microvolt = <3300000>;
+				regulator-name = "vcca_33";
+				regulator-state-mem {
+					regulator-off-in-suspend;
+				};
+			};
+
+			vdd_10: LDO_REG3 {
+				regulator-always-on;
+				regulator-boot-on;
+				regulator-min-microvolt = <1000000>;
+				regulator-max-microvolt = <1000000>;
+				regulator-name = "vdd_10";
+				regulator-state-mem {
+					regulator-on-in-suspend;
+					regulator-suspend-microvolt = <1000000>;
+				};
+			};
+
+			avdd_33: LDO_REG4 {
+				regulator-always-on;
+				regulator-boot-on;
+				regulator-min-microvolt = <3300000>;
+				regulator-max-microvolt = <3300000>;
+				regulator-name = "avdd_33";
+				regulator-state-mem {
+					regulator-off-in-suspend;
+				};
+			};
+
+			vccio_sd: LDO_REG5 {
+				regulator-always-on;
+				regulator-boot-on;
+				regulator-min-microvolt = <1800000>;
+				regulator-max-microvolt = <3300000>;
+				regulator-name = "vccio_sd";
+				regulator-state-mem {
+					regulator-on-in-suspend;
+					regulator-suspend-microvolt = <3300000>;
+				};
+			};
+
+			vdd10_lcd: LDO_REG6 {
+				regulator-always-on;
+				regulator-boot-on;
+				regulator-min-microvolt = <1000000>;
+				regulator-max-microvolt = <1000000>;
+				regulator-name = "vdd10_lcd";
+				regulator-state-mem {
+					regulator-off-in-suspend;
+				};
+			};
+
+			vcc_18: LDO_REG7 {
+				regulator-always-on;
+				regulator-boot-on;
+				regulator-min-microvolt = <1800000>;
+				regulator-max-microvolt = <1800000>;
+				regulator-name = "vcc_18";
+				regulator-state-mem {
+					regulator-off-in-suspend;
+				};
+			};
+
+			vcc18_lcd: LDO_REG8 {
+				regulator-always-on;
+				regulator-boot-on;
+				regulator-min-microvolt = <1800000>;
+				regulator-max-microvolt = <1800000>;
+				regulator-name = "vcc18_lcd";
+				regulator-state-mem {
+					regulator-off-in-suspend;
+				};
+			};
+
+			vcc_sd: SWITCH_REG1 {
+				regulator-boot-on;
+				regulator-name = "vcc_sd";
+				regulator-state-mem {
+					regulator-off-in-suspend;
+				};
+			};
+
+			vcc33_lcd: SWITCH_REG2 {
+				regulator-boot-on;
+				regulator-name = "vcc33_lcd";
+				regulator-min-microvolt = <3300000>;
+				regulator-max-microvolt = <3300000>;
+				regulator-state-mem {
+					regulator-off-in-suspend;
+				};
+			};
+		};
+	};
+};
+
+&i2c1 {
+	status = "okay";
+
+	accelerometer@18 {
+		compatible = "bosch,bma250";
+		reg = <0x18>;
+		interrupt-parent = <&gpio2>;
+		interrupts = <17 IRQ_TYPE_LEVEL_LOW>;
+	};
+};
+
+&i2c2 {
+	status = "okay";
+	clock-frequency = <200000>;
+
+	gsl1680: touchscreen@40 {
+		compatible = "silead,gsl1680";
+		reg = <0x40>;
+		interrupt-parent = <&gpio3>;
+		interrupts = <28 IRQ_TYPE_EDGE_FALLING>;
+		power-gpios = <&gpio3 15 GPIO_ACTIVE_HIGH>;
+		touchscreen-size-x = <800>;
+		touchscreen-size-y = <1280>;
+		silead,max-fingers = <5>;
+	};
+
+	gt9xx: gt9xx@14 {
+		compatible = "goodix,gt9xx";
+		reg = <0x14>;
+		touch-gpio = <&gpio3 28 IRQ_TYPE_LEVEL_HIGH>;
+		reset-gpio = <&gpio3 15 GPIO_ACTIVE_LOW>;
+		max-x = <1024>;
+		max-y = <600>;
+		tp-size = <910>;
+		tp-supply = <&vcc_io>;
+		status = "okay";
+	};
+};
+
+&i2c3 {
+	status = "okay";
+	clock-frequency = <200000>;
+
+	fm1288: fm1288@60{
+		compatible = "fm1288";
+		reg = <0x60>;
+		pwd-con-gpio = <&gpio0 25 GPIO_ACTIVE_HIGH>;
+		bypass-con-gpio = <&gpio0 28 GPIO_ACTIVE_HIGH>;
+		status = "okay";
+	};
+
+	es8396: es8396@10 {
+		status = "okay";
+		#sound-dai-cells = <0>;
+		compatible = "es8396";
+		reg = <0x10>;
+		clocks = <&cru SCLK_I2S_8CH_OUT>;
+		clock-names = "mclk";
+		spk-con-gpio = <&gpio2 23 GPIO_ACTIVE_HIGH>;
+		lineout-con-gpio = <&gpio0 31 GPIO_ACTIVE_HIGH>;
+	};
+};
+
+&i2c4 {
+	status = "okay";
+};
+
+&i2s_8ch {
+	status = "okay";
+	rockchip,i2s-broken-burst-len;
+	rockchip,playback-channels = <8>;
+	rockchip,capture-channels = <2>;
+	#sound-dai-cells = <0>;
+};
+
+&io_domains {
+	status = "okay";
+	dvp-supply = <&vcc_18>;
+	audio-supply = <&vcc_io>;
+	gpio30-supply = <&vcc_io>;
+	gpio1830-supply = <&vcc_io>;
+	sdcard-supply = <&vccio_sd>;
+	wifi-supply = <&vcc_io>;
+};
+
+&pmu_io_domains {
+	status = "okay";
+	pmu-supply = <&vcc_io>;
+	vop-supply = <&vcca_33>;
+};
+
+&pwm0 {
+	status = "okay";
+};
+
+&pwm1 {
+	status = "okay";
+};
+
+&u2phy {
+	status = "okay";
+
+	u2phy_host: host-port {
+		phy-supply = <&vcc_host>;
+		status = "okay";
+	};
+};
+
+&usb_host0_ehci {
+	status = "okay";
+};
+
+&usb_host0_ohci {
+	status = "okay";
+};
+
+&dmc {
+	vop-dclk-mode = <1>;
+	center-supply = <&vdd_log>;
+	status = "okay";
+};
+
+&dwc_control_usb {
+	otg_drv_gpio = <&gpio0 4 GPIO_ACTIVE_LOW>;
+};
+
+&dsi {
+	status = "disabled";
+
+	panel@0 {
+		compatible = "kingdisplay,kd080d34-40ni-b6", "simple-panel-dsi";
+		reg = <0>;
+		power-supply = <&vcc33_lcd>;
+		backlight = <&backlight>;
+		reset-gpios = <&gpio3 13 GPIO_ACTIVE_LOW>;
+		prepare-delay-ms = <20>;
+		reset-delay-ms = <20>;
+		init-delay-ms = <20>;
+		enable-delay-ms = <20>;
+		disable-delay-ms = <20>;
+		unprepare-delay-ms = <20>;
+
+		dsi,flags = <(MIPI_DSI_MODE_VIDEO | MIPI_DSI_MODE_VIDEO_BURST |
+			      MIPI_DSI_MODE_LPM | MIPI_DSI_MODE_EOT_PACKET)>;
+		dsi,format = <MIPI_DSI_FMT_RGB888>;
+		dsi,lanes = <4>;
+
+		panel-init-sequence = [
+			15 00 02 e0 00
+			15 00 02 e1 93
+			15 00 02 e2 65
+			15 00 02 e3 f8
+			15 00 02 80 03
+			15 00 02 e0 04
+			15 00 02 2d 03
+			15 00 02 e0 01
+			15 00 02 00 00
+			15 00 02 01 6f
+			15 00 02 03 00
+			15 00 02 04 6f
+			15 00 02 17 00
+			15 00 02 18 d7
+			15 00 02 19 05
+			15 00 02 1a 00
+			15 00 02 1b d7
+			15 00 02 1c 05
+			15 00 02 1f 79
+			15 00 02 20 2d
+			15 00 02 21 2d
+			15 00 02 22 4f
+			15 00 02 26 f1
+			15 00 02 37 09
+			15 00 02 38 04
+			15 00 02 39 08
+			15 00 02 3a 12
+			15 00 02 3c 78
+			15 00 02 3e 80
+			15 00 02 3f 80
+			15 00 02 40 06
+			15 00 02 41 a0
+			15 00 02 55 0f
+			15 00 02 56 01
+			15 00 02 57 a8
+			15 00 02 58 0a
+			15 00 02 59 2a
+			15 00 02 5a 37
+			15 00 02 5b 19
+			15 00 02 5d 70
+			15 00 02 5e 50
+			15 00 02 5f 3f
+			15 00 02 60 31
+			15 00 02 61 2d
+			15 00 02 62 1d
+			15 00 02 63 22
+			15 00 02 64 0c
+			15 00 02 65 25
+			15 00 02 66 24
+			15 00 02 67 24
+			15 00 02 68 41
+			15 00 02 69 2f
+			15 00 02 6a 36
+			15 00 02 6b 28
+			15 00 02 6c 26
+			15 00 02 6d 1c
+			15 00 02 6e 08
+			15 00 02 6f 02
+			15 00 02 70 70
+			15 00 02 71 50
+			15 00 02 72 3f
+			15 00 02 73 31
+			15 00 02 74 2d
+			15 00 02 75 1d
+			15 00 02 76 22
+			15 00 02 77 0c
+			15 00 02 78 25
+			15 00 02 79 24
+			15 00 02 7a 24
+			15 00 02 7b 41
+			15 00 02 7c 2f
+			15 00 02 7d 36
+			15 00 02 7e 28
+			15 00 02 7f 26
+			15 00 02 80 1c
+			15 00 02 81 08
+			15 00 02 82 02
+			15 00 02 e0 02
+			15 00 02 00 00
+			15 00 02 01 04
+			15 00 02 02 06
+			15 00 02 03 08
+			15 00 02 04 0a
+			15 00 02 05 0c
+			15 00 02 06 0e
+			15 00 02 07 17
+			15 00 02 08 37
+			15 00 02 09 1f
+			15 00 02 0a 10
+			15 00 02 0b 1f
+			15 00 02 0c 1f
+			15 00 02 0d 1f
+			15 00 02 0e 1f
+			15 00 02 0f 1f
+			15 00 02 10 1f
+			15 00 02 11 1f
+			15 00 02 12 1f
+			15 00 02 13 12
+			15 00 02 14 1f
+			15 00 02 15 1f
+			15 00 02 16 01
+			15 00 02 17 05
+			15 00 02 18 07
+			15 00 02 19 09
+			15 00 02 1a 0b
+			15 00 02 1b 0d
+			15 00 02 1c 0f
+			15 00 02 1d 17
+			15 00 02 1e 37
+			15 00 02 1f 1f
+			15 00 02 20 11
+			15 00 02 21 1f
+			15 00 02 22 1f
+			15 00 02 23 1f
+			15 00 02 24 1f
+			15 00 02 25 1f
+			15 00 02 26 1f
+			15 00 02 27 1f
+			15 00 02 28 1f
+			15 00 02 29 13
+			15 00 02 2a 1f
+			15 00 02 2b 1f
+			15 00 02 2c 11
+			15 00 02 2d 0f
+			15 00 02 2e 00
+			15 00 02 2f 0b
+			15 00 02 30 09
+			15 00 02 31 07
+			15 00 02 32 05
+			15 00 02 33 37
+			15 00 02 34 17
+			15 00 02 35 1f
+			15 00 02 36 01
+			15 00 02 37 1f
+			15 00 02 38 1f
+			15 00 02 39 1f
+			15 00 02 3a 1f
+			15 00 02 3b 1f
+			15 00 02 3c 1f
+			15 00 02 3d 1f
+			15 00 02 3e 1f
+			15 00 02 3f 13
+			15 00 02 40 1f
+			15 00 02 41 1f
+			15 00 02 42 10
+			15 00 02 43 0e
+			15 00 02 44 0c
+			15 00 02 45 0a
+			15 00 02 46 08
+			15 00 02 47 06
+			15 00 02 48 04
+			15 00 02 49 37
+			15 00 02 4a 17
+			15 00 02 4b 1f
+			15 00 02 4c 00
+			15 00 02 4d 1f
+			15 00 02 4e 1f
+			15 00 02 4f 1f
+			15 00 02 50 1f
+			15 00 02 51 1f
+			15 00 02 52 1f
+			15 00 02 53 1f
+			15 00 02 54 1f
+			15 00 02 55 12
+			15 00 02 56 1f
+			15 00 02 57 1f
+			15 00 02 58 10
+			15 00 02 59 00
+			15 00 02 5a 00
+			15 00 02 5b 10
+			15 00 02 5c 07
+			15 00 02 5d 30
+			15 00 02 5e 00
+			15 00 02 5f 00
+			15 00 02 60 30
+			15 00 02 61 03
+			15 00 02 62 04
+			15 00 02 63 03
+			15 00 02 64 6a
+			15 00 02 65 75
+			15 00 02 66 0d
+			15 00 02 67 b3
+			15 00 02 68 09
+			15 00 02 69 06
+			15 00 02 6a 6a
+			15 00 02 6b 04
+			15 00 02 6c 00
+			15 00 02 6d 04
+			15 00 02 6e 04
+			15 00 02 6f 88
+			15 00 02 70 00
+			15 00 02 71 00
+			15 00 02 72 06
+			15 00 02 73 7b
+			15 00 02 74 00
+			15 00 02 75 bc
+			15 00 02 76 00
+			15 00 02 77 0d
+			15 00 02 78 2c
+			15 00 02 79 00
+			15 00 02 7a 00
+			15 00 02 7b 00
+			15 00 02 7c 00
+			15 00 02 7d 03
+			15 00 02 7e 7b
+			15 00 02 e0 04
+			15 00 02 2b 2b
+			15 00 02 2e 44
+			15 00 02 e0 00
+			15 00 02 e6 02
+			15 00 02 e7 02
+			05 78 01 11
+			05 14 01 29
+		];
+
+		panel-exit-sequence = [
+			05 00 01 28
+			05 78 01 10
+		];
+
+		display-timings {
+			timing {
+				clock-frequency = <74000000>;
+				hactive = <800>;
+				hfront-porch = <68>;
+				hsync-len = <18>;
+				hback-porch = <68>;
+				vactive = <1280>;
+				vfront-porch = <20>;
+				vsync-len = <4>;
+				vback-porch = <10>;
+				hsync-active = <0>;
+				vsync-active = <0>;
+				de-active = <0>;
+				pixelclk-active = <0>;
+			};
+		};
+	};
+};
+
+&mipi_dphy {
+	status = "disabled";
+};
+
+&route_dsi {
+	status = "disabled";
+};
+
+&lvds {
+	status = "okay";
+
+	ports {
+		port@1 {
+			reg = <1>;
+
+			lvds_out_panel: endpoint {
+				remote-endpoint = <&panel_in_lvds>;
+			};
+		};
+	};
+};
+
+&route_lvds {
+	status = "okay";
+};
+
+&mailbox {
+	status = "okay";
+};
+
+&mailbox_scpi {
+	status = "okay";
+};
+
+&saradc {
+	status = "okay";
+};
+
+&thermal_zones {
+	status = "okay";
+};
+
+&tsadc {
+	tsadc-supply = <&vdd_cpu>;
+	status = "okay";
+};
+
+&uart2 {
+	status = "disabled";
+};
+
+&uart4 {
+	status = "okay";
+};
+
+&pinctrl {
+	pmic {
+		pmic_int: pmic-int {
+			rockchip,pins = <RK_GPIO0 5 RK_FUNC_GPIO &pcfg_pull_up>;
+		};
+	};
+
+	dc_det {
+		dc_irq_gpio: dc-irq-gpio {
+			rockchip,pins = <0 17 RK_FUNC_GPIO &pcfg_pull_up>;
+		};
+	};
+
+	sdio-pwrseq {
+		wifi_enable_h: wifi-enable-h {
+			rockchip,pins = <3 5 RK_FUNC_GPIO &pcfg_pull_none>;
+		};
+	};
+
+	usb2 {
+		host_vbus_drv: host-vbus-drv {
+			rockchip,pins = <RK_GPIO0 3 RK_FUNC_GPIO &pcfg_pull_none>;
+		};
+	};
+
+	wireless-bluetooth {
+		uart0_rts_gpio: uart0-rts-gpio {
+			rockchip,pins = <2 27 RK_FUNC_GPIO &pcfg_pull_none>;
+		};
+	};
+};
-- 
2.35.3

