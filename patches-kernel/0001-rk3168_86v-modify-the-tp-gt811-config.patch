From b6a097847ab6f041c156607ccc2366e428be7c72 Mon Sep 17 00:00:00 2001
From: hjc <hjc@rock-chips.com>
Date: Mon, 4 Mar 2013 11:35:06 +0800
Subject: [PATCH] rk3168_86v: modify the tp gt811 config

---
 drivers/input/touchscreen/86v_gt811_ts.c | 19 +++++++++++++------
 1 file changed, 13 insertions(+), 6 deletions(-)

diff --git a/drivers/input/touchscreen/86v_gt811_ts.c b/drivers/input/touchscreen/86v_gt811_ts.c
index cd72af55546d..5e78b9533293 100755
--- a/drivers/input/touchscreen/86v_gt811_ts.c
+++ b/drivers/input/touchscreen/86v_gt811_ts.c
@@ -274,7 +274,7 @@ static int goodix_init_panel(struct gt811_ts_data *ts)
 	 0x00,0x23,0x14,0x05,0x06,0x00,0x00,0x00,0x00,0x00,
 	 0x14,0x10,0xC6,0x02,0x00,0x40,0x17,0x88,0x20,0x00,
 	 0x60,0x70,0x80,0x90,0x0D,0x40,0x30,0x25,0x20,0x00,
-	 0x00,0x00,0x00,0x00,0x00,0x01*/
+	 0x00,0x00,0x00,0x00,0x00,0x01*//*
 	   0x12,0x10,0x0E,0x0C,0x0A,0x08,0x06,0x04,0x02,0x00,
 	   0x02,0x22,0x12,0x22,0x22,0x22,0x32,0x22,0x42,0x22,
 	   0x52,0x22,0x62,0x22,0x72,0x22,0x83,0x22,0x92,0x22,
@@ -285,6 +285,17 @@ static int goodix_init_panel(struct gt811_ts_data *ts)
 	   0x00,0x26,0x14,0x02,0x0A,0x00,0x00,0x00,0x00,0x00,
 	   0x14,0x10,0x30,0x02,0x00,0x00,0x00,0x00,0x00,0x00,
 	   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
+	   0x00,0x00,0x00,0x00,0x00,0x01*/
+	   0x00,0x02,0x04,0x06,0x08,0x0A,0x0C,0x0E,0x10,0x12,
+	   0x03,0x33,0x13,0x33,0x23,0x33,0x33,0x33,0x43,0x33,
+	   0x53,0x33,0x63,0x33,0x73,0x33,0x83,0x33,0x93,0x33,
+	   0xA3,0x33,0xB3,0x33,0xC3,0x33,0xD3,0x33,0xE3,0x33,
+	   0xF0,0x00,0x0B,0x03,0x48,0x48,0x48,0x50,0x50,0x50,
+	   0x0F,0x0F,0x09,0x40,0x25,0x0C,0x03,0x00,0x05,0xE0,
+	   0x01,0x20,0x03,0x00,0x00,0x35,0x31,0x32,0x2E,0x00,
+	   0x00,0x2F,0x14,0x05,0x0F,0x00,0x00,0x00,0x00,0x00,
+	   0x14,0x10,0x50,0x03,0x00,0x00,0x00,0x00,0x00,0x00,
+	   0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 	   0x00,0x00,0x00,0x00,0x00,0x01
     
     };
@@ -546,7 +557,7 @@ static void goodix_ts_work_func(struct work_struct *work)
 			//printk("DOWN\n")
 ; ;
 			input_report_abs(ts->input_dev, ABS_MT_POSITION_X, input_y);
-			input_report_abs(ts->input_dev, ABS_MT_POSITION_Y, TOUCH_MAX_WIDTH-input_x);			
+			input_report_abs(ts->input_dev, ABS_MT_POSITION_Y, input_x);			
 			input_report_abs(ts->input_dev, ABS_MT_TOUCH_MAJOR, input_w);
 			//input_report_abs(ts->input_dev, ABS_MT_WIDTH_MAJOR, input_w);
 			//input_report_abs(ts->input_dev, ABS_MT_TRACKING_ID, track_id[count]);
@@ -839,11 +850,7 @@ static int goodix_ts_probe(struct i2c_client *client, const struct i2c_device_id
 	input_mt_init_slots(ts->input_dev, ts->max_touch_num);
 	input_set_abs_params(ts->input_dev, ABS_MT_TOUCH_MAJOR, 0, 255, 0, 0);
 	input_set_abs_params(ts->input_dev, ABS_MT_POSITION_X, 0, ts->abs_x_max, 0, 0);
-#ifdef CONFIG_MACH_RK3168_86V_OLD
-	input_set_abs_params(ts->input_dev, ABS_MT_POSITION_Y, 0, 415, 0, 0);	
-#else
 	input_set_abs_params(ts->input_dev, ABS_MT_POSITION_Y, 0, ts->abs_y_max, 0, 0);
-#endif
 	//printk("\n\nhjc:%s,x_max=%d,y_max=%d\n",__func__,ts->abs_x_max,ts->abs_y_max);
 	
 	
-- 
2.35.3

